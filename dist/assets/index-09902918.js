(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ph(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Lu={exports:{}},Js={},Au={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var br=Symbol.for("react.element"),Ch=Symbol.for("react.portal"),Th=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),bh=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Lh=Symbol.for("react.memo"),Ah=Symbol.for("react.lazy"),ia=Symbol.iterator;function Dh(t){return t===null||typeof t!="object"?null:(t=ia&&t[ia]||t["@@iterator"],typeof t=="function"?t:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uu=Object.assign,Mu={};function Dn(t,e,n){this.props=t,this.context=e,this.refs=Mu,this.updater=n||Du}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zu(){}zu.prototype=Dn.prototype;function ol(t,e,n){this.props=t,this.context=e,this.refs=Mu,this.updater=n||Du}var ll=ol.prototype=new zu;ll.constructor=ol;Uu(ll,Dn.prototype);ll.isPureReactComponent=!0;var oa=Array.isArray,Fu=Object.prototype.hasOwnProperty,al={current:null},Bu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fu.call(e,r)&&!Bu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:br,type:t,key:i,ref:o,props:s,_owner:al.current}}function Uh(t,e){return{$$typeof:br,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ul(t){return typeof t=="object"&&t!==null&&t.$$typeof===br}function Mh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var la=/\/+/g;function ki(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mh(""+t.key):e.toString(36)}function cs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case br:case Ch:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ki(o,0):r,oa(s)?(n="",t!=null&&(n=t.replace(la,"$&/")+"/"),cs(s,e,n,"",function(u){return u})):s!=null&&(ul(s)&&(s=Uh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(la,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ki(i,l);o+=cs(i,e,n,a,s)}else if(a=Dh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ki(i,l++),o+=cs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Br(t,e,n){if(t==null)return t;var r=[],s=0;return cs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fe={current:null},ds={transition:null},Fh={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:ds,ReactCurrentOwner:al};function Hu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Br,forEach:function(t,e,n){Br(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Br(t,function(){e++}),e},toArray:function(t){return Br(t,function(e){return e})||[]},only:function(t){if(!ul(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Dn;L.Fragment=Th;L.Profiler=Oh;L.PureComponent=ol;L.StrictMode=Nh;L.Suspense=Ih;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fh;L.act=Hu;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=al.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Fu.call(e,a)&&!Bu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:br,type:t.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:bh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rh,_context:t},t.Consumer=t};L.createElement=Wu;L.createFactory=function(t){var e=Wu.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:$h,render:t}};L.isValidElement=ul;L.lazy=function(t){return{$$typeof:Ah,_payload:{_status:-1,_result:t},_init:zh}};L.memo=function(t,e){return{$$typeof:Lh,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=ds.transition;ds.transition={};try{t()}finally{ds.transition=e}};L.unstable_act=Hu;L.useCallback=function(t,e){return fe.current.useCallback(t,e)};L.useContext=function(t){return fe.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return fe.current.useDeferredValue(t)};L.useEffect=function(t,e){return fe.current.useEffect(t,e)};L.useId=function(){return fe.current.useId()};L.useImperativeHandle=function(t,e,n){return fe.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return fe.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return fe.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return fe.current.useMemo(t,e)};L.useReducer=function(t,e,n){return fe.current.useReducer(t,e,n)};L.useRef=function(t){return fe.current.useRef(t)};L.useState=function(t){return fe.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return fe.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return fe.current.useTransition()};L.version="18.3.1";Au.exports=L;var ge=Au.exports;const Bh=jh(ge);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=ge,Hh=Symbol.for("react.element"),Vh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Kh=Wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function Vu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qh.call(e,r)&&!Gh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hh,type:t,key:i,ref:o,props:s,_owner:Kh.current}}Js.Fragment=Vh;Js.jsx=Vu;Js.jsxs=Vu;Lu.exports=Js;var d=Lu.exports,eo={},qu={exports:{}},Te={},Ku={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,b){var $=C.length;C.push(b);e:for(;0<$;){var K=$-1>>>1,X=C[K];if(0<s(X,b))C[K]=b,C[$]=X,$=K;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var b=C[0],$=C.pop();if($!==b){C[0]=$;e:for(var K=0,X=C.length,zr=X>>>1;K<zr;){var Lt=2*(K+1)-1,xi=C[Lt],At=Lt+1,Fr=C[At];if(0>s(xi,$))At<X&&0>s(Fr,xi)?(C[K]=Fr,C[At]=$,K=At):(C[K]=xi,C[Lt]=$,K=Lt);else if(At<X&&0>s(Fr,$))C[K]=Fr,C[At]=$,K=At;else break e}}return b}function s(C,b){var $=C.sortIndex-b.sortIndex;return $!==0?$:C.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,v=!1,w=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=C)r(u),b.sortIndex=b.expirationTime,e(a,b);else break;b=n(u)}}function y(C){if(_=!1,m(C),!w)if(n(a)!==null)w=!0,wi(S);else{var b=n(u);b!==null&&_i(y,b.startTime-C)}}function S(C,b){w=!1,_&&(_=!1,g(N),N=-1),v=!0;var $=f;try{for(m(b),h=n(a);h!==null&&(!(h.expirationTime>b)||C&&!ie());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var X=K(h.expirationTime<=b);b=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(a)&&r(a),m(b)}else r(a);h=n(a)}if(h!==null)var zr=!0;else{var Lt=n(u);Lt!==null&&_i(y,Lt.startTime-b),zr=!1}return zr}finally{h=null,f=$,v=!1}}var x=!1,E=null,N=-1,T=5,O=-1;function ie(){return!(t.unstable_now()-O<T)}function De(){if(E!==null){var C=t.unstable_now();O=C;var b=!0;try{b=E(!0,C)}finally{b?Xe():(x=!1,E=null)}}else x=!1}var Xe;if(typeof p=="function")Xe=function(){p(De)};else if(typeof MessageChannel<"u"){var tn=new MessageChannel,Eh=tn.port2;tn.port1.onmessage=De,Xe=function(){Eh.postMessage(null)}}else Xe=function(){j(De,0)};function wi(C){E=C,x||(x=!0,Xe())}function _i(C,b){N=j(function(){C(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,wi(S))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var $=f;f=b;try{return C()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,b){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var $=f;f=C;try{return b()}finally{f=$}},t.unstable_scheduleCallback=function(C,b,$){var K=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,C={id:c++,callback:b,priorityLevel:C,startTime:$,expirationTime:X,sortIndex:-1},$>K?(C.sortIndex=$,e(u,C),n(a)===null&&C===n(u)&&(_?(g(N),N=-1):_=!0,_i(y,$-K))):(C.sortIndex=X,e(a,C),w||v||(w=!0,wi(S))),C},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(C){var b=f;return function(){var $=f;f=b;try{return C.apply(this,arguments)}finally{f=$}}}})(Gu);Ku.exports=Gu;var Qh=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=ge,Ce=Qh;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qu=new Set,pr={};function Xt(t,e){Nn(t,e),Nn(t+"Capture",e)}function Nn(t,e){for(pr[t]=e,t=0;t<e.length;t++)Qu.add(e[t])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=Object.prototype.hasOwnProperty,Yh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aa={},ua={};function Xh(t){return to.call(ua,t)?!0:to.call(aa,t)?!1:Yh.test(t)?ua[t]=!0:(aa[t]=!0,!1)}function Zh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ef(t,e,n,r){if(e===null||typeof e>"u"||Zh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){se[t]=new pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];se[e]=new pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){se[t]=new pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){se[t]=new pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){se[t]=new pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){se[t]=new pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){se[t]=new pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){se[t]=new pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){se[t]=new pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var cl=/[\-:]([a-z])/g;function dl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cl,dl);se[e]=new pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cl,dl);se[e]=new pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cl,dl);se[e]=new pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){se[t]=new pe(t,1,!1,t.toLowerCase(),null,!1,!1)});se.xlinkHref=new pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){se[t]=new pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function hl(t,e,n,r){var s=se.hasOwnProperty(e)?se[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ef(e,n,s,r)&&(n=null),r||s===null?Xh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ct=Jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wr=Symbol.for("react.element"),cn=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),fl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),pl=Symbol.for("react.forward_ref"),ro=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),ca=Symbol.iterator;function Bn(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var V=Object.assign,Si;function Yn(t){if(Si===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Si=e&&e[1]||""}return`
`+Si+t}var Ei=!1;function ji(t,e){if(!t||Ei)return"";Ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ei=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yn(t):""}function tf(t){switch(t.tag){case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return t=ji(t.type,!1),t;case 11:return t=ji(t.type.render,!1),t;case 1:return t=ji(t.type,!0),t;default:return""}}function io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dn:return"Fragment";case cn:return"Portal";case no:return"Profiler";case fl:return"StrictMode";case ro:return"Suspense";case so:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yu:return(t.displayName||"Context")+".Consumer";case Ju:return(t._context.displayName||"Context")+".Provider";case pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ml:return e=t.displayName||null,e!==null?e:io(t.type)||"Memo";case ft:e=t._payload,t=t._init;try{return io(t(e))}catch{}}return null}function nf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(e);case 8:return e===fl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rf(t){var e=Zu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hr(t){t._valueTracker||(t._valueTracker=rf(t))}function ec(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oo(t,e){var n=e.checked;return V({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function da(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Nt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tc(t,e){e=e.checked,e!=null&&hl(t,"checked",e,!1)}function lo(t,e){tc(t,e);var n=Nt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ao(t,e.type,n):e.hasOwnProperty("defaultValue")&&ao(t,e.type,Nt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ha(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ao(t,e,n){(e!=="number"||Ss(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Xn=Array.isArray;function kn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Nt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function uo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return V({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Xn(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nt(n)}}function nc(t,e){var n=Nt(e.value),r=Nt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vr,sc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sf=["Webkit","ms","Moz","O"];Object.keys(nr).forEach(function(t){sf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nr[e]=nr[t]})});function ic(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nr.hasOwnProperty(t)&&nr[t]?(""+e).trim():e+"px"}function oc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ic(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var of=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(t,e){if(e){if(of[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function fo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mo=null,Sn=null,En=null;function ma(t){if(t=Lr(t)){if(typeof mo!="function")throw Error(k(280));var e=t.stateNode;e&&(e=ti(e),mo(t.stateNode,t.type,e))}}function lc(t){Sn?En?En.push(t):En=[t]:Sn=t}function ac(){if(Sn){var t=Sn,e=En;if(En=Sn=null,ma(t),e)for(t=0;t<e.length;t++)ma(e[t])}}function uc(t,e){return t(e)}function cc(){}var Pi=!1;function dc(t,e,n){if(Pi)return t(e,n);Pi=!0;try{return uc(t,e,n)}finally{Pi=!1,(Sn!==null||En!==null)&&(cc(),ac())}}function gr(t,e){var n=t.stateNode;if(n===null)return null;var r=ti(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var go=!1;if(ot)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){go=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{go=!1}function lf(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var rr=!1,Es=null,js=!1,vo=null,af={onError:function(t){rr=!0,Es=t}};function uf(t,e,n,r,s,i,o,l,a){rr=!1,Es=null,lf.apply(af,arguments)}function cf(t,e,n,r,s,i,o,l,a){if(uf.apply(this,arguments),rr){if(rr){var u=Es;rr=!1,Es=null}else throw Error(k(198));js||(js=!0,vo=u)}}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ga(t){if(Zt(t)!==t)throw Error(k(188))}function df(t){var e=t.alternate;if(!e){if(e=Zt(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ga(s),t;if(i===r)return ga(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function fc(t){return t=df(t),t!==null?pc(t):null}function pc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pc(t);if(e!==null)return e;t=t.sibling}return null}var mc=Ce.unstable_scheduleCallback,va=Ce.unstable_cancelCallback,hf=Ce.unstable_shouldYield,ff=Ce.unstable_requestPaint,G=Ce.unstable_now,pf=Ce.unstable_getCurrentPriorityLevel,vl=Ce.unstable_ImmediatePriority,gc=Ce.unstable_UserBlockingPriority,Ps=Ce.unstable_NormalPriority,mf=Ce.unstable_LowPriority,vc=Ce.unstable_IdlePriority,Ys=null,Je=null;function gf(t){if(Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Ys,t,void 0,(t.current.flags&128)===128)}catch{}}var He=Math.clz32?Math.clz32:wf,vf=Math.log,yf=Math.LN2;function wf(t){return t>>>=0,t===0?32:31-(vf(t)/yf|0)|0}var qr=64,Kr=4194304;function Zn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Zn(l):(i&=o,i!==0&&(r=Zn(i)))}else o=n&~s,o!==0?r=Zn(o):i!==0&&(r=Zn(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-He(e),s=1<<n,r|=t[n],e&=~s;return r}function _f(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-He(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=_f(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yc(){var t=qr;return qr<<=1,!(qr&4194240)&&(qr=64),t}function Ci(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $r(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-He(e),t[e]=n}function kf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-He(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function yl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-He(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var D=0;function wc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _c,wl,xc,kc,Sc,wo=!1,Gr=[],xt=null,kt=null,St=null,vr=new Map,yr=new Map,gt=[],Sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(t,e){switch(t){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":vr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yr.delete(e.pointerId)}}function Hn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lr(e),e!==null&&wl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ef(t,e,n,r,s){switch(e){case"focusin":return xt=Hn(xt,t,e,n,r,s),!0;case"dragenter":return kt=Hn(kt,t,e,n,r,s),!0;case"mouseover":return St=Hn(St,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vr.set(i,Hn(vr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yr.set(i,Hn(yr.get(i)||null,t,e,n,r,s)),!0}return!1}function Ec(t){var e=Bt(t.target);if(e!==null){var n=Zt(e);if(n!==null){if(e=n.tag,e===13){if(e=hc(n),e!==null){t.blockedOn=e,Sc(t.priority,function(){xc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_o(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);po=r,n.target.dispatchEvent(r),po=null}else return e=Lr(n),e!==null&&wl(e),t.blockedOn=n,!1;e.shift()}return!0}function wa(t,e,n){hs(t)&&n.delete(e)}function jf(){wo=!1,xt!==null&&hs(xt)&&(xt=null),kt!==null&&hs(kt)&&(kt=null),St!==null&&hs(St)&&(St=null),vr.forEach(wa),yr.forEach(wa)}function Vn(t,e){t.blockedOn===e&&(t.blockedOn=null,wo||(wo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,jf)))}function wr(t){function e(s){return Vn(s,t)}if(0<Gr.length){Vn(Gr[0],t);for(var n=1;n<Gr.length;n++){var r=Gr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xt!==null&&Vn(xt,t),kt!==null&&Vn(kt,t),St!==null&&Vn(St,t),vr.forEach(e),yr.forEach(e),n=0;n<gt.length;n++)r=gt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gt.length&&(n=gt[0],n.blockedOn===null);)Ec(n),n.blockedOn===null&&gt.shift()}var jn=ct.ReactCurrentBatchConfig,Ts=!0;function Pf(t,e,n,r){var s=D,i=jn.transition;jn.transition=null;try{D=1,_l(t,e,n,r)}finally{D=s,jn.transition=i}}function Cf(t,e,n,r){var s=D,i=jn.transition;jn.transition=null;try{D=4,_l(t,e,n,r)}finally{D=s,jn.transition=i}}function _l(t,e,n,r){if(Ts){var s=_o(t,e,n,r);if(s===null)Di(t,e,r,Ns,n),ya(t,r);else if(Ef(s,t,e,n,r))r.stopPropagation();else if(ya(t,r),e&4&&-1<Sf.indexOf(t)){for(;s!==null;){var i=Lr(s);if(i!==null&&_c(i),i=_o(t,e,n,r),i===null&&Di(t,e,r,Ns,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Di(t,e,r,null,n)}}var Ns=null;function _o(t,e,n,r){if(Ns=null,t=gl(r),t=Bt(t),t!==null)if(e=Zt(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ns=t,null}function jc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pf()){case vl:return 1;case gc:return 4;case Ps:case mf:return 16;case vc:return 536870912;default:return 16}default:return 16}}var wt=null,xl=null,fs=null;function Pc(){if(fs)return fs;var t,e=xl,n=e.length,r,s="value"in wt?wt.value:wt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return fs=s.slice(t,1<r?1-r:void 0)}function ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qr(){return!0}function _a(){return!1}function Ne(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qr:_a,this.isPropagationStopped=_a,this}return V(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),e}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Ne(Un),Ir=V({},Un,{view:0,detail:0}),Tf=Ne(Ir),Ti,Ni,qn,Xs=V({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(Ti=t.screenX-qn.screenX,Ni=t.screenY-qn.screenY):Ni=Ti=0,qn=t),Ti)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),xa=Ne(Xs),Nf=V({},Xs,{dataTransfer:0}),Of=Ne(Nf),Rf=V({},Ir,{relatedTarget:0}),Oi=Ne(Rf),bf=V({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),$f=Ne(bf),If=V({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lf=Ne(If),Af=V({},Un,{data:0}),ka=Ne(Af),Df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mf[t])?!!e[t]:!1}function Sl(){return zf}var Ff=V({},Ir,{key:function(t){if(t.key){var e=Df[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sl,charCode:function(t){return t.type==="keypress"?ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bf=Ne(Ff),Wf=V({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Ne(Wf),Hf=V({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sl}),Vf=Ne(Hf),qf=V({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=Ne(qf),Gf=V({},Xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=Ne(Gf),Jf=[9,13,27,32],El=ot&&"CompositionEvent"in window,sr=null;ot&&"documentMode"in document&&(sr=document.documentMode);var Yf=ot&&"TextEvent"in window&&!sr,Cc=ot&&(!El||sr&&8<sr&&11>=sr),Ea=String.fromCharCode(32),ja=!1;function Tc(t,e){switch(t){case"keyup":return Jf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function Xf(t,e){switch(t){case"compositionend":return Nc(e);case"keypress":return e.which!==32?null:(ja=!0,Ea);case"textInput":return t=e.data,t===Ea&&ja?null:t;default:return null}}function Zf(t,e){if(hn)return t==="compositionend"||!El&&Tc(t,e)?(t=Pc(),fs=xl=wt=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cc&&e.locale!=="ko"?null:e.data;default:return null}}var ep={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ep[t.type]:e==="textarea"}function Oc(t,e,n,r){lc(r),e=Os(e,"onChange"),0<e.length&&(n=new kl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ir=null,_r=null;function tp(t){Fc(t,0)}function Zs(t){var e=mn(t);if(ec(e))return t}function np(t,e){if(t==="change")return e}var Rc=!1;if(ot){var Ri;if(ot){var bi="oninput"in document;if(!bi){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),bi=typeof Ca.oninput=="function"}Ri=bi}else Ri=!1;Rc=Ri&&(!document.documentMode||9<document.documentMode)}function Ta(){ir&&(ir.detachEvent("onpropertychange",bc),_r=ir=null)}function bc(t){if(t.propertyName==="value"&&Zs(_r)){var e=[];Oc(e,_r,t,gl(t)),dc(tp,e)}}function rp(t,e,n){t==="focusin"?(Ta(),ir=e,_r=n,ir.attachEvent("onpropertychange",bc)):t==="focusout"&&Ta()}function sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zs(_r)}function ip(t,e){if(t==="click")return Zs(e)}function op(t,e){if(t==="input"||t==="change")return Zs(e)}function lp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:lp;function xr(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!to.call(e,s)||!qe(t[s],e[s]))return!1}return!0}function Na(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oa(t,e){var n=Na(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Na(n)}}function $c(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$c(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ic(){for(var t=window,e=Ss();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ss(t.document)}return e}function jl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ap(t){var e=Ic(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$c(n.ownerDocument.documentElement,n)){if(r!==null&&jl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Oa(n,i);var o=Oa(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var up=ot&&"documentMode"in document&&11>=document.documentMode,fn=null,xo=null,or=null,ko=!1;function Ra(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ko||fn==null||fn!==Ss(r)||(r=fn,"selectionStart"in r&&jl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),or&&xr(or,r)||(or=r,r=Os(xo,"onSelect"),0<r.length&&(e=new kl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fn)))}function Jr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pn={animationend:Jr("Animation","AnimationEnd"),animationiteration:Jr("Animation","AnimationIteration"),animationstart:Jr("Animation","AnimationStart"),transitionend:Jr("Transition","TransitionEnd")},$i={},Lc={};ot&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function ei(t){if($i[t])return $i[t];if(!pn[t])return t;var e=pn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lc)return $i[t]=e[n];return t}var Ac=ei("animationend"),Dc=ei("animationiteration"),Uc=ei("animationstart"),Mc=ei("transitionend"),zc=new Map,ba="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(t,e){zc.set(t,e),Xt(e,[t])}for(var Ii=0;Ii<ba.length;Ii++){var Li=ba[Ii],cp=Li.toLowerCase(),dp=Li[0].toUpperCase()+Li.slice(1);Rt(cp,"on"+dp)}Rt(Ac,"onAnimationEnd");Rt(Dc,"onAnimationIteration");Rt(Uc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Mc,"onTransitionEnd");Nn("onMouseEnter",["mouseout","mouseover"]);Nn("onMouseLeave",["mouseout","mouseover"]);Nn("onPointerEnter",["pointerout","pointerover"]);Nn("onPointerLeave",["pointerout","pointerover"]);Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hp=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function $a(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cf(r,e,void 0,t),t.currentTarget=null}function Fc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;$a(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;$a(s,l,u),i=a}}}if(js)throw t=vo,js=!1,vo=null,t}function z(t,e){var n=e[Co];n===void 0&&(n=e[Co]=new Set);var r=t+"__bubble";n.has(r)||(Bc(e,t,2,!1),n.add(r))}function Ai(t,e,n){var r=0;e&&(r|=4),Bc(n,t,r,e)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function kr(t){if(!t[Yr]){t[Yr]=!0,Qu.forEach(function(n){n!=="selectionchange"&&(hp.has(n)||Ai(n,!1,t),Ai(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yr]||(e[Yr]=!0,Ai("selectionchange",!1,e))}}function Bc(t,e,n,r){switch(jc(e)){case 1:var s=Pf;break;case 4:s=Cf;break;default:s=_l}n=s.bind(null,e,n,t),s=void 0,!go||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Di(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Bt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dc(function(){var u=i,c=gl(n),h=[];e:{var f=zc.get(t);if(f!==void 0){var v=kl,w=t;switch(t){case"keypress":if(ps(n)===0)break e;case"keydown":case"keyup":v=Bf;break;case"focusin":w="focus",v=Oi;break;case"focusout":w="blur",v=Oi;break;case"beforeblur":case"afterblur":v=Oi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Vf;break;case Ac:case Dc:case Uc:v=$f;break;case Mc:v=Kf;break;case"scroll":v=Tf;break;case"wheel":v=Qf;break;case"copy":case"cut":case"paste":v=Lf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sa}var _=(e&4)!==0,j=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,m;p!==null;){m=p;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=gr(p,g),y!=null&&_.push(Sr(p,y,m)))),j)break;p=p.return}0<_.length&&(f=new v(f,w,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==po&&(w=n.relatedTarget||n.fromElement)&&(Bt(w)||w[lt]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Bt(w):null,w!==null&&(j=Zt(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(_=xa,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=Sa,y="onPointerLeave",g="onPointerEnter",p="pointer"),j=v==null?f:mn(v),m=w==null?f:mn(w),f=new _(y,p+"leave",v,n,c),f.target=j,f.relatedTarget=m,y=null,Bt(c)===u&&(_=new _(g,p+"enter",w,n,c),_.target=m,_.relatedTarget=j,y=_),j=y,v&&w)t:{for(_=v,g=w,p=0,m=_;m;m=nn(m))p++;for(m=0,y=g;y;y=nn(y))m++;for(;0<p-m;)_=nn(_),p--;for(;0<m-p;)g=nn(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=nn(_),g=nn(g)}_=null}else _=null;v!==null&&Ia(h,f,v,_,!1),w!==null&&j!==null&&Ia(h,j,w,_,!0)}}e:{if(f=u?mn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=np;else if(Pa(f))if(Rc)S=op;else{S=sp;var x=rp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=ip);if(S&&(S=S(t,u))){Oc(h,S,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&ao(f,"number",f.value)}switch(x=u?mn(u):window,t){case"focusin":(Pa(x)||x.contentEditable==="true")&&(fn=x,xo=u,or=null);break;case"focusout":or=xo=fn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Ra(h,n,c);break;case"selectionchange":if(up)break;case"keydown":case"keyup":Ra(h,n,c)}var E;if(El)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else hn?Tc(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Cc&&n.locale!=="ko"&&(hn||N!=="onCompositionStart"?N==="onCompositionEnd"&&hn&&(E=Pc()):(wt=c,xl="value"in wt?wt.value:wt.textContent,hn=!0)),x=Os(u,N),0<x.length&&(N=new ka(N,t,null,n,c),h.push({event:N,listeners:x}),E?N.data=E:(E=Nc(n),E!==null&&(N.data=E)))),(E=Yf?Xf(t,n):Zf(t,n))&&(u=Os(u,"onBeforeInput"),0<u.length&&(c=new ka("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}Fc(h,e)})}function Sr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Os(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gr(t,n),i!=null&&r.unshift(Sr(t,i,s)),i=gr(t,e),i!=null&&r.push(Sr(t,i,s))),t=t.return}return r}function nn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ia(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=gr(n,i),a!=null&&o.unshift(Sr(n,a,l))):s||(a=gr(n,i),a!=null&&o.push(Sr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fp=/\r\n?/g,pp=/\u0000|\uFFFD/g;function La(t){return(typeof t=="string"?t:""+t).replace(fp,`
`).replace(pp,"")}function Xr(t,e,n){if(e=La(e),La(t)!==e&&n)throw Error(k(425))}function Rs(){}var So=null,Eo=null;function jo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,mp=typeof clearTimeout=="function"?clearTimeout:void 0,Aa=typeof Promise=="function"?Promise:void 0,gp=typeof queueMicrotask=="function"?queueMicrotask:typeof Aa<"u"?function(t){return Aa.resolve(null).then(t).catch(vp)}:Po;function vp(t){setTimeout(function(){throw t})}function Ui(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wr(e)}function Et(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Da(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Mn,Er="__reactProps$"+Mn,lt="__reactContainer$"+Mn,Co="__reactEvents$"+Mn,yp="__reactListeners$"+Mn,wp="__reactHandles$"+Mn;function Bt(t){var e=t[Qe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lt]||n[Qe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Da(t);t!==null;){if(n=t[Qe])return n;t=Da(t)}return e}t=n,n=t.parentNode}return null}function Lr(t){return t=t[Qe]||t[lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function ti(t){return t[Er]||null}var To=[],gn=-1;function bt(t){return{current:t}}function F(t){0>gn||(t.current=To[gn],To[gn]=null,gn--)}function M(t,e){gn++,To[gn]=t.current,t.current=e}var Ot={},ue=bt(Ot),_e=bt(!1),Kt=Ot;function On(t,e){var n=t.type.contextTypes;if(!n)return Ot;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xe(t){return t=t.childContextTypes,t!=null}function bs(){F(_e),F(ue)}function Ua(t,e,n){if(ue.current!==Ot)throw Error(k(168));M(ue,e),M(_e,n)}function Wc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,nf(t)||"Unknown",s));return V({},n,r)}function $s(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ot,Kt=ue.current,M(ue,t),M(_e,_e.current),!0}function Ma(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Wc(t,e,Kt),r.__reactInternalMemoizedMergedChildContext=t,F(_e),F(ue),M(ue,t)):F(_e),M(_e,n)}var nt=null,ni=!1,Mi=!1;function Hc(t){nt===null?nt=[t]:nt.push(t)}function _p(t){ni=!0,Hc(t)}function $t(){if(!Mi&&nt!==null){Mi=!0;var t=0,e=D;try{var n=nt;for(D=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nt=null,ni=!1}catch(s){throw nt!==null&&(nt=nt.slice(t+1)),mc(vl,$t),s}finally{D=e,Mi=!1}}return null}var vn=[],yn=0,Is=null,Ls=0,Oe=[],Re=0,Gt=null,rt=1,st="";function Ut(t,e){vn[yn++]=Ls,vn[yn++]=Is,Is=t,Ls=e}function Vc(t,e,n){Oe[Re++]=rt,Oe[Re++]=st,Oe[Re++]=Gt,Gt=t;var r=rt;t=st;var s=32-He(r)-1;r&=~(1<<s),n+=1;var i=32-He(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rt=1<<32-He(e)+s|n<<s|r,st=i+t}else rt=1<<i|n<<s|r,st=t}function Pl(t){t.return!==null&&(Ut(t,1),Vc(t,1,0))}function Cl(t){for(;t===Is;)Is=vn[--yn],vn[yn]=null,Ls=vn[--yn],vn[yn]=null;for(;t===Gt;)Gt=Oe[--Re],Oe[Re]=null,st=Oe[--Re],Oe[Re]=null,rt=Oe[--Re],Oe[Re]=null}var Pe=null,Ee=null,B=!1,We=null;function qc(t,e){var n=be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function za(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Ee=Et(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Ee=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gt!==null?{id:rt,overflow:st}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Ee=null,!0):!1;default:return!1}}function No(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oo(t){if(B){var e=Ee;if(e){var n=e;if(!za(t,e)){if(No(t))throw Error(k(418));e=Et(n.nextSibling);var r=Pe;e&&za(t,e)?qc(r,n):(t.flags=t.flags&-4097|2,B=!1,Pe=t)}}else{if(No(t))throw Error(k(418));t.flags=t.flags&-4097|2,B=!1,Pe=t}}}function Fa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function Zr(t){if(t!==Pe)return!1;if(!B)return Fa(t),B=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jo(t.type,t.memoizedProps)),e&&(e=Ee)){if(No(t))throw Kc(),Error(k(418));for(;e;)qc(t,e),e=Et(e.nextSibling)}if(Fa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ee=Et(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ee=null}}else Ee=Pe?Et(t.stateNode.nextSibling):null;return!0}function Kc(){for(var t=Ee;t;)t=Et(t.nextSibling)}function Rn(){Ee=Pe=null,B=!1}function Tl(t){We===null?We=[t]:We.push(t)}var xp=ct.ReactCurrentBatchConfig;function Kn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function es(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ba(t){var e=t._init;return e(t._payload)}function Gc(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Tt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,y){return p===null||p.tag!==6?(p=qi(m,g.mode,y),p.return=g,p):(p=s(p,m),p.return=g,p)}function a(g,p,m,y){var S=m.type;return S===dn?c(g,p,m.props.children,y,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ft&&Ba(S)===p.type)?(y=s(p,m.props),y.ref=Kn(g,p,m),y.return=g,y):(y=xs(m.type,m.key,m.props,null,g.mode,y),y.ref=Kn(g,p,m),y.return=g,y)}function u(g,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Ki(m,g.mode,y),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function c(g,p,m,y,S){return p===null||p.tag!==7?(p=qt(m,g.mode,y,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=qi(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wr:return m=xs(p.type,p.key,p.props,null,g.mode,m),m.ref=Kn(g,null,p),m.return=g,m;case cn:return p=Ki(p,g.mode,m),p.return=g,p;case ft:var y=p._init;return h(g,y(p._payload),m)}if(Xn(p)||Bn(p))return p=qt(p,g.mode,m,null),p.return=g,p;es(g,p)}return null}function f(g,p,m,y){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:l(g,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wr:return m.key===S?a(g,p,m,y):null;case cn:return m.key===S?u(g,p,m,y):null;case ft:return S=m._init,f(g,p,S(m._payload),y)}if(Xn(m)||Bn(m))return S!==null?null:c(g,p,m,y,null);es(g,m)}return null}function v(g,p,m,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,l(p,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wr:return g=g.get(y.key===null?m:y.key)||null,a(p,g,y,S);case cn:return g=g.get(y.key===null?m:y.key)||null,u(p,g,y,S);case ft:var x=y._init;return v(g,p,m,x(y._payload),S)}if(Xn(y)||Bn(y))return g=g.get(m)||null,c(p,g,y,S,null);es(p,y)}return null}function w(g,p,m,y){for(var S=null,x=null,E=p,N=p=0,T=null;E!==null&&N<m.length;N++){E.index>N?(T=E,E=null):T=E.sibling;var O=f(g,E,m[N],y);if(O===null){E===null&&(E=T);break}t&&E&&O.alternate===null&&e(g,E),p=i(O,p,N),x===null?S=O:x.sibling=O,x=O,E=T}if(N===m.length)return n(g,E),B&&Ut(g,N),S;if(E===null){for(;N<m.length;N++)E=h(g,m[N],y),E!==null&&(p=i(E,p,N),x===null?S=E:x.sibling=E,x=E);return B&&Ut(g,N),S}for(E=r(g,E);N<m.length;N++)T=v(E,g,N,m[N],y),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?N:T.key),p=i(T,p,N),x===null?S=T:x.sibling=T,x=T);return t&&E.forEach(function(ie){return e(g,ie)}),B&&Ut(g,N),S}function _(g,p,m,y){var S=Bn(m);if(typeof S!="function")throw Error(k(150));if(m=S.call(m),m==null)throw Error(k(151));for(var x=S=null,E=p,N=p=0,T=null,O=m.next();E!==null&&!O.done;N++,O=m.next()){E.index>N?(T=E,E=null):T=E.sibling;var ie=f(g,E,O.value,y);if(ie===null){E===null&&(E=T);break}t&&E&&ie.alternate===null&&e(g,E),p=i(ie,p,N),x===null?S=ie:x.sibling=ie,x=ie,E=T}if(O.done)return n(g,E),B&&Ut(g,N),S;if(E===null){for(;!O.done;N++,O=m.next())O=h(g,O.value,y),O!==null&&(p=i(O,p,N),x===null?S=O:x.sibling=O,x=O);return B&&Ut(g,N),S}for(E=r(g,E);!O.done;N++,O=m.next())O=v(E,g,N,O.value,y),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?N:O.key),p=i(O,p,N),x===null?S=O:x.sibling=O,x=O);return t&&E.forEach(function(De){return e(g,De)}),B&&Ut(g,N),S}function j(g,p,m,y){if(typeof m=="object"&&m!==null&&m.type===dn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Wr:e:{for(var S=m.key,x=p;x!==null;){if(x.key===S){if(S=m.type,S===dn){if(x.tag===7){n(g,x.sibling),p=s(x,m.props.children),p.return=g,g=p;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ft&&Ba(S)===x.type){n(g,x.sibling),p=s(x,m.props),p.ref=Kn(g,x,m),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}m.type===dn?(p=qt(m.props.children,g.mode,y,m.key),p.return=g,g=p):(y=xs(m.type,m.key,m.props,null,g.mode,y),y.ref=Kn(g,p,m),y.return=g,g=y)}return o(g);case cn:e:{for(x=m.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Ki(m,g.mode,y),p.return=g,g=p}return o(g);case ft:return x=m._init,j(g,p,x(m._payload),y)}if(Xn(m))return w(g,p,m,y);if(Bn(m))return _(g,p,m,y);es(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=qi(m,g.mode,y),p.return=g,g=p),o(g)):n(g,p)}return j}var bn=Gc(!0),Qc=Gc(!1),As=bt(null),Ds=null,wn=null,Nl=null;function Ol(){Nl=wn=Ds=null}function Rl(t){var e=As.current;F(As),t._currentValue=e}function Ro(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Ds=t,Nl=wn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(we=!0),t.firstContext=null)}function Le(t){var e=t._currentValue;if(Nl!==t)if(t={context:t,memoizedValue:e,next:null},wn===null){if(Ds===null)throw Error(k(308));wn=t,Ds.dependencies={lanes:0,firstContext:t}}else wn=wn.next=t;return e}var Wt=null;function bl(t){Wt===null?Wt=[t]:Wt.push(t)}function Jc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,bl(e)):(n.next=s.next,s.next=n),e.interleaved=n,at(t,r)}function at(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pt=!1;function $l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function it(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,A&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,at(t,n)}return s=r.interleaved,s===null?(e.next=e,bl(r)):(e.next=s.next,s.next=e),r.interleaved=e,at(t,n)}function ms(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yl(t,n)}}function Wa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var s=t.updateQueue;pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,_=l;switch(f=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=V({},h,f);break e;case 2:pt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=h):c=c.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Jt|=o,t.lanes=o,t.memoizedState=h}}function Ha(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var Ar={},Ye=bt(Ar),jr=bt(Ar),Pr=bt(Ar);function Ht(t){if(t===Ar)throw Error(k(174));return t}function Il(t,e){switch(M(Pr,e),M(jr,t),M(Ye,Ar),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:co(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=co(e,t)}F(Ye),M(Ye,e)}function $n(){F(Ye),F(jr),F(Pr)}function Xc(t){Ht(Pr.current);var e=Ht(Ye.current),n=co(e,t.type);e!==n&&(M(jr,t),M(Ye,n))}function Ll(t){jr.current===t&&(F(Ye),F(jr))}var W=bt(0);function Ms(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zi=[];function Al(){for(var t=0;t<zi.length;t++)zi[t]._workInProgressVersionPrimary=null;zi.length=0}var gs=ct.ReactCurrentDispatcher,Fi=ct.ReactCurrentBatchConfig,Qt=0,H=null,J=null,ee=null,zs=!1,lr=!1,Cr=0,kp=0;function oe(){throw Error(k(321))}function Dl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Ul(t,e,n,r,s,i){if(Qt=i,H=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gs.current=t===null||t.memoizedState===null?Pp:Cp,t=n(r,s),lr){i=0;do{if(lr=!1,Cr=0,25<=i)throw Error(k(301));i+=1,ee=J=null,e.updateQueue=null,gs.current=Tp,t=n(r,s)}while(lr)}if(gs.current=Fs,e=J!==null&&J.next!==null,Qt=0,ee=J=H=null,zs=!1,e)throw Error(k(300));return t}function Ml(){var t=Cr!==0;return Cr=0,t}function Ge(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?H.memoizedState=ee=t:ee=ee.next=t,ee}function Ae(){if(J===null){var t=H.alternate;t=t!==null?t.memoizedState:null}else t=J.next;var e=ee===null?H.memoizedState:ee.next;if(e!==null)ee=e,J=t;else{if(t===null)throw Error(k(310));J=t,t={memoizedState:J.memoizedState,baseState:J.baseState,baseQueue:J.baseQueue,queue:J.queue,next:null},ee===null?H.memoizedState=ee=t:ee=ee.next=t}return ee}function Tr(t,e){return typeof e=="function"?e(t):e}function Bi(t){var e=Ae(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=J,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Qt&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,H.lanes|=c,Jt|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,qe(r,e.memoizedState)||(we=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,H.lanes|=i,Jt|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wi(t){var e=Ae(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qe(i,e.memoizedState)||(we=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zc(){}function ed(t,e){var n=H,r=Ae(),s=e(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,we=!0),r=r.queue,zl(rd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ee!==null&&ee.memoizedState.tag&1){if(n.flags|=2048,Nr(9,nd.bind(null,n,r,s,e),void 0,null),te===null)throw Error(k(349));Qt&30||td(n,e,s)}return s}function td(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=H.updateQueue,e===null?(e={lastEffect:null,stores:null},H.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nd(t,e,n,r){e.value=n,e.getSnapshot=r,sd(e)&&id(t)}function rd(t,e,n){return n(function(){sd(e)&&id(t)})}function sd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function id(t){var e=at(t,1);e!==null&&Ve(e,t,1,-1)}function Va(t){var e=Ge();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:t},e.queue=t,t=t.dispatch=jp.bind(null,H,t),[e.memoizedState,t]}function Nr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=H.updateQueue,e===null?(e={lastEffect:null,stores:null},H.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function od(){return Ae().memoizedState}function vs(t,e,n,r){var s=Ge();H.flags|=t,s.memoizedState=Nr(1|e,n,void 0,r===void 0?null:r)}function ri(t,e,n,r){var s=Ae();r=r===void 0?null:r;var i=void 0;if(J!==null){var o=J.memoizedState;if(i=o.destroy,r!==null&&Dl(r,o.deps)){s.memoizedState=Nr(e,n,i,r);return}}H.flags|=t,s.memoizedState=Nr(1|e,n,i,r)}function qa(t,e){return vs(8390656,8,t,e)}function zl(t,e){return ri(2048,8,t,e)}function ld(t,e){return ri(4,2,t,e)}function ad(t,e){return ri(4,4,t,e)}function ud(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cd(t,e,n){return n=n!=null?n.concat([t]):null,ri(4,4,ud.bind(null,e,t),n)}function Fl(){}function dd(t,e){var n=Ae();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hd(t,e){var n=Ae();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fd(t,e,n){return Qt&21?(qe(n,e)||(n=yc(),H.lanes|=n,Jt|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,we=!0),t.memoizedState=n)}function Sp(t,e){var n=D;D=n!==0&&4>n?n:4,t(!0);var r=Fi.transition;Fi.transition={};try{t(!1),e()}finally{D=n,Fi.transition=r}}function pd(){return Ae().memoizedState}function Ep(t,e,n){var r=Ct(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},md(t))gd(e,n);else if(n=Jc(t,e,n,r),n!==null){var s=he();Ve(n,t,r,s),vd(n,e,r)}}function jp(t,e,n){var r=Ct(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(md(t))gd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=e.interleaved;a===null?(s.next=s,bl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Jc(t,e,s,r),n!==null&&(s=he(),Ve(n,t,r,s),vd(n,e,r))}}function md(t){var e=t.alternate;return t===H||e!==null&&e===H}function gd(t,e){lr=zs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yl(t,n)}}var Fs={readContext:Le,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useInsertionEffect:oe,useLayoutEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useMutableSource:oe,useSyncExternalStore:oe,useId:oe,unstable_isNewReconciler:!1},Pp={readContext:Le,useCallback:function(t,e){return Ge().memoizedState=[t,e===void 0?null:e],t},useContext:Le,useEffect:qa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vs(4194308,4,ud.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vs(4194308,4,t,e)},useInsertionEffect:function(t,e){return vs(4,2,t,e)},useMemo:function(t,e){var n=Ge();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ge();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ep.bind(null,H,t),[r.memoizedState,t]},useRef:function(t){var e=Ge();return t={current:t},e.memoizedState=t},useState:Va,useDebugValue:Fl,useDeferredValue:function(t){return Ge().memoizedState=t},useTransition:function(){var t=Va(!1),e=t[0];return t=Sp.bind(null,t[1]),Ge().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=H,s=Ge();if(B){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),te===null)throw Error(k(349));Qt&30||td(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qa(rd.bind(null,r,i,t),[t]),r.flags|=2048,Nr(9,nd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ge(),e=te.identifierPrefix;if(B){var n=st,r=rt;n=(r&~(1<<32-He(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Cp={readContext:Le,useCallback:dd,useContext:Le,useEffect:zl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Bi,useRef:od,useState:function(){return Bi(Tr)},useDebugValue:Fl,useDeferredValue:function(t){var e=Ae();return fd(e,J.memoizedState,t)},useTransition:function(){var t=Bi(Tr)[0],e=Ae().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1},Tp={readContext:Le,useCallback:dd,useContext:Le,useEffect:zl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Wi,useRef:od,useState:function(){return Wi(Tr)},useDebugValue:Fl,useDeferredValue:function(t){var e=Ae();return J===null?e.memoizedState=t:fd(e,J.memoizedState,t)},useTransition:function(){var t=Wi(Tr)[0],e=Ae().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1};function ze(t,e){if(t&&t.defaultProps){e=V({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:V({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var si={isMounted:function(t){return(t=t._reactInternals)?Zt(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=he(),s=Ct(t),i=it(r,s);i.payload=e,n!=null&&(i.callback=n),e=jt(t,i,s),e!==null&&(Ve(e,t,s,r),ms(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=he(),s=Ct(t),i=it(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jt(t,i,s),e!==null&&(Ve(e,t,s,r),ms(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=he(),r=Ct(t),s=it(n,r);s.tag=2,e!=null&&(s.callback=e),e=jt(t,s,r),e!==null&&(Ve(e,t,r,n),ms(e,t,r))}};function Ka(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xr(n,r)||!xr(s,i):!0}function yd(t,e,n){var r=!1,s=Ot,i=e.contextType;return typeof i=="object"&&i!==null?i=Le(i):(s=xe(e)?Kt:ue.current,r=e.contextTypes,i=(r=r!=null)?On(t,s):Ot),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=si,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ga(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&si.enqueueReplaceState(e,e.state,null)}function $o(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},$l(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Le(i):(i=xe(e)?Kt:ue.current,s.context=On(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&si.enqueueReplaceState(s,s.state,null),Us(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function In(t,e){try{var n="",r=e;do n+=tf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Io(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Np=typeof WeakMap=="function"?WeakMap:Map;function wd(t,e,n){n=it(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ws||(Ws=!0,Ho=r),Io(t,e)},n}function _d(t,e,n){n=it(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Io(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Io(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Np;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Wp.bind(null,t,e,n),e.then(t,t))}function Ja(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ya(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=it(-1,1),e.tag=2,jt(n,e,1))),n.lanes|=1),t)}var Op=ct.ReactCurrentOwner,we=!1;function de(t,e,n,r){e.child=t===null?Qc(e,null,n,r):bn(e,t.child,n,r)}function Xa(t,e,n,r,s){n=n.render;var i=e.ref;return Pn(e,s),r=Ul(t,e,n,r,i,s),n=Ml(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ut(t,e,s)):(B&&n&&Pl(e),e.flags|=1,de(t,e,r,s),e.child)}function Za(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ql(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xd(t,e,i,r,s)):(t=xs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xr,n(o,r)&&t.ref===e.ref)return ut(t,e,s)}return e.flags|=1,t=Tt(i,r),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xr(i,r)&&t.ref===e.ref)if(we=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(we=!0);else return e.lanes=t.lanes,ut(t,e,s)}return Lo(t,e,n,r,s)}function kd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},M(xn,Se),Se|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,M(xn,Se),Se|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,M(xn,Se),Se|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,M(xn,Se),Se|=r;return de(t,e,s,n),e.child}function Sd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lo(t,e,n,r,s){var i=xe(n)?Kt:ue.current;return i=On(e,i),Pn(e,s),n=Ul(t,e,n,r,i,s),r=Ml(),t!==null&&!we?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ut(t,e,s)):(B&&r&&Pl(e),e.flags|=1,de(t,e,n,s),e.child)}function eu(t,e,n,r,s){if(xe(n)){var i=!0;$s(e)}else i=!1;if(Pn(e,s),e.stateNode===null)ys(t,e),yd(e,n,r),$o(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Le(u):(u=xe(n)?Kt:ue.current,u=On(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ga(e,o,r,u),pt=!1;var f=e.memoizedState;o.state=f,Us(e,r,o,s),a=e.memoizedState,l!==r||f!==a||_e.current||pt?(typeof c=="function"&&(bo(e,n,c,r),a=e.memoizedState),(l=pt||Ka(e,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yc(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ze(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Le(a):(a=xe(n)?Kt:ue.current,a=On(e,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&Ga(e,o,r,a),pt=!1,f=e.memoizedState,o.state=f,Us(e,r,o,s);var w=e.memoizedState;l!==h||f!==w||_e.current||pt?(typeof v=="function"&&(bo(e,n,v,r),w=e.memoizedState),(u=pt||Ka(e,n,u,r,f,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ao(t,e,n,r,i,s)}function Ao(t,e,n,r,s,i){Sd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ma(e,n,!1),ut(t,e,i);r=e.stateNode,Op.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bn(e,t.child,null,i),e.child=bn(e,null,l,i)):de(t,e,l,i),e.memoizedState=r.state,s&&Ma(e,n,!0),e.child}function Ed(t){var e=t.stateNode;e.pendingContext?Ua(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ua(t,e.context,!1),Il(t,e.containerInfo)}function tu(t,e,n,r,s){return Rn(),Tl(s),e.flags|=256,de(t,e,n,r),e.child}var Do={dehydrated:null,treeContext:null,retryLane:0};function Uo(t){return{baseLanes:t,cachePool:null,transitions:null}}function jd(t,e,n){var r=e.pendingProps,s=W.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),M(W,s&1),t===null)return Oo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=li(o,r,0,null),t=qt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uo(n),e.memoizedState=Do,t):Bl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Tt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Tt(l,i):(i=qt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Uo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Do,r}return i=t.child,t=i.sibling,r=Tt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bl(t,e){return e=li({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ts(t,e,n,r){return r!==null&&Tl(r),bn(e,t.child,null,n),t=Bl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hi(Error(k(422))),ts(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=li({mode:"visible",children:r.children},s,0,null),i=qt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bn(e,t.child,null,o),e.child.memoizedState=Uo(o),e.memoizedState=Do,i);if(!(e.mode&1))return ts(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=Hi(i,r,void 0),ts(t,e,o,r)}if(l=(o&t.childLanes)!==0,we||l){if(r=te,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,at(t,s),Ve(r,t,s,-1))}return Gl(),r=Hi(Error(k(421))),ts(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ee=Et(s.nextSibling),Pe=e,B=!0,We=null,t!==null&&(Oe[Re++]=rt,Oe[Re++]=st,Oe[Re++]=Gt,rt=t.id,st=t.overflow,Gt=e),e=Bl(e,r.children),e.flags|=4096,e)}function nu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ro(t.return,e,n)}function Vi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Pd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(de(t,e,r.children,n),r=W.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nu(t,n,e);else if(t.tag===19)nu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(M(W,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ms(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ms(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vi(e,!0,n,null,i);break;case"together":Vi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jt|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Tt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Tt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bp(t,e,n){switch(e.tag){case 3:Ed(e),Rn();break;case 5:Xc(e);break;case 1:xe(e.type)&&$s(e);break;case 4:Il(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;M(As,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(M(W,W.current&1),e.flags|=128,null):n&e.child.childLanes?jd(t,e,n):(M(W,W.current&1),t=ut(t,e,n),t!==null?t.sibling:null);M(W,W.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Pd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),M(W,W.current),r)break;return null;case 22:case 23:return e.lanes=0,kd(t,e,n)}return ut(t,e,n)}var Cd,Mo,Td,Nd;Cd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mo=function(){};Td=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ht(Ye.current);var i=null;switch(n){case"input":s=oo(t,s),r=oo(t,r),i=[];break;case"select":s=V({},s,{value:void 0}),r=V({},r,{value:void 0}),i=[];break;case"textarea":s=uo(t,s),r=uo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rs)}ho(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&z("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Nd=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gn(t,e){if(!B)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $p(t,e,n){var r=e.pendingProps;switch(Cl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(e),null;case 1:return xe(e.type)&&bs(),le(e),null;case 3:return r=e.stateNode,$n(),F(_e),F(ue),Al(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,We!==null&&(Ko(We),We=null))),Mo(t,e),le(e),null;case 5:Ll(e);var s=Ht(Pr.current);if(n=e.type,t!==null&&e.stateNode!=null)Td(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return le(e),null}if(t=Ht(Ye.current),Zr(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Qe]=e,r[Er]=i,t=(e.mode&1)!==0,n){case"dialog":z("cancel",r),z("close",r);break;case"iframe":case"object":case"embed":z("load",r);break;case"video":case"audio":for(s=0;s<er.length;s++)z(er[s],r);break;case"source":z("error",r);break;case"img":case"image":case"link":z("error",r),z("load",r);break;case"details":z("toggle",r);break;case"input":da(r,i),z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},z("invalid",r);break;case"textarea":fa(r,i),z("invalid",r)}ho(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Xr(r.textContent,l,t),s=["children",""+l]):pr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&z("scroll",r)}switch(n){case"input":Hr(r),ha(r,i,!0);break;case"textarea":Hr(r),pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qe]=e,t[Er]=r,Cd(t,e,!1,!1),e.stateNode=t;e:{switch(o=fo(n,r),n){case"dialog":z("cancel",t),z("close",t),s=r;break;case"iframe":case"object":case"embed":z("load",t),s=r;break;case"video":case"audio":for(s=0;s<er.length;s++)z(er[s],t);s=r;break;case"source":z("error",t),s=r;break;case"img":case"image":case"link":z("error",t),z("load",t),s=r;break;case"details":z("toggle",t),s=r;break;case"input":da(t,r),s=oo(t,r),z("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=V({},r,{value:void 0}),z("invalid",t);break;case"textarea":fa(t,r),s=uo(t,r),z("invalid",t);break;default:s=r}ho(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?oc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&mr(t,a):typeof a=="number"&&mr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&z("scroll",t):a!=null&&hl(t,i,a,o))}switch(n){case"input":Hr(t),ha(t,r,!1);break;case"textarea":Hr(t),pa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Nt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?kn(t,!!r.multiple,i,!1):r.defaultValue!=null&&kn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return le(e),null;case 6:if(t&&e.stateNode!=null)Nd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Ht(Pr.current),Ht(Ye.current),Zr(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qe]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:Xr(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xr(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qe]=e,e.stateNode=r}return le(e),null;case 13:if(F(W),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(B&&Ee!==null&&e.mode&1&&!(e.flags&128))Kc(),Rn(),e.flags|=98560,i=!1;else if(i=Zr(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Qe]=e}else Rn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;le(e),i=!1}else We!==null&&(Ko(We),We=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||W.current&1?Y===0&&(Y=3):Gl())),e.updateQueue!==null&&(e.flags|=4),le(e),null);case 4:return $n(),Mo(t,e),t===null&&kr(e.stateNode.containerInfo),le(e),null;case 10:return Rl(e.type._context),le(e),null;case 17:return xe(e.type)&&bs(),le(e),null;case 19:if(F(W),i=e.memoizedState,i===null)return le(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Gn(i,!1);else{if(Y!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ms(t),o!==null){for(e.flags|=128,Gn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return M(W,W.current&1|2),e.child}t=t.sibling}i.tail!==null&&G()>Ln&&(e.flags|=128,r=!0,Gn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ms(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!B)return le(e),null}else 2*G()-i.renderingStartTime>Ln&&n!==1073741824&&(e.flags|=128,r=!0,Gn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=G(),e.sibling=null,n=W.current,M(W,r?n&1|2:n&1),e):(le(e),null);case 22:case 23:return Kl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Se&1073741824&&(le(e),e.subtreeFlags&6&&(e.flags|=8192)):le(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Ip(t,e){switch(Cl(e),e.tag){case 1:return xe(e.type)&&bs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $n(),F(_e),F(ue),Al(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ll(e),null;case 13:if(F(W),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Rn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return F(W),null;case 4:return $n(),null;case 10:return Rl(e.type._context),null;case 22:case 23:return Kl(),null;case 24:return null;default:return null}}var ns=!1,ae=!1,Lp=typeof WeakSet=="function"?WeakSet:Set,P=null;function _n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){q(t,e,r)}else n.current=null}function zo(t,e,n){try{n()}catch(r){q(t,e,r)}}var ru=!1;function Ap(t,e){if(So=Ts,t=Ic(),jl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eo={focusedElem:t,selectionRange:n},Ts=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,j=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:ze(e.type,_),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(y){q(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=ru,ru=!1,w}function ar(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&zo(e,n,i)}s=s.next}while(s!==r)}}function ii(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Od(t){var e=t.alternate;e!==null&&(t.alternate=null,Od(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qe],delete e[Er],delete e[Co],delete e[yp],delete e[wp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rd(t){return t.tag===5||t.tag===3||t.tag===4}function su(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rs));else if(r!==4&&(t=t.child,t!==null))for(Bo(t,e,n),t=t.sibling;t!==null;)Bo(t,e,n),t=t.sibling}function Wo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wo(t,e,n),t=t.sibling;t!==null;)Wo(t,e,n),t=t.sibling}var ne=null,Fe=!1;function dt(t,e,n){for(n=n.child;n!==null;)bd(t,e,n),n=n.sibling}function bd(t,e,n){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Ys,n)}catch{}switch(n.tag){case 5:ae||_n(n,e);case 6:var r=ne,s=Fe;ne=null,dt(t,e,n),ne=r,Fe=s,ne!==null&&(Fe?(t=ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ne.removeChild(n.stateNode));break;case 18:ne!==null&&(Fe?(t=ne,n=n.stateNode,t.nodeType===8?Ui(t.parentNode,n):t.nodeType===1&&Ui(t,n),wr(t)):Ui(ne,n.stateNode));break;case 4:r=ne,s=Fe,ne=n.stateNode.containerInfo,Fe=!0,dt(t,e,n),ne=r,Fe=s;break;case 0:case 11:case 14:case 15:if(!ae&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&zo(n,e,o),s=s.next}while(s!==r)}dt(t,e,n);break;case 1:if(!ae&&(_n(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){q(n,e,l)}dt(t,e,n);break;case 21:dt(t,e,n);break;case 22:n.mode&1?(ae=(r=ae)||n.memoizedState!==null,dt(t,e,n),ae=r):dt(t,e,n);break;default:dt(t,e,n)}}function iu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lp),e.forEach(function(r){var s=Vp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ue(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ne=l.stateNode,Fe=!1;break e;case 3:ne=l.stateNode.containerInfo,Fe=!0;break e;case 4:ne=l.stateNode.containerInfo,Fe=!0;break e}l=l.return}if(ne===null)throw Error(k(160));bd(i,o,s),ne=null,Fe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$d(e,t),e=e.sibling}function $d(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ue(e,t),Ke(t),r&4){try{ar(3,t,t.return),ii(3,t)}catch(_){q(t,t.return,_)}try{ar(5,t,t.return)}catch(_){q(t,t.return,_)}}break;case 1:Ue(e,t),Ke(t),r&512&&n!==null&&_n(n,n.return);break;case 5:if(Ue(e,t),Ke(t),r&512&&n!==null&&_n(n,n.return),t.flags&32){var s=t.stateNode;try{mr(s,"")}catch(_){q(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tc(s,i),fo(l,o);var u=fo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?oc(s,h):c==="dangerouslySetInnerHTML"?sc(s,h):c==="children"?mr(s,h):hl(s,c,h,u)}switch(l){case"input":lo(s,i);break;case"textarea":nc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?kn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?kn(s,!!i.multiple,i.defaultValue,!0):kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Er]=i}catch(_){q(t,t.return,_)}}break;case 6:if(Ue(e,t),Ke(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){q(t,t.return,_)}}break;case 3:if(Ue(e,t),Ke(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wr(e.containerInfo)}catch(_){q(t,t.return,_)}break;case 4:Ue(e,t),Ke(t);break;case 13:Ue(e,t),Ke(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vl=G())),r&4&&iu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ae=(u=ae)||c,Ue(e,t),ae=u):Ue(e,t),Ke(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(h=P=c;P!==null;){switch(f=P,v=f.child,f.tag){case 0:case 11:case 14:case 15:ar(4,f,f.return);break;case 1:_n(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){q(r,n,_)}}break;case 5:_n(f,f.return);break;case 22:if(f.memoizedState!==null){lu(h);continue}}v!==null?(v.return=f,P=v):lu(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ic("display",o))}catch(_){q(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){q(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ue(e,t),Ke(t),r&4&&iu(t);break;case 21:break;default:Ue(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mr(s,""),r.flags&=-33);var i=su(t);Wo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=su(t);Bo(t,l,o);break;default:throw Error(k(161))}}catch(a){q(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dp(t,e,n){P=t,Id(t)}function Id(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ns;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ae;l=ns;var u=ae;if(ns=o,(ae=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?au(s):a!==null?(a.return=o,P=a):au(s);for(;i!==null;)P=i,Id(i),i=i.sibling;P=s,ns=l,ae=u}ou(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):ou(t)}}function ou(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ae||ii(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ae)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ze(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ha(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ha(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&wr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}ae||e.flags&512&&Fo(e)}catch(f){q(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function lu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function au(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ii(4,e)}catch(a){q(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){q(e,s,a)}}var i=e.return;try{Fo(e)}catch(a){q(e,i,a)}break;case 5:var o=e.return;try{Fo(e)}catch(a){q(e,o,a)}}}catch(a){q(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var Up=Math.ceil,Bs=ct.ReactCurrentDispatcher,Wl=ct.ReactCurrentOwner,$e=ct.ReactCurrentBatchConfig,A=0,te=null,Q=null,re=0,Se=0,xn=bt(0),Y=0,Or=null,Jt=0,oi=0,Hl=0,ur=null,ve=null,Vl=0,Ln=1/0,et=null,Ws=!1,Ho=null,Pt=null,rs=!1,_t=null,Hs=0,cr=0,Vo=null,ws=-1,_s=0;function he(){return A&6?G():ws!==-1?ws:ws=G()}function Ct(t){return t.mode&1?A&2&&re!==0?re&-re:xp.transition!==null?(_s===0&&(_s=yc()),_s):(t=D,t!==0||(t=window.event,t=t===void 0?16:jc(t.type)),t):1}function Ve(t,e,n,r){if(50<cr)throw cr=0,Vo=null,Error(k(185));$r(t,n,r),(!(A&2)||t!==te)&&(t===te&&(!(A&2)&&(oi|=n),Y===4&&vt(t,re)),ke(t,r),n===1&&A===0&&!(e.mode&1)&&(Ln=G()+500,ni&&$t()))}function ke(t,e){var n=t.callbackNode;xf(t,e);var r=Cs(t,t===te?re:0);if(r===0)n!==null&&va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&va(n),e===1)t.tag===0?_p(uu.bind(null,t)):Hc(uu.bind(null,t)),gp(function(){!(A&6)&&$t()}),n=null;else{switch(wc(r)){case 1:n=vl;break;case 4:n=gc;break;case 16:n=Ps;break;case 536870912:n=vc;break;default:n=Ps}n=Bd(n,Ld.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ld(t,e){if(ws=-1,_s=0,A&6)throw Error(k(327));var n=t.callbackNode;if(Cn()&&t.callbackNode!==n)return null;var r=Cs(t,t===te?re:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vs(t,r);else{e=r;var s=A;A|=2;var i=Dd();(te!==t||re!==e)&&(et=null,Ln=G()+500,Vt(t,e));do try{Fp();break}catch(l){Ad(t,l)}while(1);Ol(),Bs.current=i,A=s,Q!==null?e=0:(te=null,re=0,e=Y)}if(e!==0){if(e===2&&(s=yo(t),s!==0&&(r=s,e=qo(t,s))),e===1)throw n=Or,Vt(t,0),vt(t,r),ke(t,G()),n;if(e===6)vt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Mp(s)&&(e=Vs(t,r),e===2&&(i=yo(t),i!==0&&(r=i,e=qo(t,i))),e===1))throw n=Or,Vt(t,0),vt(t,r),ke(t,G()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Mt(t,ve,et);break;case 3:if(vt(t,r),(r&130023424)===r&&(e=Vl+500-G(),10<e)){if(Cs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){he(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Po(Mt.bind(null,t,ve,et),e);break}Mt(t,ve,et);break;case 4:if(vt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-He(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=G()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Up(r/1960))-r,10<r){t.timeoutHandle=Po(Mt.bind(null,t,ve,et),r);break}Mt(t,ve,et);break;case 5:Mt(t,ve,et);break;default:throw Error(k(329))}}}return ke(t,G()),t.callbackNode===n?Ld.bind(null,t):null}function qo(t,e){var n=ur;return t.current.memoizedState.isDehydrated&&(Vt(t,e).flags|=256),t=Vs(t,e),t!==2&&(e=ve,ve=n,e!==null&&Ko(e)),t}function Ko(t){ve===null?ve=t:ve.push.apply(ve,t)}function Mp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vt(t,e){for(e&=~Hl,e&=~oi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-He(e),r=1<<n;t[n]=-1,e&=~r}}function uu(t){if(A&6)throw Error(k(327));Cn();var e=Cs(t,0);if(!(e&1))return ke(t,G()),null;var n=Vs(t,e);if(t.tag!==0&&n===2){var r=yo(t);r!==0&&(e=r,n=qo(t,r))}if(n===1)throw n=Or,Vt(t,0),vt(t,e),ke(t,G()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mt(t,ve,et),ke(t,G()),null}function ql(t,e){var n=A;A|=1;try{return t(e)}finally{A=n,A===0&&(Ln=G()+500,ni&&$t())}}function Yt(t){_t!==null&&_t.tag===0&&!(A&6)&&Cn();var e=A;A|=1;var n=$e.transition,r=D;try{if($e.transition=null,D=1,t)return t()}finally{D=r,$e.transition=n,A=e,!(A&6)&&$t()}}function Kl(){Se=xn.current,F(xn)}function Vt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mp(n)),Q!==null)for(n=Q.return;n!==null;){var r=n;switch(Cl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bs();break;case 3:$n(),F(_e),F(ue),Al();break;case 5:Ll(r);break;case 4:$n();break;case 13:F(W);break;case 19:F(W);break;case 10:Rl(r.type._context);break;case 22:case 23:Kl()}n=n.return}if(te=t,Q=t=Tt(t.current,null),re=Se=e,Y=0,Or=null,Hl=oi=Jt=0,ve=ur=null,Wt!==null){for(e=0;e<Wt.length;e++)if(n=Wt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Wt=null}return t}function Ad(t,e){do{var n=Q;try{if(Ol(),gs.current=Fs,zs){for(var r=H.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zs=!1}if(Qt=0,ee=J=H=null,lr=!1,Cr=0,Wl.current=null,n===null||n.return===null){Y=1,Or=e,Q=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=re,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Ja(o);if(v!==null){v.flags&=-257,Ya(v,o,l,i,e),v.mode&1&&Qa(i,u,e),e=v,a=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){Qa(i,u,e),Gl();break e}a=Error(k(426))}}else if(B&&l.mode&1){var j=Ja(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ya(j,o,l,i,e),Tl(In(a,l));break e}}i=a=In(a,l),Y!==4&&(Y=2),ur===null?ur=[i]:ur.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=wd(i,a,e);Wa(i,g);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Pt===null||!Pt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=_d(i,l,e);Wa(i,y);break e}}i=i.return}while(i!==null)}Md(n)}catch(S){e=S,Q===n&&n!==null&&(Q=n=n.return);continue}break}while(1)}function Dd(){var t=Bs.current;return Bs.current=Fs,t===null?Fs:t}function Gl(){(Y===0||Y===3||Y===2)&&(Y=4),te===null||!(Jt&268435455)&&!(oi&268435455)||vt(te,re)}function Vs(t,e){var n=A;A|=2;var r=Dd();(te!==t||re!==e)&&(et=null,Vt(t,e));do try{zp();break}catch(s){Ad(t,s)}while(1);if(Ol(),A=n,Bs.current=r,Q!==null)throw Error(k(261));return te=null,re=0,Y}function zp(){for(;Q!==null;)Ud(Q)}function Fp(){for(;Q!==null&&!hf();)Ud(Q)}function Ud(t){var e=Fd(t.alternate,t,Se);t.memoizedProps=t.pendingProps,e===null?Md(t):Q=e,Wl.current=null}function Md(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ip(n,e),n!==null){n.flags&=32767,Q=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Y=6,Q=null;return}}else if(n=$p(n,e,Se),n!==null){Q=n;return}if(e=e.sibling,e!==null){Q=e;return}Q=e=t}while(e!==null);Y===0&&(Y=5)}function Mt(t,e,n){var r=D,s=$e.transition;try{$e.transition=null,D=1,Bp(t,e,n,r)}finally{$e.transition=s,D=r}return null}function Bp(t,e,n,r){do Cn();while(_t!==null);if(A&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(kf(t,i),t===te&&(Q=te=null,re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rs||(rs=!0,Bd(Ps,function(){return Cn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=D;D=1;var l=A;A|=4,Wl.current=null,Ap(t,n),$d(n,t),ap(Eo),Ts=!!So,Eo=So=null,t.current=n,Dp(n),ff(),A=l,D=o,$e.transition=i}else t.current=n;if(rs&&(rs=!1,_t=t,Hs=s),i=t.pendingLanes,i===0&&(Pt=null),gf(n.stateNode),ke(t,G()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ws)throw Ws=!1,t=Ho,Ho=null,t;return Hs&1&&t.tag!==0&&Cn(),i=t.pendingLanes,i&1?t===Vo?cr++:(cr=0,Vo=t):cr=0,$t(),null}function Cn(){if(_t!==null){var t=wc(Hs),e=$e.transition,n=D;try{if($e.transition=null,D=16>t?16:t,_t===null)var r=!1;else{if(t=_t,_t=null,Hs=0,A&6)throw Error(k(331));var s=A;for(A|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:ar(8,c,i)}var h=c.child;if(h!==null)h.return=c,P=h;else for(;P!==null;){c=P;var f=c.sibling,v=c.return;if(Od(c),c===u){P=null;break}if(f!==null){f.return=v,P=f;break}P=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ar(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ii(9,l)}}catch(S){q(l,l.return,S)}if(l===o){P=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,P=y;break e}P=l.return}}if(A=s,$t(),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Ys,t)}catch{}r=!0}return r}finally{D=n,$e.transition=e}}return!1}function cu(t,e,n){e=In(n,e),e=wd(t,e,1),t=jt(t,e,1),e=he(),t!==null&&($r(t,1,e),ke(t,e))}function q(t,e,n){if(t.tag===3)cu(t,t,n);else for(;e!==null;){if(e.tag===3){cu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=In(n,t),t=_d(e,t,1),e=jt(e,t,1),t=he(),e!==null&&($r(e,1,t),ke(e,t));break}}e=e.return}}function Wp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=he(),t.pingedLanes|=t.suspendedLanes&n,te===t&&(re&n)===n&&(Y===4||Y===3&&(re&130023424)===re&&500>G()-Vl?Vt(t,0):Hl|=n),ke(t,e)}function zd(t,e){e===0&&(t.mode&1?(e=Kr,Kr<<=1,!(Kr&130023424)&&(Kr=4194304)):e=1);var n=he();t=at(t,e),t!==null&&($r(t,e,n),ke(t,n))}function Hp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zd(t,n)}function Vp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),zd(t,n)}var Fd;Fd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_e.current)we=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return we=!1,bp(t,e,n);we=!!(t.flags&131072)}else we=!1,B&&e.flags&1048576&&Vc(e,Ls,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ys(t,e),t=e.pendingProps;var s=On(e,ue.current);Pn(e,n),s=Ul(null,e,r,t,s,n);var i=Ml();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(i=!0,$s(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$l(e),s.updater=si,e.stateNode=s,s._reactInternals=e,$o(e,r,t,n),e=Ao(null,e,r,!0,i,n)):(e.tag=0,B&&i&&Pl(e),de(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ys(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Kp(r),t=ze(r,t),s){case 0:e=Lo(null,e,r,t,n);break e;case 1:e=eu(null,e,r,t,n);break e;case 11:e=Xa(null,e,r,t,n);break e;case 14:e=Za(null,e,r,ze(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),Lo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),eu(t,e,r,s,n);case 3:e:{if(Ed(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Yc(t,e),Us(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=In(Error(k(423)),e),e=tu(t,e,r,n,s);break e}else if(r!==s){s=In(Error(k(424)),e),e=tu(t,e,r,n,s);break e}else for(Ee=Et(e.stateNode.containerInfo.firstChild),Pe=e,B=!0,We=null,n=Qc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rn(),r===s){e=ut(t,e,n);break e}de(t,e,r,n)}e=e.child}return e;case 5:return Xc(e),t===null&&Oo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,jo(r,s)?o=null:i!==null&&jo(r,i)&&(e.flags|=32),Sd(t,e),de(t,e,o,n),e.child;case 6:return t===null&&Oo(e),null;case 13:return jd(t,e,n);case 4:return Il(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bn(e,null,r,n):de(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),Xa(t,e,r,s,n);case 7:return de(t,e,e.pendingProps,n),e.child;case 8:return de(t,e,e.pendingProps.children,n),e.child;case 12:return de(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,M(As,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!_e.current){e=ut(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=it(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ro(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ro(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}de(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pn(e,n),s=Le(s),r=r(s),e.flags|=1,de(t,e,r,n),e.child;case 14:return r=e.type,s=ze(r,e.pendingProps),s=ze(r.type,s),Za(t,e,r,s,n);case 15:return xd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),ys(t,e),e.tag=1,xe(r)?(t=!0,$s(e)):t=!1,Pn(e,n),yd(e,r,s),$o(e,r,s,n),Ao(null,e,r,!0,t,n);case 19:return Pd(t,e,n);case 22:return kd(t,e,n)}throw Error(k(156,e.tag))};function Bd(t,e){return mc(t,e)}function qp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function be(t,e,n,r){return new qp(t,e,n,r)}function Ql(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kp(t){if(typeof t=="function")return Ql(t)?1:0;if(t!=null){if(t=t.$$typeof,t===pl)return 11;if(t===ml)return 14}return 2}function Tt(t,e){var n=t.alternate;return n===null?(n=be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ql(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dn:return qt(n.children,s,i,e);case fl:o=8,s|=8;break;case no:return t=be(12,n,e,s|2),t.elementType=no,t.lanes=i,t;case ro:return t=be(13,n,e,s),t.elementType=ro,t.lanes=i,t;case so:return t=be(19,n,e,s),t.elementType=so,t.lanes=i,t;case Xu:return li(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ju:o=10;break e;case Yu:o=9;break e;case pl:o=11;break e;case ml:o=14;break e;case ft:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=be(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qt(t,e,n,r){return t=be(7,t,r,e),t.lanes=n,t}function li(t,e,n,r){return t=be(22,t,r,e),t.elementType=Xu,t.lanes=n,t.stateNode={isHidden:!1},t}function qi(t,e,n){return t=be(6,t,null,e),t.lanes=n,t}function Ki(t,e,n){return e=be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jl(t,e,n,r,s,i,o,l,a){return t=new Gp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),t}function Qp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wd(t){if(!t)return Ot;t=t._reactInternals;e:{if(Zt(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(xe(n))return Wc(t,n,e)}return e}function Hd(t,e,n,r,s,i,o,l,a){return t=Jl(n,r,!0,t,s,i,o,l,a),t.context=Wd(null),n=t.current,r=he(),s=Ct(n),i=it(r,s),i.callback=e??null,jt(n,i,s),t.current.lanes=s,$r(t,s,r),ke(t,r),t}function ai(t,e,n,r){var s=e.current,i=he(),o=Ct(s);return n=Wd(n),e.context===null?e.context=n:e.pendingContext=n,e=it(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jt(s,e,o),t!==null&&(Ve(t,s,o,i),ms(t,s,o)),o}function qs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function du(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yl(t,e){du(t,e),(t=t.alternate)&&du(t,e)}function Jp(){return null}var Vd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xl(t){this._internalRoot=t}ui.prototype.render=Xl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));ai(t,e,null,null)};ui.prototype.unmount=Xl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yt(function(){ai(null,t,null,null)}),e[lt]=null}};function ui(t){this._internalRoot=t}ui.prototype.unstable_scheduleHydration=function(t){if(t){var e=kc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gt.length&&e!==0&&e<gt[n].priority;n++);gt.splice(n,0,t),n===0&&Ec(t)}};function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ci(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hu(){}function Yp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=qs(o);i.call(u)}}var o=Hd(e,r,t,0,null,!1,!1,"",hu);return t._reactRootContainer=o,t[lt]=o.current,kr(t.nodeType===8?t.parentNode:t),Yt(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=qs(a);l.call(u)}}var a=Jl(t,0,!1,null,null,!1,!1,"",hu);return t._reactRootContainer=a,t[lt]=a.current,kr(t.nodeType===8?t.parentNode:t),Yt(function(){ai(e,a,n,r)}),a}function di(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=qs(o);l.call(a)}}ai(e,o,t,s)}else o=Yp(n,e,t,s,r);return qs(o)}_c=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zn(e.pendingLanes);n!==0&&(yl(e,n|1),ke(e,G()),!(A&6)&&(Ln=G()+500,$t()))}break;case 13:Yt(function(){var r=at(t,1);if(r!==null){var s=he();Ve(r,t,1,s)}}),Yl(t,1)}};wl=function(t){if(t.tag===13){var e=at(t,134217728);if(e!==null){var n=he();Ve(e,t,134217728,n)}Yl(t,134217728)}};xc=function(t){if(t.tag===13){var e=Ct(t),n=at(t,e);if(n!==null){var r=he();Ve(n,t,e,r)}Yl(t,e)}};kc=function(){return D};Sc=function(t,e){var n=D;try{return D=t,e()}finally{D=n}};mo=function(t,e,n){switch(e){case"input":if(lo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ti(r);if(!s)throw Error(k(90));ec(r),lo(r,s)}}}break;case"textarea":nc(t,n);break;case"select":e=n.value,e!=null&&kn(t,!!n.multiple,e,!1)}};uc=ql;cc=Yt;var Xp={usingClientEntryPoint:!1,Events:[Lr,mn,ti,lc,ac,ql]},Qn={findFiberByHostInstance:Bt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zp={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fc(t),t===null?null:t.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||Jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ss.isDisabled&&ss.supportsFiber)try{Ys=ss.inject(Zp),Je=ss}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xp;Te.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(e))throw Error(k(200));return Qp(t,e,null,n)};Te.createRoot=function(t,e){if(!Zl(t))throw Error(k(299));var n=!1,r="",s=Vd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jl(t,1,!1,null,null,n,!1,r,s),t[lt]=e.current,kr(t.nodeType===8?t.parentNode:t),new Xl(e)};Te.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=fc(e),t=t===null?null:t.stateNode,t};Te.flushSync=function(t){return Yt(t)};Te.hydrate=function(t,e,n){if(!ci(e))throw Error(k(200));return di(null,t,e,!0,n)};Te.hydrateRoot=function(t,e,n){if(!Zl(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hd(e,null,t,1,n??null,s,!1,i,o),t[lt]=e.current,kr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ui(e)};Te.render=function(t,e,n){if(!ci(e))throw Error(k(200));return di(null,t,e,!1,n)};Te.unmountComponentAtNode=function(t){if(!ci(t))throw Error(k(40));return t._reactRootContainer?(Yt(function(){di(null,null,t,!1,function(){t._reactRootContainer=null,t[lt]=null})}),!0):!1};Te.unstable_batchedUpdates=ql;Te.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ci(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return di(t,e,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qd)}catch(t){console.error(t)}}qd(),qu.exports=Te;var em=qu.exports,fu=em;eo.createRoot=fu.createRoot,eo.hydrateRoot=fu.hydrateRoot;const tm="modulepreload",nm=function(t){return"/"+t},pu={},Dr=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=nm(i),i in pu)return;pu[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const h=s[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":tm,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},rm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(()=>Promise.resolve().then(()=>zn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ea extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class sm extends ea{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class im extends ea{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class om extends ea{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Go;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Go||(Go={}));var lm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class am{constructor(e,{headers:n={},customFetch:r,region:s=Go.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=rm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return lm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new sm(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new im(c);if(!c.ok)throw new om(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield c.json():f==="application/octet-stream"?v=yield c.blob():f==="text/event-stream"?v=c:f==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var ye={},ta={},hi={},Ur={},fi={},pi={},um=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},An=um();const cm=An.fetch,Kd=An.fetch.bind(An),Gd=An.Headers,dm=An.Request,hm=An.Response,zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gd,Request:dm,Response:hm,default:Kd,fetch:cm},Symbol.toStringTag,{value:"Module"})),fm=Ph(zn);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});let pm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};mi.default=pm;var Qd=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});const mm=Qd(fm),gm=Qd(mi);let vm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=g:c=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&j&&j.length>1&&(h=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new gm.default(u)}return{error:u,data:c,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};pi.default=vm;var ym=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const wm=ym(pi);let _m=class extends wm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};fi.default=_m;var xm=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ur,"__esModule",{value:!0});const km=xm(fi);let Sm=class extends km.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ur.default=Sm;var Em=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hi,"__esModule",{value:!0});const Jn=Em(Ur);let jm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Jn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};hi.default=jm;var gi={},vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.version=void 0;vi.version="0.0.0-automated";Object.defineProperty(gi,"__esModule",{value:!0});gi.DEFAULT_HEADERS=void 0;const Pm=vi;gi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pm.version}`};var Jd=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});const Cm=Jd(hi),Tm=Jd(Ur),Nm=gi;let Om=class Yd{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Nm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Cm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Yd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{l.searchParams.append(c,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Tm.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ta.default=Om;var Fn=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ye,"__esModule",{value:!0});ye.PostgrestError=ye.PostgrestBuilder=ye.PostgrestTransformBuilder=ye.PostgrestFilterBuilder=ye.PostgrestQueryBuilder=ye.PostgrestClient=void 0;const Xd=Fn(ta);ye.PostgrestClient=Xd.default;const Zd=Fn(hi);ye.PostgrestQueryBuilder=Zd.default;const eh=Fn(Ur);ye.PostgrestFilterBuilder=eh.default;const th=Fn(fi);ye.PostgrestTransformBuilder=th.default;const nh=Fn(pi);ye.PostgrestBuilder=nh.default;const rh=Fn(mi);ye.PostgrestError=rh.default;var Rm=ye.default={PostgrestClient:Xd.default,PostgrestQueryBuilder:Zd.default,PostgrestFilterBuilder:eh.default,PostgrestTransformBuilder:th.default,PostgrestBuilder:nh.default,PostgrestError:rh.default};const{PostgrestClient:bm,PostgrestQueryBuilder:Zg,PostgrestFilterBuilder:ev,PostgrestTransformBuilder:tv,PostgrestBuilder:nv,PostgrestError:rv}=Rm;let Qo;typeof window>"u"?Qo=require("ws"):Qo=window.WebSocket;const $m=Qo,Im="2.11.10",Lm={"X-Client-Info":`realtime-js/${Im}`},Am="1.0.0",sh=1e4,Dm=1e3;var Tn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tn||(Tn={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var Jo;(function(t){t.websocket="websocket"})(Jo||(Jo={}));var Ft;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ft||(Ft={}));class Um{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ih{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var U;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(U||(U={}));const mu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Mm(o,t,e,s),i),{})},Mm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?oh(i,o):Yo(o)},oh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Wm(e,n)}switch(t){case U.bool:return zm(e);case U.float4:case U.float8:case U.int2:case U.int4:case U.int8:case U.numeric:case U.oid:return Fm(e);case U.json:case U.jsonb:return Bm(e);case U.timestamp:return Hm(e);case U.abstime:case U.date:case U.daterange:case U.int4range:case U.int8range:case U.money:case U.reltime:case U.text:case U.time:case U.timestamptz:case U.timetz:case U.tsrange:case U.tstzrange:return Yo(e);default:return Yo(e)}},Yo=t=>t,zm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Wm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>oh(e,l))}return t},Hm=t=>typeof t=="string"?t.replace(" ","T"):t,lh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Gi{constructor(e,n,r={},s=sh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var gu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(gu||(gu={}));class dr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=dr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=dr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=c.filter(j=>v.indexOf(j.presence_ref)<0),_=h.filter(j=>f.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const h=e[l].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(vu||(vu={}));var yu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(yu||(yu={}));var tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class na{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Gi(this,Be.join,this.params,this.timeout),this.rejoinTimer=new ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new dr(this),this.broadcastEndpointURL=lh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>e==null?void 0:e(tt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(tt.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(tt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let _=0;_<v;_++){const j=f[_],{filter:{event:g,schema:p,table:m,filter:y}}=j,S=c&&c[_];if(S&&S.event===g&&S.schema===p&&S.table===m&&S.filter===y)w.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),this.state=ce.errored,e==null||e(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(tt.SUBSCRIBED);return}}).receive("error",c=>{this.state=ce.errored,e==null||e(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Gi(this,Be.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gi(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Be;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,_,j,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,S=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:_,table:j,commit_timestamp:g,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&na.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=mu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=mu(e.columns,e.old_record)),n}}const wu=()=>{},Vm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qm{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Lm,this.params={},this.timeout=sh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wu,this.ref=0,this.logger=wu,this.conn=null,this.sendBuffer=[],this.serializer=new Um,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Dr(()=>Promise.resolve().then(()=>zn),void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Jo.websocket}`,this.httpEndpoint=lh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ih(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$m),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Km(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Am}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Tn.connecting:return Ft.Connecting;case Tn.open:return Ft.Open;case Tn.closing:return Ft.Closing;default:return Ft.Closed}}isConnected(){return this.connectionState()===Ft.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new na(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Be.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Dm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Vm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Km{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Tn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class ra extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Z(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Gm extends ra{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xo extends ra{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Qm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(()=>Promise.resolve().then(()=>zn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jm=()=>Qm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dr(()=>Promise.resolve().then(()=>zn),void 0)).Response:Response}),Zo=t=>{if(Array.isArray(t))return t.map(n=>Zo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Zo(r)}),e};var en=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ym=(t,e,n)=>en(void 0,void 0,void 0,function*(){const r=yield Jm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Gm(Qi(s),t.status||500))}).catch(s=>{e(new Xo(Qi(s),s))}):e(new Xo(Qi(t),t))}),Xm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Mr(t,e,n,r,s,i){return en(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Xm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Ym(a,l,r))})})}function Ks(t,e,n,r){return en(this,void 0,void 0,function*(){return Mr(t,"GET",e,n,r)})}function mt(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Mr(t,"POST",e,r,s,n)})}function Zm(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Mr(t,"PUT",e,r,s,n)})}function e0(t,e,n,r){return en(this,void 0,void 0,function*(){return Mr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uh(t,e,n,r,s){return en(this,void 0,void 0,function*(){return Mr(t,"DELETE",e,r,s,n)})}var me=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const t0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n0{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=ah(s)}uploadOrUpdate(e,n,r,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_u),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(Z(i))return{data:null,error:i};throw i}})}upload(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:_u.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(Z(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ra("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}update(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}copy(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return me(this,void 0,void 0,function*(){try{const s=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}download(e,n){return me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ks(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Z(l))return{data:null,error:l};throw l}})}info(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ks(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zo(r),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}exists(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield e0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Z(r)&&r instanceof Xo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}list(e,n,r){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},t0),n),{prefix:e||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Z(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const r0="2.7.1",s0={"X-Client-Info":`storage-js/${r0}`};var rn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class i0{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},s0),n),this.fetch=ah(r)}listBuckets(){return rn(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Z(e))return{data:null,error:e};throw e}})}getBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Ks(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return rn(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return rn(this,void 0,void 0,function*(){try{return{data:yield Zm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Z(r))return{data:null,error:r};throw r}})}emptyBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}deleteBucket(e){return rn(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Z(n))return{data:null,error:n};throw n}})}}class o0 extends i0{constructor(e,n={},r){super(e,n,r)}from(e){return new n0(this.url,this.headers,e,this.fetch)}}const l0="2.50.0";let tr="";typeof Deno<"u"?tr="deno":typeof document<"u"?tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?tr="react-native":tr="node";const a0={"X-Client-Info":`supabase-js-${tr}/${l0}`},u0={headers:a0},c0={schema:"public"},d0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h0={};var f0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const p0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Kd:e=fetch,(...n)=>e(...n)},m0=()=>typeof Headers>"u"?Gd:Headers,g0=(t,e,n)=>{const r=p0(n),s=m0();return(i,o)=>f0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var v0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function y0(t){return t.endsWith("/")?t:t+"/"}function w0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>v0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ch="2.70.0",an=30*1e3,el=3,Ji=el*an,_0="http://localhost:9999",x0="supabase.auth.token",k0={"X-Client-Info":`gotrue-js/${ch}`},tl="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E0=6e5;class sa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class j0 extends sa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P0(t){return R(t)&&t.name==="AuthApiError"}class hh extends sa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class It extends sa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ht extends It{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function C0(t){return R(t)&&t.name==="AuthSessionMissingError"}class is extends It{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class os extends It{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ls extends It{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function T0(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class xu extends It{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nl extends It{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yi(t){return R(t)&&t.name==="AuthRetryableFetchError"}class ku extends It{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hr extends It{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),N0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Su.length;e+=1)t[Su[e].charCodeAt(0)]=-2;for(let e=0;e<Gs.length;e+=1)t[Gs[e].charCodeAt(0)]=e;return t})();function Eu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gs[r]),e.queuedBits-=6}}function fh(t,e,n){const r=N0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ju(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{b0(o,r,n)};for(let o=0;o<t.length;o+=1)fh(t.charCodeAt(o),s,i);return e.join("")}function O0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function R0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}O0(r,e)}}function b0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function $0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function I0(t){const e=[];return R0(t,n=>e.push(n)),new Uint8Array(e)}function L0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Eu(s,n,r)),Eu(null,n,r),e.join("")}function A0(t){return Math.round(Date.now()/1e3)+t}function D0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Dt={tested:!1,writable:!1},fr=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Dt.tested)return Dt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Dt.tested=!0,Dt.writable=!0}catch{Dt.tested=!0,Dt.writable=!1}return Dt.writable};function U0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Dr(()=>Promise.resolve().then(()=>zn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},M0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",mh=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},as=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},us=async(t,e)=>{await t.removeItem(e)};class yi{constructor(){this.promise=new yi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}yi.promiseConstructor=Promise;function Xi(t){const e=t.split(".");if(e.length!==3)throw new hr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!S0.test(e[r]))throw new hr("JWT not in base64url format");return{header:JSON.parse(ju(e[0])),payload:JSON.parse(ju(e[1])),signature:$0(e[2]),raw:{header:e[0],payload:e[1]}}}async function z0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function F0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function B0(t){return("0"+t.toString(16)).substr(-2)}function W0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,B0).join("")}async function H0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function V0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await H0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sn(t,e,n=!1){const r=W0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await mh(t,`${e}-code-verifier`,s);const i=await V0(r);return[i,r===i?"plain":"s256"]}const q0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function K0(t){const e=t.headers.get(tl);if(!e||!e.match(q0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function G0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Q0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const J0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function on(t){if(!J0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Y0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),X0=[502,503,504];async function Pu(t){var e;if(!M0(t))throw new nl(zt(t),0);if(X0.includes(t.status))throw new nl(zt(t),t.status);let n;try{n=await t.json()}catch(i){throw new hh(zt(i),i)}let r;const s=K0(t);if(s&&s.getTime()>=dh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ku(zt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ku(zt(n),t.status,n.weak_password.reasons);throw new j0(zt(n),t.status||500,r)}const Z0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[tl]||(i[tl]=dh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await eg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function eg(t,e,n,r,s,i){const o=Z0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new nl(zt(a),0)}if(l.ok||await Pu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Pu(a)}}function Ze(t){var e;let n=null;sg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=A0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Cu(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tg(t){return{data:t,error:null}}function ng(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Y0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function rg(t){return t}function sg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zi=["global","local","others"];var ig=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class og{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ph(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Zi[0]){if(Zi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zi.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ig(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ng,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:rg});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){on(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){on(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){on(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){on(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){on(e.userId),on(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}const lg={getItem:t=>fr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{fr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{fr()&&globalThis.localStorage.removeItem(t)}};function Tu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ag(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ln={debug:!!(globalThis&&fr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ug extends gh{}async function cg(t,e,n){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ln.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ln.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ug(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ln.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ag();const dg={url:_0,storageKey:x0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:k0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nu(t,e,n){return await n()}class Rr{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rr.nextInstanceID,Rr.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new og({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ph(s.fetch),this.lock=s.lock||Nu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cg:this.lock=Nu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:fr()?this.storage=lg:(this.memoryStorage={},this.storage=Tu(this.memoryStorage)):(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=U0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),T0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new hh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ze}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await sn(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:Ze})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ze})}else throw new os("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cu})}else throw new os("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new is}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,h,f,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:j,wallet:g,statement:p,options:m}=e;let y;if(Me())if(typeof g=="object")y=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))y=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const S=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const x=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let E;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")E=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)E=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const x=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:j,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:L0(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new is}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(R(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await as(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ze});if(await us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new is}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ze}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new is}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await sn(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new os("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ze});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await sn(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:tg})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ht;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new os("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ji:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yt})})}catch(n){if(R(n))return C0(n)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ht;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await sn(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:yt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ht;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Xi(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ht;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Me())throw new ls("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ls(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ls("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ls("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let f=c+h;a&&(f=parseInt(a));const v=f-c;v*1e3<=an&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(P0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=D0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await sn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Me()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await F0(async s=>(s>0&&await z0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yi(i)&&Date.now()+o-r<an})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await as(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ji;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ji}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Yi(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return Yi(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mh(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await us(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),an);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/an);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${an}ms, refresh threshold is ${el} ticks`),s<=el&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await sn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xi(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+E0>Date.now()))return r;const{data:s,error:i}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new hr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new hr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Xi(r);if(G0(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=Q0(s.alg),c=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,I0(`${l}.${a}`)))throw new hr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}Rr.nextInstanceID=0;const hg=Rr;class fg extends hg{constructor(e){super(e)}}var pg=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class mg{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=y0(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:c0,realtime:h0,auth:Object.assign(Object.assign({},d0),{storageKey:u}),global:u0},h=w0(r??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=g0(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new bm(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new am(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new o0(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return pg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fg({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gg=(t,e,n)=>new mg(t,e,n),vh="https://xnpaopqulaivpyylqqsu.supabase.co",yh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhucGFvcHF1bGFpdnB5eWxxcXN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NjMwNTgsImV4cCI6MjA2NTAzOTA1OH0.-xnHtZgHByFgg_11EBPqBnMFssUs1ujbEQSw280btok";let je;je=gg(vh,yh,{auth:{persistSession:!1,autoRefreshToken:!1}});async function vg(){try{console.log("Testing Supabase connection...");const{data:t,error:e}=await je.from("recommendations").select("count",{count:"exact",head:!0});e&&console.warn("Recommendations table access error:",e);const{data:n,error:r}=await je.from("api_cache").select("count",{count:"exact",head:!0});if(r&&(console.warn("API cache table access error:",r),r.code==="42501"))return{status:"ERROR",message:"RLS policy error on api_cache table. Please run the RLS migration.",timestamp:new Date().toISOString(),details:{error:r,suggestion:"Run the fix_api_cache_rls.sql migration to fix RLS policies"}};const s=`connection_test_${Date.now()}`,{error:i}=await je.from("api_cache").insert({cache_key:s,data:{test:!0},expires_at:new Date(Date.now()+6e4).toISOString()});if(i){if(console.warn("Cache write test failed:",i),i.code==="42501")return{status:"ERROR",message:"Cannot write to api_cache table due to RLS policies",timestamp:new Date().toISOString(),details:{error:i,suggestion:"Run the fix_api_cache_rls.sql migration to allow anonymous write access"}}}else await je.from("api_cache").delete().eq("cache_key",s);return{status:"OK",message:"Connected to Supabase with proper RLS access",timestamp:new Date().toISOString(),details:{recommendations_accessible:!e,cache_readable:!r,cache_writable:!i}}}catch(t){return console.error("Supabase connection error:",t),{status:"ERROR",message:t.message,timestamp:new Date().toISOString(),details:{error:t,suggestion:"Check environment variables and network connection"}}}}async function wh(t){try{console.log(`Checking cache for key: ${t}`);const{data:e,error:n}=await je.from("api_cache").select("data").eq("cache_key",t).gt("expires_at",new Date().toISOString()).maybeSingle();return n?(console.warn(`Cache query error for key ${t}:`,n),null):e?(console.log(`Cache hit for key: ${t}`),e.data):(console.log(`No valid cache found for key: ${t}`),null)}catch(e){return console.error("Error retrieving cached data:",e),null}}async function Qs(t,e,n=30){var r;try{const s=new Date(Date.now()+n*60*1e3);console.log(`Caching data for key: ${t}, expires: ${s.toISOString()}`);const{data:i,error:o}=await je.from("api_cache").select("id").eq("cache_key",t).maybeSingle();o&&console.warn(`Error checking existing cache for ${t}:`,o);let l;return i?l=await je.from("api_cache").update({data:e,expires_at:s.toISOString()}).eq("cache_key",t):l=await je.from("api_cache").insert({cache_key:t,data:e,expires_at:s.toISOString()}),l.error?(console.error(`Error caching data for ${t}:`,l.error),l.error.code==="42501"&&(console.error("RLS Policy Error: The api_cache table policies may need to be updated to allow anonymous access"),console.error("Please run the RLS migration to fix this issue")),!1):(console.log(`Successfully cached data for key: ${t}`),!0)}catch(s){return console.error("Error caching data:",s),(r=s.message)!=null&&r.includes("row-level security")&&console.error("RLS Error: Please ensure the api_cache table has proper policies for anonymous access"),!1}}const yg=[{symbol:"AAPL",date:"2024-01-25",eps:2.18,epsEstimated:2.1,revenue:119.58,revenueEstimated:117.91},{symbol:"MSFT",date:"2024-01-24",eps:2.93,epsEstimated:2.78,revenue:62.02,revenueEstimated:61.12},{symbol:"GOOGL",date:"2024-01-30",eps:1.64,epsEstimated:1.59,revenue:80.54,revenueEstimated:79.13},{symbol:"TSLA",date:"2024-01-24",eps:.71,epsEstimated:.73,revenue:25.17,revenueEstimated:25.87},{symbol:"NVDA",date:"2024-02-21",eps:5.16,epsEstimated:4.64,revenue:60.92,revenueEstimated:57.97}],wg={AAPL:{underlyingPrice:185.64,options:[{strike:180,expiration:"2024-02-02",type:"put",bid:2.15,ask:2.25,premium:2.2,delta:-.18,impliedVolatility:.28,volume:1250,openInterest:3420},{strike:175,expiration:"2024-02-02",type:"put",bid:1.45,ask:1.55,premium:1.5,delta:-.12,impliedVolatility:.26,volume:890,openInterest:2180},{strike:170,expiration:"2024-02-09",type:"put",bid:1.85,ask:1.95,premium:1.9,delta:-.15,impliedVolatility:.29,volume:1560,openInterest:4230}]},MSFT:{underlyingPrice:402.56,options:[{strike:395,expiration:"2024-02-02",type:"put",bid:8.2,ask:8.4,premium:8.3,delta:-.19,impliedVolatility:.31,volume:780,openInterest:1890},{strike:390,expiration:"2024-02-09",type:"put",bid:9.15,ask:9.35,premium:9.25,delta:-.17,impliedVolatility:.3,volume:1120,openInterest:2650}]},TSLA:{underlyingPrice:207.83,options:[{strike:200,expiration:"2024-02-02",type:"put",bid:4.85,ask:5.05,premium:4.95,delta:-.16,impliedVolatility:.45,volume:2340,openInterest:5670},{strike:195,expiration:"2024-02-09",type:"put",bid:5.2,ask:5.4,premium:5.3,delta:-.14,impliedVolatility:.43,volume:1890,openInterest:4120}]}},Ou=[{id:1,symbol:"AAPL",strike_price:180,expiration_date:"2024-02-02",premium:2.2,confidence_score:87.5,pop:89.2,delta:-.18,implied_volatility:.28,premium_percentage:4.2,max_loss:1780,breakeven:177.8,earnings_date:"2024-01-25",created_at:new Date().toISOString(),is_active:!0},{id:2,symbol:"MSFT",strike_price:395,expiration_date:"2024-02-02",premium:8.3,confidence_score:82.1,pop:85.7,delta:-.19,implied_volatility:.31,premium_percentage:3.8,max_loss:3867,breakeven:386.7,earnings_date:"2024-01-24",created_at:new Date().toISOString(),is_active:!0},{id:3,symbol:"TSLA",strike_price:200,expiration_date:"2024-02-02",premium:4.95,confidence_score:78.9,pop:84.3,delta:-.16,implied_volatility:.45,premium_percentage:4.1,max_loss:1950.5,breakeven:195.05,earnings_date:"2024-01-24",created_at:new Date().toISOString(),is_active:!0}];function _h(t=1e3){return new Promise(e=>setTimeout(e,t))}class ks extends Error{constructor(e,n,r,s=null){super(e),this.name="APIError",this.status=n,this.source=r,this.response=s}}class xh{constructor(e,n={},r=null){this.baseURL=e,this.defaultHeaders=n,this.rateLimiter=r}async request(e,n={},r=3){const s=`${this.baseURL}${e}`;this.rateLimiter&&await this.rateLimiter.checkLimit();const i={...n,headers:{...this.defaultHeaders,...n.headers}};let o=null;for(let l=0;l<=r;l++)try{console.log(`Making API request to ${s} (attempt ${l+1}/${r+1})`);const a=await fetch(s,i);if(!a.ok){const c=await a.text();throw new ks(`HTTP ${a.status}: ${c}`,a.status,this.baseURL,a)}const u=await a.json();if(u.error)throw new ks(u.error,a.status,this.baseURL,a);if(u.status==="ERROR")throw new ks(u.message||"API returned error status",a.status,this.baseURL,a);return console.log(`API request successful: ${s}`),u}catch(a){if(o=a,a.status>=400&&a.status<500&&a.status!==429)throw console.error(`Client error, not retrying: ${a.message}`),a;if(l===r)throw console.error(`Max retries reached for ${s}: ${a.message}`),a;const u=Math.min(1e3*Math.pow(2,l),1e4);console.warn(`Request failed, retrying in ${u}ms: ${a.message}`),await new Promise(c=>setTimeout(c,u))}throw o}async get(e,n={},r={}){const s=new URLSearchParams(n).toString(),i=s?`${e}?${s}`:e;return this.request(i,{method:"GET",...r})}async post(e,n={},r={}){return this.request(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",...r.headers},...r})}}class kh{constructor(e=10,n=6e4,r="API"){this.maxRequests=e,this.windowMs=n,this.name=r,this.requests=[],this.lastReset=Date.now(),this.retryCount=0,this.maxRetries=3,this.baseRetryDelay=2e3}async checkLimit(){const e=Date.now(),n=e-this.windowMs;if(this.requests=this.requests.filter(r=>r>n),this.requests.length>=this.maxRequests){const r=Math.min(...this.requests),s=this.windowMs-(e-r),i=this.baseRetryDelay*Math.pow(2,this.retryCount)*(.5+Math.random()*.5),o=Math.max(s,i);if(this.retryCount>=this.maxRetries)throw this.retryCount=0,new Error(`${this.name} rate limit exceeded after ${this.maxRetries} retries. Please wait ${Math.ceil(o/1e3)} seconds.`);return console.warn(`${this.name} rate limit hit. Retry ${this.retryCount+1}/${this.maxRetries} after ${Math.ceil(o/1e3)} seconds`),this.retryCount++,await new Promise(l=>setTimeout(l,o)),this.checkLimit()}return this.retryCount=0,this.requests.push(e),console.log(`${this.name} rate limit: ${this.requests.length}/${this.maxRequests} requests in current window`),!0}getUsage(){const e=Date.now(),n=e-this.windowMs,r=this.requests.filter(s=>s>n);return{current:r.length,max:this.maxRequests,remaining:this.maxRequests-r.length,resetTime:new Date(Math.max(...this.requests,e)+this.windowMs),retryCount:this.retryCount}}reset(){this.requests=[],this.retryCount=0,this.lastReset=Date.now(),console.log(`${this.name} rate limiter reset`)}isInBackoff(){return this.retryCount>0}}const rl=new kh(5,6e4,"Polygon.io"),un=new kh(8,6e4,"FMP"),_g="https://api.polygon.io",Ru="H1FcZSroPChSzthjgM_AmF1jpRM0AVpH",xg=!0,kg=parseInt("15")||15;let sl=null;sl=new xh(_g,{},rl);async function Sg(t,e=null){const n=`options_chain_${t}${e?`_${e}`:""}`;let r=await wh(n);if(r)return console.log(`Using cached options chain for ${t}`),r;{console.log(`Using mock options chain for ${t}`),await _h(800);const s=wg[t]||{underlyingPrice:100,options:[]};return await Qs(n,s,kg),s}}async function Eg(t){const e={},n=[];for(const r of t)try{console.log(`Fetching options for ${r}...`),e[r]=await Sg(r),await new Promise(s=>setTimeout(s,200))}catch(s){console.error(`Failed to fetch options for ${r}:`,s),n.push({symbol:r,error:s.message})}return{results:e,errors:n,timestamp:new Date().toISOString()}}async function jg(){try{if(xg)return{status:"DEMO",message:"Using mock data mode",timestamp:new Date().toISOString(),usage:{current:0,max:5,remaining:5}};if(!sl)return{status:"ERROR",message:"Polygon client not initialized",timestamp:new Date().toISOString(),usage:{current:0,max:5,remaining:5}};const t=await sl.get("/v1/marketstatus/now",{apikey:Ru}),e=rl.getUsage();return{status:t.status||"OK",message:`Polygon API is accessible. Market: ${t.market||"unknown"}`,timestamp:new Date().toISOString(),usage:e}}catch(t){const e=rl.getUsage();return{status:"ERROR",message:t.message,timestamp:new Date().toISOString(),usage:e}}}const Pg="https://financialmodelingprep.com/api/v3",bu="r5PbKWYaimzTNi0Y2GoicUhQbv3VNqPQ",Cg=!0,Tg=parseInt("240")||240;let il=null;il=new xh(Pg,{},un);function Ng(){const t=new Date,e=t.getDay(),n=new Date(t);n.setDate(t.getDate()-e);const r=new Date(n);return r.setDate(n.getDate()+6),{from:n.toISOString().split("T")[0],to:r.toISOString().split("T")[0]}}function Og(){const t=new Date,e=t.getDay(),n=new Date(t);n.setDate(t.getDate()+(7-e));const r=new Date(n);return r.setDate(n.getDate()+6),{from:n.toISOString().split("T")[0],to:r.toISOString().split("T")[0]}}async function Rg(t=null,e=null){if(!t||!e){const s=Ng(),i=Og();t=s.from,e=i.to}const n=`fmp_earnings_${t}_${e}`;let r=await wh(n);if(r)return console.log(`Using cached earnings calendar for ${t} to ${e}`),r;{console.log(`Using mock earnings calendar for ${t} to ${e}`),await _h(600);const s=yg.filter(i=>{const o=new Date(i.date),l=new Date(t),a=new Date(e);return o>=l&&o<=a});return await Qs(n,s,Tg),s}}async function bg(){try{if(Cg)return{status:"DEMO",message:"Using mock data mode",timestamp:new Date().toISOString(),usage:{current:0,max:250,remaining:250}};if(!il)return{status:"ERROR",message:"FMP client not initialized",timestamp:new Date().toISOString(),usage:{current:0,max:250,remaining:250}};await un.checkLimit();const t=await il.get("/profile/AAPL",{apikey:bu});if(!Array.isArray(t)||t.length===0)throw new ks("Invalid response from FMP API",500,"FMP");const e=un.getUsage();return{status:"OK",message:"FMP API is accessible",timestamp:new Date().toISOString(),usage:e,rateLimitInfo:{inBackoff:un.isInBackoff(),retryCount:e.retryCount}}}catch(t){const e=un.getUsage();let n=t.message;return(t.status===429||t.message.includes("Limit Reach"))&&(n="FMP API rate limit exceeded. Using cached data when available."),{status:"ERROR",message:n,timestamp:new Date().toISOString(),usage:e,rateLimitInfo:{inBackoff:un.isInBackoff(),retryCount:e.retryCount}}}}function $g(t){return .5*(1+Ig(t/Math.sqrt(2)))}function Ig(t){const e=.254829592,n=-.284496736,r=1.421413741,s=-1.453152027,i=1.061405429,o=.3275911,l=t>=0?1:-1;t=Math.abs(t);const a=1/(1+o*t),u=1-((((i*a+s)*a+r)*a+n)*a+e)*a*Math.exp(-t*t);return l*u}function Lg(t,e,n,r=.05,s){if(n<=0||s<=0)return 0;const i=(Math.log(t/e)+(r-.5*Math.pow(s,2))*n)/(s*Math.sqrt(n));return $g(i)*100}function Ag(t,e,n,r,s,i){const o=Math.max(0,100-t*200),l=Math.min(100,Math.log10(Math.max(1,e))*25),a=Math.min(100,Math.log10(Math.max(1,n))*20),u=Math.max(0,Math.min(100,(r+50)*1.33)),c=Math.max(0,Math.min(100,s)),h=Math.min(100,i*20),f=o*.25+l*.2+a*.2+u*.15+c*.1+h*.1;return Math.max(0,Math.min(100,f))}function Dg(t){const e=new Date,s=(new Date(t).getTime()-e.getTime())/(1e3*60*60*24);return Math.max(0,s/365.25)}function Ug(t,e){return t-e}function Mg(t,e){return(t-e)*100}function $u(t,e){return e<=0?0:t/e*100}class zg{constructor(){this.minDelta=.2,this.minPremiumPercentage=3.5,this.minPOP=87,this.maxPOP=93,this.maxDaysToExpiry=14,this.minDaysToExpiry=1}async generateRecommendations(){try{console.log("Starting recommendation generation...");const e=await this.getCachedRecommendations();e.length>0&&console.log(`Found ${e.length} cached recommendations`);let n;try{n=await Rg(),console.log(`Found ${n.length} companies with upcoming earnings`)}catch(l){if(console.error("Error fetching earnings data:",l),l.message.includes("rate limit")||l.message.includes("429"))return console.warn("Rate limit hit, using cached recommendations"),e;if(e.length>0)return console.warn("Using cached recommendations due to earnings API error"),e;throw l}if(n.length===0)return console.log("No earnings found for the current period, using cached recommendations"),e;const r=n.map(l=>l.symbol).slice(0,8);console.log(`Fetching options data for symbols: ${r.join(", ")}`);let s;try{s=await Eg(r)}catch(l){if(console.error("Error fetching options data:",l),e.length>0)return console.warn("Using cached recommendations due to options API error"),e;throw l}const i=[];for(const l of r)try{const a=n.find(h=>h.symbol===l),u=s.results[l];if(!a||!u||!u.options){console.log(`Skipping ${l}: missing earnings or options data`);continue}const c=await this.processSymbol(l,a,u);i.push(...c)}catch(a){console.error(`Error processing ${l}:`,a)}const o=i.sort((l,a)=>a.confidence_score-l.confidence_score).slice(0,20);return console.log(`Generated ${o.length} new recommendations`),o.length>0?(await this.saveRecommendations(o),o):(console.log("No new recommendations generated, using cached recommendations"),e)}catch(e){console.error("Error generating recommendations:",e);const n=await this.getCachedRecommendations();if(n.length>0)return console.log(`Returning ${n.length} cached recommendations as fallback`),n;throw e}}async processSymbol(e,n,r){const s=[],i=r.underlyingPrice;if(!i||i<=0)return console.log(`Skipping ${e}: invalid stock price`),s;console.log(`Processing ${e}: stock price $${i}, ${r.options.length} options`);for(const o of r.options)try{if(!this.meetsBasicCriteria(o,i,n.date))continue;const l=Dg(o.expiration),a=Lg(i,o.strike,l,.05,o.impliedVolatility);if(a<this.minPOP||a>this.maxPOP)continue;const u=$u(o.premium,i),c=Ug(o.strike,o.premium),h=Mg(o.strike,o.premium),f=Ag(o.impliedVolatility,o.openInterest,o.volume,n.epsGrowth||0,a,u),v={symbol:e,strike_price:o.strike,expiration_date:o.expiration,premium:o.premium,confidence_score:f,pop:a,delta:Math.abs(o.delta),implied_volatility:o.impliedVolatility,premium_percentage:u,max_loss:h,breakeven:c,earnings_date:n.date,volume:o.volume,open_interest:o.openInterest,stock_price:i,eps_growth:n.epsGrowth||0,created_at:new Date().toISOString(),is_active:!0};s.push(v)}catch(l){console.error(`Error processing option for ${e}:`,l)}return console.log(`Generated ${s.length} recommendations for ${e}`),s}meetsBasicCriteria(e,n,r){if(Math.abs(e.delta)>this.minDelta||$u(e.premium,n)<this.minPremiumPercentage)return!1;const i=Math.ceil((new Date(e.expiration)-new Date)/(1e3*60*60*24));if(i<this.minDaysToExpiry||i>this.maxDaysToExpiry)return!1;const o=new Date(e.expiration),l=new Date(r);return!(o<=l||e.volume<10||e.openInterest<50||e.premium<=0||e.premium>n*.1)}async getCachedRecommendations(){try{const{data:e,error:n}=await je.from("recommendations").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1}).limit(20);return n?(console.warn("Error fetching cached recommendations:",n),[]):e||[]}catch(e){return console.error("Error fetching cached recommendations:",e),[]}}async saveRecommendations(e){try{const{error:n}=await je.from("recommendations").update({is_active:!1}).eq("is_active",!0);if(n&&console.warn("Error deactivating old recommendations:",n),e.length>0){const{error:r}=await je.from("recommendations").insert(e);if(r)throw console.error("Error saving recommendations:",r),r;console.log(`Saved ${e.length} recommendations to database`),await Qs("latest_recommendations",e,60)}}catch(n){console.error("Error saving recommendations to database:",n);try{await Qs("latest_recommendations",e,60),console.log("Cached recommendations despite database error")}catch(r){console.error("Failed to cache recommendations:",r)}throw n}}updateCriteria(e){e.minDelta!==void 0&&(this.minDelta=e.minDelta),e.minPremiumPercentage!==void 0&&(this.minPremiumPercentage=e.minPremiumPercentage),e.minPOP!==void 0&&(this.minPOP=e.minPOP),e.maxPOP!==void 0&&(this.maxPOP=e.maxPOP),e.maxDaysToExpiry!==void 0&&(this.maxDaysToExpiry=e.maxDaysToExpiry),e.minDaysToExpiry!==void 0&&(this.minDaysToExpiry=e.minDaysToExpiry),console.log("Updated filtering criteria:",{minDelta:this.minDelta,minPremiumPercentage:this.minPremiumPercentage,minPOP:this.minPOP,maxPOP:this.maxPOP,maxDaysToExpiry:this.maxDaysToExpiry,minDaysToExpiry:this.minDaysToExpiry})}}const Fg=new zg;function Bg({recommendation:t}){const[e,n]=ge.useState(!1),r=a=>a>=80?"bg-green-100 text-green-800 border-green-200":a>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",s=a=>a>=80?"High":a>=60?"Moderate":"Low",i=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a),o=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),l=Math.ceil((new Date(t.expiration_date)-new Date)/(1e3*60*60*24));return d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-corporate-900",children:t.symbol}),d.jsxs("p",{className:"text-corporate-600",children:["Strike: ",i(t.strike_price)]})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${r(t.confidence_score)}`,children:s(t.confidence_score)})]}),d.jsxs("div",{className:"space-y-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Premium:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:i(t.premium)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Confidence Score:"}),d.jsxs("span",{className:"font-semibold text-corporate-900",children:[t.confidence_score.toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Probability of Profit:"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[t.pop.toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Delta:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:t.delta.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Premium %:"}),d.jsxs("span",{className:"font-semibold text-corporate-900",children:[t.premium_percentage.toFixed(2),"%"]})]})]}),d.jsxs("div",{className:"bg-corporate-50 rounded-lg p-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-corporate-600",children:"Expires:"}),d.jsx("span",{className:"font-medium text-corporate-900",children:o(t.expiration_date)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[d.jsx("span",{className:"text-corporate-600",children:"Days to expiry:"}),d.jsxs("span",{className:`font-medium ${l<=7?"text-red-600":"text-corporate-900"}`,children:[l," days"]})]})]}),d.jsx("div",{className:"border-t border-corporate-200 pt-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Max Loss:"}),d.jsx("span",{className:"font-semibold text-red-600",children:i(t.max_loss)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Breakeven:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:i(t.breakeven)})]})]})}),t.earnings_date&&d.jsx("div",{className:"mt-4 pt-4 border-t border-corporate-200",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("svg",{className:"w-4 h-4 text-corporate-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"})}),d.jsx("span",{className:"text-corporate-600",children:"Earnings: "}),d.jsx("span",{className:"font-medium text-corporate-900 ml-1",children:o(t.earnings_date)})]})}),d.jsx("button",{onClick:()=>n(!e),className:"w-full mt-4 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium",children:e?"Hide Details":"View Details"}),e&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-corporate-200 space-y-3",children:[d.jsx("h4",{className:"font-semibold text-corporate-900 text-sm",children:"Additional Metrics"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Implied Volatility:"}),d.jsxs("span",{className:"font-medium text-corporate-900",children:[(t.implied_volatility*100).toFixed(1),"%"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Created:"}),d.jsx("span",{className:"font-medium text-corporate-900",children:new Date(t.created_at).toLocaleDateString()})]})]}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4",children:d.jsxs("p",{className:"text-yellow-800 text-xs",children:[d.jsx("strong",{children:"Risk Warning:"})," This is not investment advice. Options trading involves substantial risk. Please conduct your own research and consult with a financial advisor before making any trading decisions."]})})]})]})})}function Wg({status:t}){var l,a,u,c,h,f,v,w,_,j,g,p,m,y,S;const e=x=>{switch(x){case"OK":return"text-green-600";case"ERROR":return"text-red-600";case"CHECKING":return"text-yellow-600";default:return"text-corporate-600"}},n=x=>{switch(x){case"OK":return d.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"ERROR":return d.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"CHECKING":return d.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"});default:return d.jsx("svg",{className:"w-4 h-4 text-corporate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},r=x=>{if(!x)return"text-corporate-500";const E=x.current/x.max*100;return E>=90?"text-red-600":E>=70?"text-yellow-600":"text-green-600"},s=x=>x?`${x.current}/${x.max} (${x.remaining} remaining)`:"Unknown",i=Object.values(t).some(x=>x.status==="ERROR"),o=Object.values(t).every(x=>x.status==="OK");return d.jsxs("div",{className:`rounded-lg border p-4 mb-6 ${i?"bg-red-50 border-red-200":o?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-medium text-corporate-900",children:"System Status"}),d.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${i?"bg-red-100 text-red-800":o?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i?"Issues Detected":o?"All Systems Operational":"Checking..."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n((l=t.supabase)==null?void 0:l.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Database"}),d.jsx("div",{className:`text-xs truncate ${e((a=t.supabase)==null?void 0:a.status)}`,children:((u=t.supabase)==null?void 0:u.message)||"Unknown"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[n((c=t.polygon)==null?void 0:c.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Options API"}),d.jsx("div",{className:`text-xs truncate ${e((h=t.polygon)==null?void 0:h.status)}`,children:((f=t.polygon)==null?void 0:f.message)||"Unknown"}),((v=t.polygon)==null?void 0:v.usage)&&d.jsx("div",{className:`text-xs ${r(t.polygon.usage)}`,children:s(t.polygon.usage)})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[n((w=t.fmp)==null?void 0:w.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Earnings API"}),d.jsx("div",{className:`text-xs truncate ${e((_=t.fmp)==null?void 0:_.status)}`,children:((j=t.fmp)==null?void 0:j.message)||"Unknown"}),((g=t.fmp)==null?void 0:g.usage)&&d.jsx("div",{className:`text-xs ${r(t.fmp.usage)}`,children:s(t.fmp.usage)})]})]})]}),i&&d.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:d.jsx("p",{className:"text-xs text-red-700",children:"Some services are experiencing issues. Please check your API configuration."})}),(((m=(p=t.polygon)==null?void 0:p.usage)==null?void 0:m.remaining)<=1||((S=(y=t.fmp)==null?void 0:y.usage)==null?void 0:S.remaining)<=10)&&d.jsx("div",{className:"mt-3 pt-3 border-t border-yellow-200",children:d.jsx("p",{className:"text-xs text-yellow-700",children:" API quota is running low. Consider monitoring usage carefully."})})]})}function Hg(){return d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Risk Disclaimer"}),d.jsxs("div",{className:"mt-2 text-sm text-yellow-700 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Options trading involves substantial risk and is not suitable for all investors."}),"You can lose more than your initial investment. Past performance does not guarantee future results."]}),d.jsxs("p",{children:["This tool provides analysis and educational information only and is ",d.jsx("strong",{children:"not investment advice"}),". All trading decisions are your responsibility. Please consult with a qualified financial advisor before making any trading decisions."]}),d.jsx("p",{children:"The recommendations shown are based on mathematical models and historical data, which may not accurately predict future market movements. Market conditions can change rapidly, affecting option values and probabilities."})]})]})]})})}function Iu({size:t="md",message:e=null}){const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx("div",{className:`${n[t]} border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin`}),e&&d.jsx("p",{className:"mt-3 text-sm text-corporate-600 text-center",children:e})]})}class Sh extends ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-corporate-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("svg",{className:"w-8 h-8 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),d.jsx("h2",{className:"text-xl font-bold text-corporate-900",children:"Something went wrong"})]}),d.jsx("p",{className:"text-corporate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"bg-corporate-200 text-corporate-700 px-4 py-2 rounded-lg hover:bg-corporate-300 transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}function Vg({demoMode:t,onToggle:e,disabled:n=!1}){return d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:`text-sm font-medium ${t?"text-corporate-900":"text-corporate-500"}`,children:"Demo"}),d.jsxs("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-offset-2 ${t?"bg-corporate-200":"bg-primary-600"} ${n?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":!t,onClick:()=>!n&&e(!t),disabled:n,children:[d.jsx("span",{className:"sr-only",children:"Toggle between demo and full mode"}),d.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-0":"translate-x-5"}`})]}),d.jsx("span",{className:`text-sm font-medium ${t?"text-corporate-500":"text-corporate-900"}`,children:"Full"}),!t&&d.jsxs("div",{className:"flex items-center ml-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-green-600 ml-1",children:"LIVE"})]})]})}function qg(){const[t,e]=ge.useState([]),[n,r]=ge.useState(!1),[s,i]=ge.useState(null),[o,l]=ge.useState(null),[a,u]=ge.useState(!1),[c,h]=ge.useState(!1),[f,v]=ge.useState(!0),[w,_]=ge.useState(!1),[j,g]=ge.useState({supabase:{status:"UNKNOWN",message:"Not checked yet"},polygon:{status:"UNKNOWN",message:"Not checked yet"},fmp:{status:"UNKNOWN",message:"Not checked yet"}}),p=async()=>{var T,O,ie;console.log("Checking system health...");try{if(f){g({supabase:{status:"DEMO",message:"Demo mode - using mock data"},polygon:{status:"DEMO",message:"Demo mode - using mock data"},fmp:{status:"DEMO",message:"Demo mode - using mock data"}});return}const[De,Xe,tn]=await Promise.allSettled([vg(),jg(),bg()]);g({supabase:De.status==="fulfilled"?De.value:{status:"ERROR",message:((T=De.reason)==null?void 0:T.message)||"Connection failed"},polygon:Xe.status==="fulfilled"?Xe.value:{status:"ERROR",message:((O=Xe.reason)==null?void 0:O.message)||"Connection failed"},fmp:tn.status==="fulfilled"?tn.value:{status:"ERROR",message:((ie=tn.reason)==null?void 0:ie.message)||"Connection failed"}})}catch(De){console.error("Error checking system health:",De)}},m=async()=>{r(!0),i(null),h(!1);try{if(console.log(`Loading recommendations in ${f?"demo":"full"} mode...`),f){console.log("Using mock recommendations (demo mode)"),await new Promise(ie=>setTimeout(ie,1500)),e(Ou),l(new Date),_(!0);return}console.log("Attempting to load from Supabase...");const{data:T,error:O}=await je.from("recommendations").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1});if(O)throw console.warn("Supabase query failed:",O),new Error(`Database error: ${O.message}`);T&&T.length>0?(console.log(`Loaded ${T.length} recommendations from Supabase`),e(T),_(!0),l(new Date)):(console.log("No recommendations in database, showing empty state"),e([]),_(!0),l(new Date))}catch(T){console.error("Error loading recommendations:",T),i(T.message),(T.message.includes("rate limit")||T.message.includes("429")||T.message.includes("Limit Reach"))&&h(!0),_(!0)}finally{r(!1)}},y=async()=>{u(!0),i(null),h(!1);try{if(console.log(`Generating new recommendations in ${f?"demo":"full"} mode...`),f){console.log("Refreshing mock recommendations (demo mode)"),await new Promise(O=>setTimeout(O,2e3)),e(Ou),l(new Date),_(!0);return}console.log("Using recommendation engine to generate new recommendations...");const T=await Fg.generateRecommendations();T.length>0?(e(T),l(new Date),_(!0),console.log(`Generated ${T.length} new recommendations`)):(i("No recommendations could be generated with current market conditions"),e([]),_(!0))}catch(T){console.error("Error generating recommendations:",T),T.message.includes("rate limit")||T.message.includes("429")||T.message.includes("Limit Reach")?(h(!0),i("API rate limit reached. Please try again later or switch to demo mode.")):i(`Failed to generate recommendations: ${T.message}`),_(!0)}finally{u(!1)}},S=async()=>{f||await p(),await m()},x=async()=>{f||await p(),await m()},E=T=>{console.log(`Switching to ${T?"demo":"full"} mode`),v(T),e([]),i(null),h(!1),_(!1),l(null),g(T?{supabase:{status:"DEMO",message:"Demo mode - using mock data"},polygon:{status:"DEMO",message:"Demo mode - using mock data"},fmp:{status:"DEMO",message:"Demo mode - using mock data"}}:{supabase:{status:"UNKNOWN",message:"Not checked yet"},polygon:{status:"UNKNOWN",message:"Not checked yet"},fmp:{status:"UNKNOWN",message:"Not checked yet"}})},N=o&&Date.now()-o.getTime()>30*60*1e3;return d.jsx(Sh,{children:d.jsxs("div",{className:"min-h-screen bg-corporate-50",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-corporate-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:"OS"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-corporate-900",children:"OptionStrike"}),d.jsxs("p",{className:"text-sm text-corporate-600",children:["High-Probability Put Options ",f&&"(Demo Mode)"]})]})]}),d.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[d.jsx(Vg,{demoMode:f,onToggle:E,disabled:n||a}),o&&d.jsxs("div",{className:"text-sm text-corporate-600",children:[d.jsx("span",{className:"hidden sm:inline",children:"Last updated: "}),d.jsx("span",{className:N?"text-red-600 font-medium":"",children:o.toLocaleTimeString()}),N&&d.jsx("span",{className:"ml-2 text-red-600",children:" Data may be stale"})]}),d.jsxs("div",{className:"flex space-x-2",children:[w&&d.jsx("button",{onClick:x,className:"bg-corporate-600 text-white px-4 py-2 rounded-lg hover:bg-corporate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):"Refresh"}),d.jsx("button",{onClick:w?y:S,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:a?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:f?"Loading Demo...":"Generating..."})]}):n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):w?f?"Refresh Demo Data":"Generate New":"Get Recommendations"})]})]})]})})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[w&&d.jsx(Wg,{status:j}),f&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-blue-400\\",viewBox:"0 0 20 20\\",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd\\",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\\",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Demo Mode Active"}),d.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[d.jsx("p",{children:"You're currently viewing sample data to explore the application features."}),d.jsxs("p",{className:"mt-1",children:["Switch to ",d.jsx("strong",{children:"Full Mode"})," using the toggle above to connect to real market data APIs."]})]})]})]})}),d.jsx(Hg,{}),!f&&!w&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-blue-400\\",viewBox:"0 0 20 20\\",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd\\",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\\",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Full Mode - Real Market Data"}),d.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[d.jsx("p",{children:"You're using real market data. Make sure your API keys are configured:"}),d.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"VITE_POLYGON_API_KEY"})," - Your Polygon.io API key"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"VITE_FMP_API_KEY"})," - Your Financial Modeling Prep API key"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"VITE_SUPABASE_URL"})," - Your Supabase project URL"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"VITE_SUPABASE_ANON_KEY"})," - Your Supabase anonymous key"]})]})]})]})]})}),c&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"API Rate Limit Warning"}),d.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[d.jsx("p",{children:"We've hit rate limits with our data provider. Some data may be cached or limited. Please try again later or consider upgrading to a higher API plan for more frequent updates."}),d.jsxs("p",{className:"mt-2",children:[d.jsx("strong",{children:"Tip:"})," Switch to Demo Mode to explore the app without API limitations."]})]})]})]})}),s&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error Loading Data"}),d.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[d.jsx("p",{children:s}),d.jsx("p",{className:"mt-1",children:f?"Please try refreshing the demo data.":"Please check your API configuration and try again, or switch to Demo Mode."})]})]})]})}),a&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Iu,{size:"sm"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:f?"Loading Demo Data":"Generating Recommendations"}),d.jsx("p",{className:"text-sm text-blue-700 mt-1",children:f?"Preparing sample recommendations for demonstration...":"Analyzing earnings calendar and options data. This may take a few minutes..."})]})]})}),n?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Iu,{size:"lg",message:f?"Loading demo data...":"Loading recommendations..."}),d.jsx("p",{className:"text-sm text-corporate-500 mt-2",children:f?"Preparing sample options data for demonstration":"Analyzing options data and calculating confidence scores"})]}):w?t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-corporate-900",children:t.length}),d.jsx("div",{className:"text-sm text-corporate-600",children:f?"Demo Recommendations":"Active Recommendations"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(T=>T.confidence_score>=80).length}),d.jsx("div",{className:"text-sm text-corporate-600",children:"High Confidence"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-corporate-900",children:[(t.reduce((T,O)=>T+O.pop,0)/t.length).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-corporate-600",children:"Avg. Probability of Profit"})]})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(T=>d.jsx(Bg,{recommendation:T},T.id||`${T.symbol}-${T.strike_price}-${T.expiration_date}`))})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-corporate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-corporate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),d.jsx("p",{className:"text-corporate-600 text-lg",children:"No recommendations available"}),d.jsx("p",{className:"text-corporate-500 text-sm mt-2 mb-4",children:f?'No demo data loaded yet. Click "Get Recommendations" to load sample data.':'No recommendations found in the database. Click "Generate New" to create recommendations based on current market data.'}),!f&&d.jsx("button",{onClick:y,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:a?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Generating..."})]}):"Generate New Recommendations"})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-corporate-900 mb-2",children:"Welcome to OptionStrike"}),d.jsx("p",{className:"text-corporate-600 text-lg mb-4",children:f?"Ready to explore high-probability put options with sample data":"Ready to analyze real market data for high-probability put options"}),d.jsx("p",{className:"text-corporate-500 text-sm mb-6",children:f?'Click "Get Recommendations" to see sample options trading recommendations':'Click "Get Recommendations" to fetch and analyze current market data'}),d.jsx("button",{onClick:S,className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):"Get Recommendations"})]})]})]})})}function Kg(){return d.jsx(Sh,{children:d.jsx("div",{className:"App",children:d.jsx(qg,{})})})}eo.createRoot(document.getElementById("root")).render(d.jsx(Bh.StrictMode,{children:d.jsx(Kg,{})}));
//# sourceMappingURL=index-09902918.js.map
