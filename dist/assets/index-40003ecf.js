(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ih(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var zu={exports:{}},ri={},Fu={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=Symbol.for("react.element"),bh=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),$h=Symbol.for("react.profiler"),Mh=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Fh=Symbol.for("react.memo"),Bh=Symbol.for("react.lazy"),ca=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var Bu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gu=Object.assign,Hu={};function Ln(t,e,n){this.props=t,this.context=e,this.refs=Hu,this.updater=n||Bu}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ln.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Wu(){}Wu.prototype=Ln.prototype;function cl(t,e,n){this.props=t,this.context=e,this.refs=Hu,this.updater=n||Bu}var dl=cl.prototype=new Wu;dl.constructor=cl;Gu(dl,Ln.prototype);dl.isPureReactComponent=!0;var da=Array.isArray,Vu=Object.prototype.hasOwnProperty,hl={current:null},qu={key:!0,ref:!0,__self:!0,__source:!0};function Ku(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vu.call(e,r)&&!qu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ar,type:t,key:i,ref:o,props:s,_owner:hl.current}}function Hh(t,e){return{$$typeof:Ar,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ar}function Wh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ha=/\/+/g;function Oi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Wh(""+t.key):e.toString(36)}function ps(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ar:case bh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Oi(o,0):r,da(s)?(n="",t!=null&&(n=t.replace(ha,"$&/")+"/"),ps(s,e,n,"",function(u){return u})):s!=null&&(fl(s)&&(s=Hh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ha,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",da(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Oi(i,l);o+=ps(i,e,n,a,s)}else if(a=Gh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Oi(i,l++),o+=ps(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vr(t,e,n){if(t==null)return t;var r=[],s=0;return ps(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Vh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ge={current:null},ms={transition:null},qh={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:ms,ReactCurrentOwner:hl};function Qu(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:Vr,forEach:function(t,e,n){Vr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vr(t,function(){e++}),e},toArray:function(t){return Vr(t,function(e){return e})||[]},only:function(t){if(!fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};A.Component=Ln;A.Fragment=Ah;A.Profiler=$h;A.PureComponent=cl;A.StrictMode=Dh;A.Suspense=zh;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qh;A.act=Qu;A.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Vu.call(e,a)&&!qu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ar,type:t.type,key:s,ref:i,props:r,_owner:o}};A.createContext=function(t){return t={$$typeof:Lh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mh,_context:t},t.Consumer=t};A.createElement=Ku;A.createFactory=function(t){var e=Ku.bind(null,t);return e.type=t,e};A.createRef=function(){return{current:null}};A.forwardRef=function(t){return{$$typeof:Uh,render:t}};A.isValidElement=fl;A.lazy=function(t){return{$$typeof:Bh,_payload:{_status:-1,_result:t},_init:Vh}};A.memo=function(t,e){return{$$typeof:Fh,type:t,compare:e===void 0?null:e}};A.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};A.unstable_act=Qu;A.useCallback=function(t,e){return ge.current.useCallback(t,e)};A.useContext=function(t){return ge.current.useContext(t)};A.useDebugValue=function(){};A.useDeferredValue=function(t){return ge.current.useDeferredValue(t)};A.useEffect=function(t,e){return ge.current.useEffect(t,e)};A.useId=function(){return ge.current.useId()};A.useImperativeHandle=function(t,e,n){return ge.current.useImperativeHandle(t,e,n)};A.useInsertionEffect=function(t,e){return ge.current.useInsertionEffect(t,e)};A.useLayoutEffect=function(t,e){return ge.current.useLayoutEffect(t,e)};A.useMemo=function(t,e){return ge.current.useMemo(t,e)};A.useReducer=function(t,e,n){return ge.current.useReducer(t,e,n)};A.useRef=function(t){return ge.current.useRef(t)};A.useState=function(t){return ge.current.useState(t)};A.useSyncExternalStore=function(t,e,n){return ge.current.useSyncExternalStore(t,e,n)};A.useTransition=function(){return ge.current.useTransition()};A.version="18.3.1";Fu.exports=A;var te=Fu.exports;const Kh=Rh(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=te,Jh=Symbol.for("react.element"),Yh=Symbol.for("react.fragment"),Xh=Object.prototype.hasOwnProperty,Zh=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ef={key:!0,ref:!0,__self:!0,__source:!0};function Ju(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Xh.call(e,r)&&!ef.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Jh,type:t,key:i,ref:o,props:s,_owner:Zh.current}}ri.Fragment=Yh;ri.jsx=Ju;ri.jsxs=Ju;zu.exports=ri;var d=zu.exports,io={},Yu={exports:{}},Te={},Xu={exports:{}},Zu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,P){var T=C.length;C.push(P);e:for(;0<T;){var F=T-1>>>1,ee=C[F];if(0<s(ee,P))C[F]=P,C[T]=ee,T=F;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var P=C[0],T=C.pop();if(T!==P){C[0]=T;e:for(var F=0,ee=C.length,Hr=ee>>>1;F<Hr;){var Mt=2*(F+1)-1,Ci=C[Mt],Lt=Mt+1,Wr=C[Lt];if(0>s(Ci,T))Lt<ee&&0>s(Wr,Ci)?(C[F]=Wr,C[Lt]=T,F=Lt):(C[F]=Ci,C[Mt]=T,F=Mt);else if(Lt<ee&&0>s(Wr,T))C[F]=Wr,C[Lt]=T,F=Lt;else break e}}return P}function s(C,P){var T=C.sortIndex-P.sortIndex;return T!==0?T:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,f=3,v=!1,w=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=C)r(u),P.sortIndex=P.expirationTime,e(a,P);else break;P=n(u)}}function y(C){if(_=!1,m(C),!w)if(n(a)!==null)w=!0,D(E);else{var P=n(u);P!==null&&M(y,P.startTime-C)}}function E(C,P){w=!1,_&&(_=!1,g(j),j=-1),v=!0;var T=f;try{for(m(P),h=n(a);h!==null&&(!(h.expirationTime>P)||C&&!ye());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var ee=F(h.expirationTime<=P);P=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===n(a)&&r(a),m(P)}else r(a);h=n(a)}if(h!==null)var Hr=!0;else{var Mt=n(u);Mt!==null&&M(y,Mt.startTime-P),Hr=!1}return Hr}finally{h=null,f=T,v=!1}}var x=!1,N=null,j=-1,H=5,I=-1;function ye(){return!(t.unstable_now()-I<H)}function Dt(){if(N!==null){var C=t.unstable_now();I=C;var P=!0;try{P=N(!0,C)}finally{P?$t():(x=!1,N=null)}}else x=!1}var $t;if(typeof p=="function")$t=function(){p(Dt)};else if(typeof MessageChannel<"u"){var Br=new MessageChannel,Gr=Br.port2;Br.port1.onmessage=Dt,$t=function(){Gr.postMessage(null)}}else $t=function(){S(Dt,0)};function D(C){N=C,x||(x=!0,$t())}function M(C,P){j=S(function(){C(t.unstable_now())},P)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,D(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var P=3;break;default:P=f}var T=f;f=P;try{return C()}finally{f=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var T=f;f=C;try{return P()}finally{f=T}},t.unstable_scheduleCallback=function(C,P,T){var F=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?F+T:F):T=F,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=T+ee,C={id:c++,callback:P,priorityLevel:C,startTime:T,expirationTime:ee,sortIndex:-1},T>F?(C.sortIndex=T,e(u,C),n(a)===null&&C===n(u)&&(_?(g(j),j=-1):_=!0,M(y,T-F))):(C.sortIndex=ee,e(a,C),w||v||(w=!0,D(E))),C},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(C){var P=f;return function(){var T=f;f=P;try{return C.apply(this,arguments)}finally{f=T}}}})(Zu);Xu.exports=Zu;var tf=Xu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=te,Pe=tf;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ec=new Set,mr={};function en(t,e){Tn(t,e),Tn(t+"Capture",e)}function Tn(t,e){for(mr[t]=e,t=0;t<e.length;t++)ec.add(e[t])}var ot=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,rf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fa={},pa={};function sf(t){return oo.call(pa,t)?!0:oo.call(fa,t)?!1:rf.test(t)?pa[t]=!0:(fa[t]=!0,!1)}function of(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lf(t,e,n,r){if(e===null||typeof e>"u"||of(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ve(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new ve(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ae[e]=new ve(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new ve(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new ve(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new ve(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new ve(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ae[t]=new ve(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ae[t]=new ve(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ae[t]=new ve(t,5,!1,t.toLowerCase(),null,!1,!1)});var pl=/[\-:]([a-z])/g;function ml(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pl,ml);ae[e]=new ve(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pl,ml);ae[e]=new ve(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pl,ml);ae[e]=new ve(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new ve(t,1,!1,t.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ae[t]=new ve(t,1,!1,t.toLowerCase(),null,!0,!0)});function gl(t,e,n,r){var s=ae.hasOwnProperty(e)?ae[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lf(e,n,s,r)&&(n=null),r||s===null?sf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ct=nf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qr=Symbol.for("react.element"),dn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),tc=Symbol.for("react.provider"),nc=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),rc=Symbol.for("react.offscreen"),ma=Symbol.iterator;function Gn(t){return t===null||typeof t!="object"?null:(t=ma&&t[ma]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,ji;function Xn(t){if(ji===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ji=e&&e[1]||""}return`
`+ji+t}var Pi=!1;function Ti(t,e){if(!t||Pi)return"";Pi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Pi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xn(t):""}function af(t){switch(t.tag){case 5:return Xn(t.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 2:case 15:return t=Ti(t.type,!1),t;case 11:return t=Ti(t.type.render,!1),t;case 1:return t=Ti(t.type,!0),t;default:return""}}function co(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hn:return"Fragment";case dn:return"Portal";case lo:return"Profiler";case vl:return"StrictMode";case ao:return"Suspense";case uo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nc:return(t.displayName||"Context")+".Consumer";case tc:return(t._context.displayName||"Context")+".Provider";case yl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wl:return e=t.displayName||null,e!==null?e:co(t.type)||"Memo";case ft:e=t._payload,t=t._init;try{return co(t(e))}catch{}}return null}function uf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(e);case 8:return e===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cf(t){var e=sc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kr(t){t._valueTracker||(t._valueTracker=cf(t))}function ic(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ho(t,e){var n=e.checked;return K({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ga(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oc(t,e){e=e.checked,e!=null&&gl(t,"checked",e,!1)}function fo(t,e){oc(t,e);var n=Pt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?po(t,e.type,n):e.hasOwnProperty("defaultValue")&&po(t,e.type,Pt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function va(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function po(t,e,n){(e!=="number"||Os(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zn=Array.isArray;function En(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return K({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ya(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(Zn(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pt(n)}}function lc(t,e){var n=Pt(e.value),r=Pt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ac(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ac(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qr,uc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},df=["Webkit","ms","Moz","O"];Object.keys(rr).forEach(function(t){df.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rr[e]=rr[t]})});function cc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rr.hasOwnProperty(t)&&rr[t]?(""+e).trim():e+"px"}function dc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hf=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(t,e){if(e){if(hf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function yo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function _l(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _o=null,Sn=null,Nn=null;function _a(t){if(t=Mr(t)){if(typeof _o!="function")throw Error(k(280));var e=t.stateNode;e&&(e=ai(e),_o(t.stateNode,t.type,e))}}function hc(t){Sn?Nn?Nn.push(t):Nn=[t]:Sn=t}function fc(){if(Sn){var t=Sn,e=Nn;if(Nn=Sn=null,_a(t),e)for(t=0;t<e.length;t++)_a(e[t])}}function pc(t,e){return t(e)}function mc(){}var Ri=!1;function gc(t,e,n){if(Ri)return t(e,n);Ri=!0;try{return pc(t,e,n)}finally{Ri=!1,(Sn!==null||Nn!==null)&&(mc(),fc())}}function vr(t,e){var n=t.stateNode;if(n===null)return null;var r=ai(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var xo=!1;if(ot)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{xo=!1}function ff(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var sr=!1,js=null,Ps=!1,ko=null,pf={onError:function(t){sr=!0,js=t}};function mf(t,e,n,r,s,i,o,l,a){sr=!1,js=null,ff.apply(pf,arguments)}function gf(t,e,n,r,s,i,o,l,a){if(mf.apply(this,arguments),sr){if(sr){var u=js;sr=!1,js=null}else throw Error(k(198));Ps||(Ps=!0,ko=u)}}function tn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xa(t){if(tn(t)!==t)throw Error(k(188))}function vf(t){var e=t.alternate;if(!e){if(e=tn(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xa(s),t;if(i===r)return xa(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function yc(t){return t=vf(t),t!==null?wc(t):null}function wc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wc(t);if(e!==null)return e;t=t.sibling}return null}var _c=Pe.unstable_scheduleCallback,ka=Pe.unstable_cancelCallback,yf=Pe.unstable_shouldYield,wf=Pe.unstable_requestPaint,J=Pe.unstable_now,_f=Pe.unstable_getCurrentPriorityLevel,xl=Pe.unstable_ImmediatePriority,xc=Pe.unstable_UserBlockingPriority,Ts=Pe.unstable_NormalPriority,xf=Pe.unstable_LowPriority,kc=Pe.unstable_IdlePriority,si=null,Ye=null;function kf(t){if(Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Nf,Ef=Math.log,Sf=Math.LN2;function Nf(t){return t>>>=0,t===0?32:31-(Ef(t)/Sf|0)|0}var Jr=64,Yr=4194304;function er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=er(l):(i&=o,i!==0&&(r=er(i)))}else o=n&~s,o!==0?r=er(o):i!==0&&(r=er(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-We(e),s=1<<n,r|=t[n],e&=~s;return r}function Cf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Of(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-We(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Cf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Eo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ec(){var t=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),t}function Ii(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-We(e),t[e]=n}function jf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-We(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function kl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-We(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var L=0;function Sc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Nc,El,Cc,Oc,jc,So=!1,Xr=[],xt=null,kt=null,Et=null,yr=new Map,wr=new Map,gt=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ea(t,e){switch(t){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":yr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wr.delete(e.pointerId)}}function Wn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Mr(e),e!==null&&El(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Tf(t,e,n,r,s){switch(e){case"focusin":return xt=Wn(xt,t,e,n,r,s),!0;case"dragenter":return kt=Wn(kt,t,e,n,r,s),!0;case"mouseover":return Et=Wn(Et,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yr.set(i,Wn(yr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,wr.set(i,Wn(wr.get(i)||null,t,e,n,r,s)),!0}return!1}function Pc(t){var e=Ht(t.target);if(e!==null){var n=tn(e);if(n!==null){if(e=n.tag,e===13){if(e=vc(n),e!==null){t.blockedOn=e,jc(t.priority,function(){Cc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=No(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wo=r,n.target.dispatchEvent(r),wo=null}else return e=Mr(n),e!==null&&El(e),t.blockedOn=n,!1;e.shift()}return!0}function Sa(t,e,n){gs(t)&&n.delete(e)}function Rf(){So=!1,xt!==null&&gs(xt)&&(xt=null),kt!==null&&gs(kt)&&(kt=null),Et!==null&&gs(Et)&&(Et=null),yr.forEach(Sa),wr.forEach(Sa)}function Vn(t,e){t.blockedOn===e&&(t.blockedOn=null,So||(So=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,Rf)))}function _r(t){function e(s){return Vn(s,t)}if(0<Xr.length){Vn(Xr[0],t);for(var n=1;n<Xr.length;n++){var r=Xr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xt!==null&&Vn(xt,t),kt!==null&&Vn(kt,t),Et!==null&&Vn(Et,t),yr.forEach(e),wr.forEach(e),n=0;n<gt.length;n++)r=gt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gt.length&&(n=gt[0],n.blockedOn===null);)Pc(n),n.blockedOn===null&&gt.shift()}var Cn=ct.ReactCurrentBatchConfig,Is=!0;function If(t,e,n,r){var s=L,i=Cn.transition;Cn.transition=null;try{L=1,Sl(t,e,n,r)}finally{L=s,Cn.transition=i}}function bf(t,e,n,r){var s=L,i=Cn.transition;Cn.transition=null;try{L=4,Sl(t,e,n,r)}finally{L=s,Cn.transition=i}}function Sl(t,e,n,r){if(Is){var s=No(t,e,n,r);if(s===null)Bi(t,e,r,bs,n),Ea(t,r);else if(Tf(s,t,e,n,r))r.stopPropagation();else if(Ea(t,r),e&4&&-1<Pf.indexOf(t)){for(;s!==null;){var i=Mr(s);if(i!==null&&Nc(i),i=No(t,e,n,r),i===null&&Bi(t,e,r,bs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Bi(t,e,r,null,n)}}var bs=null;function No(t,e,n,r){if(bs=null,t=_l(r),t=Ht(t),t!==null)if(e=tn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bs=t,null}function Tc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_f()){case xl:return 1;case xc:return 4;case Ts:case xf:return 16;case kc:return 536870912;default:return 16}default:return 16}}var wt=null,Nl=null,vs=null;function Rc(){if(vs)return vs;var t,e=Nl,n=e.length,r,s="value"in wt?wt.value:wt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vs=s.slice(t,1<r?1-r:void 0)}function ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zr(){return!0}function Na(){return!1}function Re(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zr:Na,this.isPropagationStopped=Na,this}return K(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),e}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Re(Un),$r=K({},Un,{view:0,detail:0}),Af=Re($r),bi,Ai,qn,ii=K({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qn&&(qn&&t.type==="mousemove"?(bi=t.screenX-qn.screenX,Ai=t.screenY-qn.screenY):Ai=bi=0,qn=t),bi)},movementY:function(t){return"movementY"in t?t.movementY:Ai}}),Ca=Re(ii),Df=K({},ii,{dataTransfer:0}),$f=Re(Df),Mf=K({},$r,{relatedTarget:0}),Di=Re(Mf),Lf=K({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),Uf=Re(Lf),zf=K({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ff=Re(zf),Bf=K({},Un,{data:0}),Oa=Re(Bf),Gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wf[t])?!!e[t]:!1}function Ol(){return Vf}var qf=K({},$r,{key:function(t){if(t.key){var e=Gf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kf=Re(qf),Qf=K({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ja=Re(Qf),Jf=K({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),Yf=Re(Jf),Xf=K({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zf=Re(Xf),ep=K({},ii,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tp=Re(ep),np=[9,13,27,32],jl=ot&&"CompositionEvent"in window,ir=null;ot&&"documentMode"in document&&(ir=document.documentMode);var rp=ot&&"TextEvent"in window&&!ir,Ic=ot&&(!jl||ir&&8<ir&&11>=ir),Pa=String.fromCharCode(32),Ta=!1;function bc(t,e){switch(t){case"keyup":return np.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ac(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fn=!1;function sp(t,e){switch(t){case"compositionend":return Ac(e);case"keypress":return e.which!==32?null:(Ta=!0,Pa);case"textInput":return t=e.data,t===Pa&&Ta?null:t;default:return null}}function ip(t,e){if(fn)return t==="compositionend"||!jl&&bc(t,e)?(t=Rc(),vs=Nl=wt=null,fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ic&&e.locale!=="ko"?null:e.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!op[t.type]:e==="textarea"}function Dc(t,e,n,r){hc(r),e=As(e,"onChange"),0<e.length&&(n=new Cl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var or=null,xr=null;function lp(t){Vc(t,0)}function oi(t){var e=gn(t);if(ic(e))return t}function ap(t,e){if(t==="change")return e}var $c=!1;if(ot){var $i;if(ot){var Mi="oninput"in document;if(!Mi){var Ia=document.createElement("div");Ia.setAttribute("oninput","return;"),Mi=typeof Ia.oninput=="function"}$i=Mi}else $i=!1;$c=$i&&(!document.documentMode||9<document.documentMode)}function ba(){or&&(or.detachEvent("onpropertychange",Mc),xr=or=null)}function Mc(t){if(t.propertyName==="value"&&oi(xr)){var e=[];Dc(e,xr,t,_l(t)),gc(lp,e)}}function up(t,e,n){t==="focusin"?(ba(),or=e,xr=n,or.attachEvent("onpropertychange",Mc)):t==="focusout"&&ba()}function cp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oi(xr)}function dp(t,e){if(t==="click")return oi(e)}function hp(t,e){if(t==="input"||t==="change")return oi(e)}function fp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:fp;function kr(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oo.call(e,s)||!qe(t[s],e[s]))return!1}return!0}function Aa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Da(t,e){var n=Aa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Aa(n)}}function Lc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Uc(){for(var t=window,e=Os();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Os(t.document)}return e}function Pl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pp(t){var e=Uc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lc(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Da(n,i);var o=Da(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mp=ot&&"documentMode"in document&&11>=document.documentMode,pn=null,Co=null,lr=null,Oo=!1;function $a(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oo||pn==null||pn!==Os(r)||(r=pn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&kr(lr,r)||(lr=r,r=As(Co,"onSelect"),0<r.length&&(e=new Cl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pn)))}function es(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mn={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Li={},zc={};ot&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function li(t){if(Li[t])return Li[t];if(!mn[t])return t;var e=mn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zc)return Li[t]=e[n];return t}var Fc=li("animationend"),Bc=li("animationiteration"),Gc=li("animationstart"),Hc=li("transitionend"),Wc=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(t,e){Wc.set(t,e),en(e,[t])}for(var Ui=0;Ui<Ma.length;Ui++){var zi=Ma[Ui],gp=zi.toLowerCase(),vp=zi[0].toUpperCase()+zi.slice(1);Rt(gp,"on"+vp)}Rt(Fc,"onAnimationEnd");Rt(Bc,"onAnimationIteration");Rt(Gc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Hc,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));en("onBeforeInput",["compositionend","keypress","textInput","paste"]);en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(tr));function La(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gf(r,e,void 0,t),t.currentTarget=null}function Vc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;La(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;La(s,l,u),i=a}}}if(Ps)throw t=ko,Ps=!1,ko=null,t}function B(t,e){var n=e[Io];n===void 0&&(n=e[Io]=new Set);var r=t+"__bubble";n.has(r)||(qc(e,t,2,!1),n.add(r))}function Fi(t,e,n){var r=0;e&&(r|=4),qc(n,t,r,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[ts]){t[ts]=!0,ec.forEach(function(n){n!=="selectionchange"&&(yp.has(n)||Fi(n,!1,t),Fi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Fi("selectionchange",!1,e))}}function qc(t,e,n,r){switch(Tc(e)){case 1:var s=If;break;case 4:s=bf;break;default:s=Sl}n=s.bind(null,e,n,t),s=void 0,!xo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Bi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ht(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}gc(function(){var u=i,c=_l(n),h=[];e:{var f=Wc.get(t);if(f!==void 0){var v=Cl,w=t;switch(t){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":v=Kf;break;case"focusin":w="focus",v=Di;break;case"focusout":w="blur",v=Di;break;case"beforeblur":case"afterblur":v=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yf;break;case Fc:case Bc:case Gc:v=Uf;break;case Hc:v=Zf;break;case"scroll":v=Af;break;case"wheel":v=tp;break;case"copy":case"cut":case"paste":v=Ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ja}var _=(e&4)!==0,S=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var p=u,m;p!==null;){m=p;var y=m.stateNode;if(m.tag===5&&y!==null&&(m=y,g!==null&&(y=vr(p,g),y!=null&&_.push(Sr(p,y,m)))),S)break;p=p.return}0<_.length&&(f=new v(f,w,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==wo&&(w=n.relatedTarget||n.fromElement)&&(Ht(w)||w[lt]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Ht(w):null,w!==null&&(S=tn(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(_=Ca,y="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=ja,y="onPointerLeave",g="onPointerEnter",p="pointer"),S=v==null?f:gn(v),m=w==null?f:gn(w),f=new _(y,p+"leave",v,n,c),f.target=S,f.relatedTarget=m,y=null,Ht(c)===u&&(_=new _(g,p+"enter",w,n,c),_.target=m,_.relatedTarget=S,y=_),S=y,v&&w)t:{for(_=v,g=w,p=0,m=_;m;m=rn(m))p++;for(m=0,y=g;y;y=rn(y))m++;for(;0<p-m;)_=rn(_),p--;for(;0<m-p;)g=rn(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=rn(_),g=rn(g)}_=null}else _=null;v!==null&&Ua(h,f,v,_,!1),w!==null&&S!==null&&Ua(h,S,w,_,!0)}}e:{if(f=u?gn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var E=ap;else if(Ra(f))if($c)E=hp;else{E=cp;var x=up}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=dp);if(E&&(E=E(t,u))){Dc(h,E,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&po(f,"number",f.value)}switch(x=u?gn(u):window,t){case"focusin":(Ra(x)||x.contentEditable==="true")&&(pn=x,Co=u,lr=null);break;case"focusout":lr=Co=pn=null;break;case"mousedown":Oo=!0;break;case"contextmenu":case"mouseup":case"dragend":Oo=!1,$a(h,n,c);break;case"selectionchange":if(mp)break;case"keydown":case"keyup":$a(h,n,c)}var N;if(jl)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else fn?bc(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Ic&&n.locale!=="ko"&&(fn||j!=="onCompositionStart"?j==="onCompositionEnd"&&fn&&(N=Rc()):(wt=c,Nl="value"in wt?wt.value:wt.textContent,fn=!0)),x=As(u,j),0<x.length&&(j=new Oa(j,t,null,n,c),h.push({event:j,listeners:x}),N?j.data=N:(N=Ac(n),N!==null&&(j.data=N)))),(N=rp?sp(t,n):ip(t,n))&&(u=As(u,"onBeforeInput"),0<u.length&&(c=new Oa("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=N))}Vc(h,e)})}function Sr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function As(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=vr(t,n),i!=null&&r.unshift(Sr(t,i,s)),i=vr(t,e),i!=null&&r.push(Sr(t,i,s))),t=t.return}return r}function rn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ua(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=vr(n,i),a!=null&&o.unshift(Sr(n,a,l))):s||(a=vr(n,i),a!=null&&o.push(Sr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function za(t){return(typeof t=="string"?t:""+t).replace(wp,`
`).replace(_p,"")}function ns(t,e,n){if(e=za(e),za(t)!==e&&n)throw Error(k(425))}function Ds(){}var jo=null,Po=null;function To(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,Fa=typeof Promise=="function"?Promise:void 0,kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Fa<"u"?function(t){return Fa.resolve(null).then(t).catch(Ep)}:Ro;function Ep(t){setTimeout(function(){throw t})}function Gi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_r(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_r(e)}function St(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ba(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zn=Math.random().toString(36).slice(2),Je="__reactFiber$"+zn,Nr="__reactProps$"+zn,lt="__reactContainer$"+zn,Io="__reactEvents$"+zn,Sp="__reactListeners$"+zn,Np="__reactHandles$"+zn;function Ht(t){var e=t[Je];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lt]||n[Je]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ba(t);t!==null;){if(n=t[Je])return n;t=Ba(t)}return e}t=n,n=t.parentNode}return null}function Mr(t){return t=t[Je]||t[lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function ai(t){return t[Nr]||null}var bo=[],vn=-1;function It(t){return{current:t}}function G(t){0>vn||(t.current=bo[vn],bo[vn]=null,vn--)}function z(t,e){vn++,bo[vn]=t.current,t.current=e}var Tt={},he=It(Tt),Ee=It(!1),Qt=Tt;function Rn(t,e){var n=t.type.contextTypes;if(!n)return Tt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Se(t){return t=t.childContextTypes,t!=null}function $s(){G(Ee),G(he)}function Ga(t,e,n){if(he.current!==Tt)throw Error(k(168));z(he,e),z(Ee,n)}function Kc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,uf(t)||"Unknown",s));return K({},n,r)}function Ms(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tt,Qt=he.current,z(he,t),z(Ee,Ee.current),!0}function Ha(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Kc(t,e,Qt),r.__reactInternalMemoizedMergedChildContext=t,G(Ee),G(he),z(he,t)):G(Ee),z(Ee,n)}var nt=null,ui=!1,Hi=!1;function Qc(t){nt===null?nt=[t]:nt.push(t)}function Cp(t){ui=!0,Qc(t)}function bt(){if(!Hi&&nt!==null){Hi=!0;var t=0,e=L;try{var n=nt;for(L=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nt=null,ui=!1}catch(s){throw nt!==null&&(nt=nt.slice(t+1)),_c(xl,bt),s}finally{L=e,Hi=!1}}return null}var yn=[],wn=0,Ls=null,Us=0,Ie=[],be=0,Jt=null,rt=1,st="";function zt(t,e){yn[wn++]=Us,yn[wn++]=Ls,Ls=t,Us=e}function Jc(t,e,n){Ie[be++]=rt,Ie[be++]=st,Ie[be++]=Jt,Jt=t;var r=rt;t=st;var s=32-We(r)-1;r&=~(1<<s),n+=1;var i=32-We(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,rt=1<<32-We(e)+s|n<<s|r,st=i+t}else rt=1<<i|n<<s|r,st=t}function Tl(t){t.return!==null&&(zt(t,1),Jc(t,1,0))}function Rl(t){for(;t===Ls;)Ls=yn[--wn],yn[wn]=null,Us=yn[--wn],yn[wn]=null;for(;t===Jt;)Jt=Ie[--be],Ie[be]=null,st=Ie[--be],Ie[be]=null,rt=Ie[--be],Ie[be]=null}var je=null,Oe=null,W=!1,He=null;function Yc(t,e){var n=Ae(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,je=t,Oe=St(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,je=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jt!==null?{id:rt,overflow:st}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ae(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,je=t,Oe=null,!0):!1;default:return!1}}function Ao(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Do(t){if(W){var e=Oe;if(e){var n=e;if(!Wa(t,e)){if(Ao(t))throw Error(k(418));e=St(n.nextSibling);var r=je;e&&Wa(t,e)?Yc(r,n):(t.flags=t.flags&-4097|2,W=!1,je=t)}}else{if(Ao(t))throw Error(k(418));t.flags=t.flags&-4097|2,W=!1,je=t}}}function Va(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;je=t}function rs(t){if(t!==je)return!1;if(!W)return Va(t),W=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!To(t.type,t.memoizedProps)),e&&(e=Oe)){if(Ao(t))throw Xc(),Error(k(418));for(;e;)Yc(t,e),e=St(e.nextSibling)}if(Va(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=St(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=je?St(t.stateNode.nextSibling):null;return!0}function Xc(){for(var t=Oe;t;)t=St(t.nextSibling)}function In(){Oe=je=null,W=!1}function Il(t){He===null?He=[t]:He.push(t)}var Op=ct.ReactCurrentBatchConfig;function Kn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function ss(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qa(t){var e=t._init;return e(t._payload)}function Zc(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=jt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,y){return p===null||p.tag!==6?(p=Yi(m,g.mode,y),p.return=g,p):(p=s(p,m),p.return=g,p)}function a(g,p,m,y){var E=m.type;return E===hn?c(g,p,m.props.children,y,m.key):p!==null&&(p.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ft&&qa(E)===p.type)?(y=s(p,m.props),y.ref=Kn(g,p,m),y.return=g,y):(y=Ns(m.type,m.key,m.props,null,g.mode,y),y.ref=Kn(g,p,m),y.return=g,y)}function u(g,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Xi(m,g.mode,y),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function c(g,p,m,y,E){return p===null||p.tag!==7?(p=Kt(m,g.mode,y,E),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yi(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case qr:return m=Ns(p.type,p.key,p.props,null,g.mode,m),m.ref=Kn(g,null,p),m.return=g,m;case dn:return p=Xi(p,g.mode,m),p.return=g,p;case ft:var y=p._init;return h(g,y(p._payload),m)}if(Zn(p)||Gn(p))return p=Kt(p,g.mode,m,null),p.return=g,p;ss(g,p)}return null}function f(g,p,m,y){var E=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return E!==null?null:l(g,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case qr:return m.key===E?a(g,p,m,y):null;case dn:return m.key===E?u(g,p,m,y):null;case ft:return E=m._init,f(g,p,E(m._payload),y)}if(Zn(m)||Gn(m))return E!==null?null:c(g,p,m,y,null);ss(g,m)}return null}function v(g,p,m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(m)||null,l(p,g,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case qr:return g=g.get(y.key===null?m:y.key)||null,a(p,g,y,E);case dn:return g=g.get(y.key===null?m:y.key)||null,u(p,g,y,E);case ft:var x=y._init;return v(g,p,m,x(y._payload),E)}if(Zn(y)||Gn(y))return g=g.get(m)||null,c(p,g,y,E,null);ss(p,y)}return null}function w(g,p,m,y){for(var E=null,x=null,N=p,j=p=0,H=null;N!==null&&j<m.length;j++){N.index>j?(H=N,N=null):H=N.sibling;var I=f(g,N,m[j],y);if(I===null){N===null&&(N=H);break}t&&N&&I.alternate===null&&e(g,N),p=i(I,p,j),x===null?E=I:x.sibling=I,x=I,N=H}if(j===m.length)return n(g,N),W&&zt(g,j),E;if(N===null){for(;j<m.length;j++)N=h(g,m[j],y),N!==null&&(p=i(N,p,j),x===null?E=N:x.sibling=N,x=N);return W&&zt(g,j),E}for(N=r(g,N);j<m.length;j++)H=v(N,g,j,m[j],y),H!==null&&(t&&H.alternate!==null&&N.delete(H.key===null?j:H.key),p=i(H,p,j),x===null?E=H:x.sibling=H,x=H);return t&&N.forEach(function(ye){return e(g,ye)}),W&&zt(g,j),E}function _(g,p,m,y){var E=Gn(m);if(typeof E!="function")throw Error(k(150));if(m=E.call(m),m==null)throw Error(k(151));for(var x=E=null,N=p,j=p=0,H=null,I=m.next();N!==null&&!I.done;j++,I=m.next()){N.index>j?(H=N,N=null):H=N.sibling;var ye=f(g,N,I.value,y);if(ye===null){N===null&&(N=H);break}t&&N&&ye.alternate===null&&e(g,N),p=i(ye,p,j),x===null?E=ye:x.sibling=ye,x=ye,N=H}if(I.done)return n(g,N),W&&zt(g,j),E;if(N===null){for(;!I.done;j++,I=m.next())I=h(g,I.value,y),I!==null&&(p=i(I,p,j),x===null?E=I:x.sibling=I,x=I);return W&&zt(g,j),E}for(N=r(g,N);!I.done;j++,I=m.next())I=v(N,g,j,I.value,y),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?j:I.key),p=i(I,p,j),x===null?E=I:x.sibling=I,x=I);return t&&N.forEach(function(Dt){return e(g,Dt)}),W&&zt(g,j),E}function S(g,p,m,y){if(typeof m=="object"&&m!==null&&m.type===hn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case qr:e:{for(var E=m.key,x=p;x!==null;){if(x.key===E){if(E=m.type,E===hn){if(x.tag===7){n(g,x.sibling),p=s(x,m.props.children),p.return=g,g=p;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ft&&qa(E)===x.type){n(g,x.sibling),p=s(x,m.props),p.ref=Kn(g,x,m),p.return=g,g=p;break e}n(g,x);break}else e(g,x);x=x.sibling}m.type===hn?(p=Kt(m.props.children,g.mode,y,m.key),p.return=g,g=p):(y=Ns(m.type,m.key,m.props,null,g.mode,y),y.ref=Kn(g,p,m),y.return=g,g=y)}return o(g);case dn:e:{for(x=m.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Xi(m,g.mode,y),p.return=g,g=p}return o(g);case ft:return x=m._init,S(g,p,x(m._payload),y)}if(Zn(m))return w(g,p,m,y);if(Gn(m))return _(g,p,m,y);ss(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=Yi(m,g.mode,y),p.return=g,g=p),o(g)):n(g,p)}return S}var bn=Zc(!0),ed=Zc(!1),zs=It(null),Fs=null,_n=null,bl=null;function Al(){bl=_n=Fs=null}function Dl(t){var e=zs.current;G(zs),t._currentValue=e}function $o(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function On(t,e){Fs=t,bl=_n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(bl!==t)if(t={context:t,memoizedValue:e,next:null},_n===null){if(Fs===null)throw Error(k(308));_n=t,Fs.dependencies={lanes:0,firstContext:t}}else _n=_n.next=t;return e}var Wt=null;function $l(t){Wt===null?Wt=[t]:Wt.push(t)}function td(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,$l(e)):(n.next=s.next,s.next=n),e.interleaved=n,at(t,r)}function at(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pt=!1;function Ml(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function it(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,at(t,n)}return s=r.interleaved,s===null?(e.next=e,$l(r)):(e.next=s.next,s.next=e),r.interleaved=e,at(t,n)}function ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kl(t,n)}}function Ka(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bs(t,e,n,r){var s=t.updateQueue;pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,v=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,_=l;switch(f=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(v,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,f=typeof w=="function"?w.call(v,h,f):w,f==null)break e;h=K({},h,f);break e;case 2:pt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=h):c=c.next=v,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xt|=o,t.lanes=o,t.memoizedState=h}}function Qa(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var Lr={},Xe=It(Lr),Cr=It(Lr),Or=It(Lr);function Vt(t){if(t===Lr)throw Error(k(174));return t}function Ll(t,e){switch(z(Or,e),z(Cr,t),z(Xe,Lr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:go(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=go(e,t)}G(Xe),z(Xe,e)}function An(){G(Xe),G(Cr),G(Or)}function rd(t){Vt(Or.current);var e=Vt(Xe.current),n=go(e,t.type);e!==n&&(z(Cr,t),z(Xe,n))}function Ul(t){Cr.current===t&&(G(Xe),G(Cr))}var V=It(0);function Gs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wi=[];function zl(){for(var t=0;t<Wi.length;t++)Wi[t]._workInProgressVersionPrimary=null;Wi.length=0}var _s=ct.ReactCurrentDispatcher,Vi=ct.ReactCurrentBatchConfig,Yt=0,q=null,X=null,re=null,Hs=!1,ar=!1,jr=0,jp=0;function ue(){throw Error(k(321))}function Fl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Bl(t,e,n,r,s,i){if(Yt=i,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_s.current=t===null||t.memoizedState===null?Ip:bp,t=n(r,s),ar){i=0;do{if(ar=!1,jr=0,25<=i)throw Error(k(301));i+=1,re=X=null,e.updateQueue=null,_s.current=Ap,t=n(r,s)}while(ar)}if(_s.current=Ws,e=X!==null&&X.next!==null,Yt=0,re=X=q=null,Hs=!1,e)throw Error(k(300));return t}function Gl(){var t=jr!==0;return jr=0,t}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?q.memoizedState=re=t:re=re.next=t,re}function Le(){if(X===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=X.next;var e=re===null?q.memoizedState:re.next;if(e!==null)re=e,X=t;else{if(t===null)throw Error(k(310));X=t,t={memoizedState:X.memoizedState,baseState:X.baseState,baseQueue:X.baseQueue,queue:X.queue,next:null},re===null?q.memoizedState=re=t:re=re.next=t}return re}function Pr(t,e){return typeof e=="function"?e(t):e}function qi(t){var e=Le(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=X,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((Yt&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,q.lanes|=c,Xt|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,qe(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,q.lanes|=i,Xt|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ki(t){var e=Le(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qe(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function sd(){}function id(t,e){var n=q,r=Le(),s=e(),i=!qe(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,Hl(ad.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,Tr(9,ld.bind(null,n,r,s,e),void 0,null),ie===null)throw Error(k(349));Yt&30||od(n,e,s)}return s}function od(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ld(t,e,n,r){e.value=n,e.getSnapshot=r,ud(e)&&cd(t)}function ad(t,e,n){return n(function(){ud(e)&&cd(t)})}function ud(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qe(t,n)}catch{return!0}}function cd(t){var e=at(t,1);e!==null&&Ve(e,t,1,-1)}function Ja(t){var e=Qe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},e.queue=t,t=t.dispatch=Rp.bind(null,q,t),[e.memoizedState,t]}function Tr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dd(){return Le().memoizedState}function xs(t,e,n,r){var s=Qe();q.flags|=t,s.memoizedState=Tr(1|e,n,void 0,r===void 0?null:r)}function ci(t,e,n,r){var s=Le();r=r===void 0?null:r;var i=void 0;if(X!==null){var o=X.memoizedState;if(i=o.destroy,r!==null&&Fl(r,o.deps)){s.memoizedState=Tr(e,n,i,r);return}}q.flags|=t,s.memoizedState=Tr(1|e,n,i,r)}function Ya(t,e){return xs(8390656,8,t,e)}function Hl(t,e){return ci(2048,8,t,e)}function hd(t,e){return ci(4,2,t,e)}function fd(t,e){return ci(4,4,t,e)}function pd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function md(t,e,n){return n=n!=null?n.concat([t]):null,ci(4,4,pd.bind(null,e,t),n)}function Wl(){}function gd(t,e){var n=Le();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vd(t,e){var n=Le();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yd(t,e,n){return Yt&21?(qe(n,e)||(n=Ec(),q.lanes|=n,Xt|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function Pp(t,e){var n=L;L=n!==0&&4>n?n:4,t(!0);var r=Vi.transition;Vi.transition={};try{t(!1),e()}finally{L=n,Vi.transition=r}}function wd(){return Le().memoizedState}function Tp(t,e,n){var r=Ot(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_d(t))xd(e,n);else if(n=td(t,e,n,r),n!==null){var s=me();Ve(n,t,r,s),kd(n,e,r)}}function Rp(t,e,n){var r=Ot(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_d(t))xd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,qe(l,o)){var a=e.interleaved;a===null?(s.next=s,$l(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=td(t,e,s,r),n!==null&&(s=me(),Ve(n,t,r,s),kd(n,e,r))}}function _d(t){var e=t.alternate;return t===q||e!==null&&e===q}function xd(t,e){ar=Hs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kl(t,n)}}var Ws={readContext:Me,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},Ip={readContext:Me,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:Ya,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xs(4194308,4,pd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return xs(4,2,t,e)},useMemo:function(t,e){var n=Qe();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qe();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Tp.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:Ja,useDebugValue:Wl,useDeferredValue:function(t){return Qe().memoizedState=t},useTransition:function(){var t=Ja(!1),e=t[0];return t=Pp.bind(null,t[1]),Qe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,s=Qe();if(W){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),ie===null)throw Error(k(349));Yt&30||od(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ya(ad.bind(null,r,i,t),[t]),r.flags|=2048,Tr(9,ld.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qe(),e=ie.identifierPrefix;if(W){var n=st,r=rt;n=(r&~(1<<32-We(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bp={readContext:Me,useCallback:gd,useContext:Me,useEffect:Hl,useImperativeHandle:md,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:vd,useReducer:qi,useRef:dd,useState:function(){return qi(Pr)},useDebugValue:Wl,useDeferredValue:function(t){var e=Le();return yd(e,X.memoizedState,t)},useTransition:function(){var t=qi(Pr)[0],e=Le().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:id,useId:wd,unstable_isNewReconciler:!1},Ap={readContext:Me,useCallback:gd,useContext:Me,useEffect:Hl,useImperativeHandle:md,useInsertionEffect:hd,useLayoutEffect:fd,useMemo:vd,useReducer:Ki,useRef:dd,useState:function(){return Ki(Pr)},useDebugValue:Wl,useDeferredValue:function(t){var e=Le();return X===null?e.memoizedState=t:yd(e,X.memoizedState,t)},useTransition:function(){var t=Ki(Pr)[0],e=Le().memoizedState;return[t,e]},useMutableSource:sd,useSyncExternalStore:id,useId:wd,unstable_isNewReconciler:!1};function Fe(t,e){if(t&&t.defaultProps){e=K({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:K({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var di={isMounted:function(t){return(t=t._reactInternals)?tn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),s=Ot(t),i=it(r,s);i.payload=e,n!=null&&(i.callback=n),e=Nt(t,i,s),e!==null&&(Ve(e,t,s,r),ws(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),s=Ot(t),i=it(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nt(t,i,s),e!==null&&(Ve(e,t,s,r),ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=Ot(t),s=it(n,r);s.tag=2,e!=null&&(s.callback=e),e=Nt(t,s,r),e!==null&&(Ve(e,t,r,n),ws(e,t,r))}};function Xa(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!kr(n,r)||!kr(s,i):!0}function Ed(t,e,n){var r=!1,s=Tt,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Se(e)?Qt:he.current,r=e.contextTypes,i=(r=r!=null)?Rn(t,s):Tt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=di,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Za(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&di.enqueueReplaceState(e,e.state,null)}function Lo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ml(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Se(e)?Qt:he.current,s.context=Rn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&di.enqueueReplaceState(s,s.state,null),Bs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dn(t,e){try{var n="",r=e;do n+=af(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dp=typeof WeakMap=="function"?WeakMap:Map;function Sd(t,e,n){n=it(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qs||(qs=!0,Qo=r),Uo(t,e)},n}function Nd(t,e,n){n=it(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uo(t,e),typeof r!="function"&&(Ct===null?Ct=new Set([this]):Ct.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Dp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Qp.bind(null,t,e,n),e.then(t,t))}function tu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=it(-1,1),e.tag=2,Nt(n,e,1))),n.lanes|=1),t)}var $p=ct.ReactCurrentOwner,ke=!1;function pe(t,e,n,r){e.child=t===null?ed(e,null,n,r):bn(e,t.child,n,r)}function ru(t,e,n,r,s){n=n.render;var i=e.ref;return On(e,s),r=Bl(t,e,n,r,i,s),n=Gl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ut(t,e,s)):(W&&n&&Tl(e),e.flags|=1,pe(t,e,r,s),e.child)}function su(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Zl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Cd(t,e,i,r,s)):(t=Ns(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:kr,n(o,r)&&t.ref===e.ref)return ut(t,e,s)}return e.flags|=1,t=jt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Cd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(kr(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,ut(t,e,s)}return zo(t,e,n,r,s)}function Od(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(kn,Ce),Ce|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(kn,Ce),Ce|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(kn,Ce),Ce|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(kn,Ce),Ce|=r;return pe(t,e,s,n),e.child}function jd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zo(t,e,n,r,s){var i=Se(n)?Qt:he.current;return i=Rn(e,i),On(e,s),n=Bl(t,e,n,r,i,s),r=Gl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ut(t,e,s)):(W&&r&&Tl(e),e.flags|=1,pe(t,e,n,s),e.child)}function iu(t,e,n,r,s){if(Se(n)){var i=!0;Ms(e)}else i=!1;if(On(e,s),e.stateNode===null)ks(t,e),Ed(e,n,r),Lo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Me(u):(u=Se(n)?Qt:he.current,u=Rn(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Za(e,o,r,u),pt=!1;var f=e.memoizedState;o.state=f,Bs(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Ee.current||pt?(typeof c=="function"&&(Mo(e,n,c,r),a=e.memoizedState),(l=pt||Xa(e,n,l,r,f,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fe(e.type,l),o.props=u,h=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Me(a):(a=Se(n)?Qt:he.current,a=Rn(e,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==a)&&Za(e,o,r,a),pt=!1,f=e.memoizedState,o.state=f,Bs(e,r,o,s);var w=e.memoizedState;l!==h||f!==w||Ee.current||pt?(typeof v=="function"&&(Mo(e,n,v,r),w=e.memoizedState),(u=pt||Xa(e,n,u,r,f,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Fo(t,e,n,r,i,s)}function Fo(t,e,n,r,s,i){jd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ha(e,n,!1),ut(t,e,i);r=e.stateNode,$p.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bn(e,t.child,null,i),e.child=bn(e,null,l,i)):pe(t,e,l,i),e.memoizedState=r.state,s&&Ha(e,n,!0),e.child}function Pd(t){var e=t.stateNode;e.pendingContext?Ga(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ga(t,e.context,!1),Ll(t,e.containerInfo)}function ou(t,e,n,r,s){return In(),Il(s),e.flags|=256,pe(t,e,n,r),e.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Td(t,e,n){var r=e.pendingProps,s=V.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(V,s&1),t===null)return Do(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),t=Kt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Go(n),e.memoizedState=Bo,t):Vl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Mp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=jt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=jt(l,i):(i=Kt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Go(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bo,r}return i=t.child,t=i.sibling,r=jt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vl(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,n,r){return r!==null&&Il(r),bn(e,t.child,null,n),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Qi(Error(k(422))),is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=Kt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bn(e,t.child,null,o),e.child.memoizedState=Go(o),e.memoizedState=Bo,i);if(!(e.mode&1))return is(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=Qi(i,r,void 0),is(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,at(t,s),Ve(r,t,s,-1))}return Xl(),r=Qi(Error(k(421))),is(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Jp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=St(s.nextSibling),je=e,W=!0,He=null,t!==null&&(Ie[be++]=rt,Ie[be++]=st,Ie[be++]=Jt,rt=t.id,st=t.overflow,Jt=e),e=Vl(e,r.children),e.flags|=4096,e)}function lu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$o(t.return,e,n)}function Ji(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Rd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(pe(t,e,r.children,n),r=V.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lu(t,n,e);else if(t.tag===19)lu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(V,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ji(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ji(e,!0,n,null,i);break;case"together":Ji(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ut(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xt|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lp(t,e,n){switch(e.tag){case 3:Pd(e),In();break;case 5:rd(e);break;case 1:Se(e.type)&&Ms(e);break;case 4:Ll(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(zs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(V,V.current&1),e.flags|=128,null):n&e.child.childLanes?Td(t,e,n):(z(V,V.current&1),t=ut(t,e,n),t!==null?t.sibling:null);z(V,V.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Rd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(V,V.current),r)break;return null;case 22:case 23:return e.lanes=0,Od(t,e,n)}return ut(t,e,n)}var Id,Ho,bd,Ad;Id=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ho=function(){};bd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Vt(Xe.current);var i=null;switch(n){case"input":s=ho(t,s),r=ho(t,r),i=[];break;case"select":s=K({},s,{value:void 0}),r=K({},r,{value:void 0}),i=[];break;case"textarea":s=mo(t,s),r=mo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ds)}vo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&B("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Ad=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qn(t,e){if(!W)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Up(t,e,n){var r=e.pendingProps;switch(Rl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return Se(e.type)&&$s(),ce(e),null;case 3:return r=e.stateNode,An(),G(Ee),G(he),zl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(Xo(He),He=null))),Ho(t,e),ce(e),null;case 5:Ul(e);var s=Vt(Or.current);if(n=e.type,t!==null&&e.stateNode!=null)bd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return ce(e),null}if(t=Vt(Xe.current),rs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Je]=e,r[Nr]=i,t=(e.mode&1)!==0,n){case"dialog":B("cancel",r),B("close",r);break;case"iframe":case"object":case"embed":B("load",r);break;case"video":case"audio":for(s=0;s<tr.length;s++)B(tr[s],r);break;case"source":B("error",r);break;case"img":case"image":case"link":B("error",r),B("load",r);break;case"details":B("toggle",r);break;case"input":ga(r,i),B("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},B("invalid",r);break;case"textarea":ya(r,i),B("invalid",r)}vo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,l,t),s=["children",""+l]):mr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&B("scroll",r)}switch(n){case"input":Kr(r),va(r,i,!0);break;case"textarea":Kr(r),wa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ds)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ac(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Je]=e,t[Nr]=r,Id(t,e,!1,!1),e.stateNode=t;e:{switch(o=yo(n,r),n){case"dialog":B("cancel",t),B("close",t),s=r;break;case"iframe":case"object":case"embed":B("load",t),s=r;break;case"video":case"audio":for(s=0;s<tr.length;s++)B(tr[s],t);s=r;break;case"source":B("error",t),s=r;break;case"img":case"image":case"link":B("error",t),B("load",t),s=r;break;case"details":B("toggle",t),s=r;break;case"input":ga(t,r),s=ho(t,r),B("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=K({},r,{value:void 0}),B("invalid",t);break;case"textarea":ya(t,r),s=mo(t,r),B("invalid",t);break;default:s=r}vo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?dc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&uc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&gr(t,a):typeof a=="number"&&gr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(mr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&B("scroll",t):a!=null&&gl(t,i,a,o))}switch(n){case"input":Kr(t),va(t,r,!1);break;case"textarea":Kr(t),wa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?En(t,!!r.multiple,i,!1):r.defaultValue!=null&&En(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)Ad(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Vt(Or.current),Vt(Xe.current),rs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Je]=e,(i=r.nodeValue!==n)&&(t=je,t!==null))switch(t.tag){case 3:ns(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Je]=e,e.stateNode=r}return ce(e),null;case 13:if(G(V),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(W&&Oe!==null&&e.mode&1&&!(e.flags&128))Xc(),In(),e.flags|=98560,i=!1;else if(i=rs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Je]=e}else In(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),i=!1}else He!==null&&(Xo(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||V.current&1?Z===0&&(Z=3):Xl())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return An(),Ho(t,e),t===null&&Er(e.stateNode.containerInfo),ce(e),null;case 10:return Dl(e.type._context),ce(e),null;case 17:return Se(e.type)&&$s(),ce(e),null;case 19:if(G(V),i=e.memoizedState,i===null)return ce(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Qn(i,!1);else{if(Z!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gs(t),o!==null){for(e.flags|=128,Qn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(V,V.current&1|2),e.child}t=t.sibling}i.tail!==null&&J()>$n&&(e.flags|=128,r=!0,Qn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return ce(e),null}else 2*J()-i.renderingStartTime>$n&&n!==1073741824&&(e.flags|=128,r=!0,Qn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=J(),e.sibling=null,n=V.current,z(V,r?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return Yl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ce&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function zp(t,e){switch(Rl(e),e.tag){case 1:return Se(e.type)&&$s(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return An(),G(Ee),G(he),zl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ul(e),null;case 13:if(G(V),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));In()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return G(V),null;case 4:return An(),null;case 10:return Dl(e.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var os=!1,de=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,O=null;function xn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Q(t,e,r)}else n.current=null}function Wo(t,e,n){try{n()}catch(r){Q(t,e,r)}}var au=!1;function Bp(t,e){if(jo=Is,t=Uc(),Pl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Po={focusedElem:t,selectionRange:n},Is=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,S=w.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Fe(e.type,_),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(y){Q(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return w=au,au=!1,w}function ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(e,n,i)}s=s.next}while(s!==r)}}function hi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dd(t){var e=t.alternate;e!==null&&(t.alternate=null,Dd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Je],delete e[Nr],delete e[Io],delete e[Sp],delete e[Np])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $d(t){return t.tag===5||t.tag===3||t.tag===4}function uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$d(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ds));else if(r!==4&&(t=t.child,t!==null))for(qo(t,e,n),t=t.sibling;t!==null;)qo(t,e,n),t=t.sibling}function Ko(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ko(t,e,n),t=t.sibling;t!==null;)Ko(t,e,n),t=t.sibling}var oe=null,Be=!1;function dt(t,e,n){for(n=n.child;n!==null;)Md(t,e,n),n=n.sibling}function Md(t,e,n){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:de||xn(n,e);case 6:var r=oe,s=Be;oe=null,dt(t,e,n),oe=r,Be=s,oe!==null&&(Be?(t=oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(Be?(t=oe,n=n.stateNode,t.nodeType===8?Gi(t.parentNode,n):t.nodeType===1&&Gi(t,n),_r(t)):Gi(oe,n.stateNode));break;case 4:r=oe,s=Be,oe=n.stateNode.containerInfo,Be=!0,dt(t,e,n),oe=r,Be=s;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(n,e,o),s=s.next}while(s!==r)}dt(t,e,n);break;case 1:if(!de&&(xn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Q(n,e,l)}dt(t,e,n);break;case 21:dt(t,e,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,dt(t,e,n),de=r):dt(t,e,n);break;default:dt(t,e,n)}}function cu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fp),e.forEach(function(r){var s=Yp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ue(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:oe=l.stateNode,Be=!1;break e;case 3:oe=l.stateNode.containerInfo,Be=!0;break e;case 4:oe=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(oe===null)throw Error(k(160));Md(i,o,s),oe=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ld(e,t),e=e.sibling}function Ld(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ue(e,t),Ke(t),r&4){try{ur(3,t,t.return),hi(3,t)}catch(_){Q(t,t.return,_)}try{ur(5,t,t.return)}catch(_){Q(t,t.return,_)}}break;case 1:Ue(e,t),Ke(t),r&512&&n!==null&&xn(n,n.return);break;case 5:if(Ue(e,t),Ke(t),r&512&&n!==null&&xn(n,n.return),t.flags&32){var s=t.stateNode;try{gr(s,"")}catch(_){Q(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&oc(s,i),yo(l,o);var u=yo(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?dc(s,h):c==="dangerouslySetInnerHTML"?uc(s,h):c==="children"?gr(s,h):gl(s,c,h,u)}switch(l){case"input":fo(s,i);break;case"textarea":lc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?En(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?En(s,!!i.multiple,i.defaultValue,!0):En(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nr]=i}catch(_){Q(t,t.return,_)}}break;case 6:if(Ue(e,t),Ke(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Q(t,t.return,_)}}break;case 3:if(Ue(e,t),Ke(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_r(e.containerInfo)}catch(_){Q(t,t.return,_)}break;case 4:Ue(e,t),Ke(t);break;case 13:Ue(e,t),Ke(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=J())),r&4&&cu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(de=(u=de)||c,Ue(e,t),de=u):Ue(e,t),Ke(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(f=O,v=f.child,f.tag){case 0:case 11:case 14:case 15:ur(4,f,f.return);break;case 1:xn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){Q(r,n,_)}}break;case 5:xn(f,f.return);break;case 22:if(f.memoizedState!==null){hu(h);continue}}v!==null?(v.return=f,O=v):hu(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=cc("display",o))}catch(_){Q(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Q(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ue(e,t),Ke(t),r&4&&cu(t);break;case 21:break;default:Ue(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($d(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(gr(s,""),r.flags&=-33);var i=uu(t);Ko(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=uu(t);qo(t,l,o);break;default:throw Error(k(161))}}catch(a){Q(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gp(t,e,n){O=t,Ud(t)}function Ud(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||os;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||de;l=os;var u=de;if(os=o,(de=a)&&!u)for(O=s;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?fu(s):a!==null?(a.return=o,O=a):fu(s);for(;i!==null;)O=i,Ud(i),i=i.sibling;O=s,os=l,de=u}du(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):du(t)}}function du(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||hi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!de)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fe(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qa(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qa(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&_r(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}de||e.flags&512&&Vo(e)}catch(f){Q(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function hu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function fu(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hi(4,e)}catch(a){Q(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Q(e,s,a)}}var i=e.return;try{Vo(e)}catch(a){Q(e,i,a)}break;case 5:var o=e.return;try{Vo(e)}catch(a){Q(e,o,a)}}}catch(a){Q(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Hp=Math.ceil,Vs=ct.ReactCurrentDispatcher,ql=ct.ReactCurrentOwner,De=ct.ReactCurrentBatchConfig,$=0,ie=null,Y=null,le=0,Ce=0,kn=It(0),Z=0,Rr=null,Xt=0,fi=0,Kl=0,cr=null,_e=null,Ql=0,$n=1/0,et=null,qs=!1,Qo=null,Ct=null,ls=!1,_t=null,Ks=0,dr=0,Jo=null,Es=-1,Ss=0;function me(){return $&6?J():Es!==-1?Es:Es=J()}function Ot(t){return t.mode&1?$&2&&le!==0?le&-le:Op.transition!==null?(Ss===0&&(Ss=Ec()),Ss):(t=L,t!==0||(t=window.event,t=t===void 0?16:Tc(t.type)),t):1}function Ve(t,e,n,r){if(50<dr)throw dr=0,Jo=null,Error(k(185));Dr(t,n,r),(!($&2)||t!==ie)&&(t===ie&&(!($&2)&&(fi|=n),Z===4&&vt(t,le)),Ne(t,r),n===1&&$===0&&!(e.mode&1)&&($n=J()+500,ui&&bt()))}function Ne(t,e){var n=t.callbackNode;Of(t,e);var r=Rs(t,t===ie?le:0);if(r===0)n!==null&&ka(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ka(n),e===1)t.tag===0?Cp(pu.bind(null,t)):Qc(pu.bind(null,t)),kp(function(){!($&6)&&bt()}),n=null;else{switch(Sc(r)){case 1:n=xl;break;case 4:n=xc;break;case 16:n=Ts;break;case 536870912:n=kc;break;default:n=Ts}n=qd(n,zd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zd(t,e){if(Es=-1,Ss=0,$&6)throw Error(k(327));var n=t.callbackNode;if(jn()&&t.callbackNode!==n)return null;var r=Rs(t,t===ie?le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qs(t,r);else{e=r;var s=$;$|=2;var i=Bd();(ie!==t||le!==e)&&(et=null,$n=J()+500,qt(t,e));do try{qp();break}catch(l){Fd(t,l)}while(1);Al(),Vs.current=i,$=s,Y!==null?e=0:(ie=null,le=0,e=Z)}if(e!==0){if(e===2&&(s=Eo(t),s!==0&&(r=s,e=Yo(t,s))),e===1)throw n=Rr,qt(t,0),vt(t,r),Ne(t,J()),n;if(e===6)vt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Wp(s)&&(e=Qs(t,r),e===2&&(i=Eo(t),i!==0&&(r=i,e=Yo(t,i))),e===1))throw n=Rr,qt(t,0),vt(t,r),Ne(t,J()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:Ft(t,_e,et);break;case 3:if(vt(t,r),(r&130023424)===r&&(e=Ql+500-J(),10<e)){if(Rs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(Ft.bind(null,t,_e,et),e);break}Ft(t,_e,et);break;case 4:if(vt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-We(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hp(r/1960))-r,10<r){t.timeoutHandle=Ro(Ft.bind(null,t,_e,et),r);break}Ft(t,_e,et);break;case 5:Ft(t,_e,et);break;default:throw Error(k(329))}}}return Ne(t,J()),t.callbackNode===n?zd.bind(null,t):null}function Yo(t,e){var n=cr;return t.current.memoizedState.isDehydrated&&(qt(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=_e,_e=n,e!==null&&Xo(e)),t}function Xo(t){_e===null?_e=t:_e.push.apply(_e,t)}function Wp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vt(t,e){for(e&=~Kl,e&=~fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function pu(t){if($&6)throw Error(k(327));jn();var e=Rs(t,0);if(!(e&1))return Ne(t,J()),null;var n=Qs(t,e);if(t.tag!==0&&n===2){var r=Eo(t);r!==0&&(e=r,n=Yo(t,r))}if(n===1)throw n=Rr,qt(t,0),vt(t,e),Ne(t,J()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ft(t,_e,et),Ne(t,J()),null}function Jl(t,e){var n=$;$|=1;try{return t(e)}finally{$=n,$===0&&($n=J()+500,ui&&bt())}}function Zt(t){_t!==null&&_t.tag===0&&!($&6)&&jn();var e=$;$|=1;var n=De.transition,r=L;try{if(De.transition=null,L=1,t)return t()}finally{L=r,De.transition=n,$=e,!($&6)&&bt()}}function Yl(){Ce=kn.current,G(kn)}function qt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xp(n)),Y!==null)for(n=Y.return;n!==null;){var r=n;switch(Rl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$s();break;case 3:An(),G(Ee),G(he),zl();break;case 5:Ul(r);break;case 4:An();break;case 13:G(V);break;case 19:G(V);break;case 10:Dl(r.type._context);break;case 22:case 23:Yl()}n=n.return}if(ie=t,Y=t=jt(t.current,null),le=Ce=e,Z=0,Rr=null,Kl=fi=Xt=0,_e=cr=null,Wt!==null){for(e=0;e<Wt.length;e++)if(n=Wt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Wt=null}return t}function Fd(t,e){do{var n=Y;try{if(Al(),_s.current=Ws,Hs){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hs=!1}if(Yt=0,re=X=q=null,ar=!1,jr=0,ql.current=null,n===null||n.return===null){Z=1,Rr=e,Y=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=tu(o);if(v!==null){v.flags&=-257,nu(v,o,l,i,e),v.mode&1&&eu(i,u,e),e=v,a=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){eu(i,u,e),Xl();break e}a=Error(k(426))}}else if(W&&l.mode&1){var S=tu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),nu(S,o,l,i,e),Il(Dn(a,l));break e}}i=a=Dn(a,l),Z!==4&&(Z=2),cr===null?cr=[i]:cr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Sd(i,a,e);Ka(i,g);break e;case 1:l=a;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ct===null||!Ct.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Nd(i,l,e);Ka(i,y);break e}}i=i.return}while(i!==null)}Hd(n)}catch(E){e=E,Y===n&&n!==null&&(Y=n=n.return);continue}break}while(1)}function Bd(){var t=Vs.current;return Vs.current=Ws,t===null?Ws:t}function Xl(){(Z===0||Z===3||Z===2)&&(Z=4),ie===null||!(Xt&268435455)&&!(fi&268435455)||vt(ie,le)}function Qs(t,e){var n=$;$|=2;var r=Bd();(ie!==t||le!==e)&&(et=null,qt(t,e));do try{Vp();break}catch(s){Fd(t,s)}while(1);if(Al(),$=n,Vs.current=r,Y!==null)throw Error(k(261));return ie=null,le=0,Z}function Vp(){for(;Y!==null;)Gd(Y)}function qp(){for(;Y!==null&&!yf();)Gd(Y)}function Gd(t){var e=Vd(t.alternate,t,Ce);t.memoizedProps=t.pendingProps,e===null?Hd(t):Y=e,ql.current=null}function Hd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zp(n,e),n!==null){n.flags&=32767,Y=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Z=6,Y=null;return}}else if(n=Up(n,e,Ce),n!==null){Y=n;return}if(e=e.sibling,e!==null){Y=e;return}Y=e=t}while(e!==null);Z===0&&(Z=5)}function Ft(t,e,n){var r=L,s=De.transition;try{De.transition=null,L=1,Kp(t,e,n,r)}finally{De.transition=s,L=r}return null}function Kp(t,e,n,r){do jn();while(_t!==null);if($&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(jf(t,i),t===ie&&(Y=ie=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,qd(Ts,function(){return jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=L;L=1;var l=$;$|=4,ql.current=null,Bp(t,n),Ld(n,t),pp(Po),Is=!!jo,Po=jo=null,t.current=n,Gp(n),wf(),$=l,L=o,De.transition=i}else t.current=n;if(ls&&(ls=!1,_t=t,Ks=s),i=t.pendingLanes,i===0&&(Ct=null),kf(n.stateNode),Ne(t,J()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,t=Qo,Qo=null,t;return Ks&1&&t.tag!==0&&jn(),i=t.pendingLanes,i&1?t===Jo?dr++:(dr=0,Jo=t):dr=0,bt(),null}function jn(){if(_t!==null){var t=Sc(Ks),e=De.transition,n=L;try{if(De.transition=null,L=16>t?16:t,_t===null)var r=!1;else{if(t=_t,_t=null,Ks=0,$&6)throw Error(k(331));var s=$;for($|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:ur(8,c,i)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var f=c.sibling,v=c.return;if(Dd(c),c===u){O=null;break}if(f!==null){f.return=v,O=f;break}O=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ur(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,O=g;break e}O=i.return}}var p=t.current;for(O=p;O!==null;){o=O;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,O=m;else e:for(o=p;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(E){Q(l,l.return,E)}if(l===o){O=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,O=y;break e}O=l.return}}if($=s,bt(),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(si,t)}catch{}r=!0}return r}finally{L=n,De.transition=e}}return!1}function mu(t,e,n){e=Dn(n,e),e=Sd(t,e,1),t=Nt(t,e,1),e=me(),t!==null&&(Dr(t,1,e),Ne(t,e))}function Q(t,e,n){if(t.tag===3)mu(t,t,n);else for(;e!==null;){if(e.tag===3){mu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ct===null||!Ct.has(r))){t=Dn(n,t),t=Nd(e,t,1),e=Nt(e,t,1),t=me(),e!==null&&(Dr(e,1,t),Ne(e,t));break}}e=e.return}}function Qp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(le&n)===n&&(Z===4||Z===3&&(le&130023424)===le&&500>J()-Ql?qt(t,0):Kl|=n),Ne(t,e)}function Wd(t,e){e===0&&(t.mode&1?(e=Yr,Yr<<=1,!(Yr&130023424)&&(Yr=4194304)):e=1);var n=me();t=at(t,e),t!==null&&(Dr(t,e,n),Ne(t,n))}function Jp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wd(t,n)}function Yp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),Wd(t,n)}var Vd;Vd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,Lp(t,e,n);ke=!!(t.flags&131072)}else ke=!1,W&&e.flags&1048576&&Jc(e,Us,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ks(t,e),t=e.pendingProps;var s=Rn(e,he.current);On(e,n),s=Bl(null,e,r,t,s,n);var i=Gl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Se(r)?(i=!0,Ms(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ml(e),s.updater=di,e.stateNode=s,s._reactInternals=e,Lo(e,r,t,n),e=Fo(null,e,r,!0,i,n)):(e.tag=0,W&&i&&Tl(e),pe(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Zp(r),t=Fe(r,t),s){case 0:e=zo(null,e,r,t,n);break e;case 1:e=iu(null,e,r,t,n);break e;case 11:e=ru(null,e,r,t,n);break e;case 14:e=su(null,e,r,Fe(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),zo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),iu(t,e,r,s,n);case 3:e:{if(Pd(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,nd(t,e),Bs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dn(Error(k(423)),e),e=ou(t,e,r,n,s);break e}else if(r!==s){s=Dn(Error(k(424)),e),e=ou(t,e,r,n,s);break e}else for(Oe=St(e.stateNode.containerInfo.firstChild),je=e,W=!0,He=null,n=ed(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(In(),r===s){e=ut(t,e,n);break e}pe(t,e,r,n)}e=e.child}return e;case 5:return rd(e),t===null&&Do(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,To(r,s)?o=null:i!==null&&To(r,i)&&(e.flags|=32),jd(t,e),pe(t,e,o,n),e.child;case 6:return t===null&&Do(e),null;case 13:return Td(t,e,n);case 4:return Ll(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bn(e,null,r,n):pe(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),ru(t,e,r,s,n);case 7:return pe(t,e,e.pendingProps,n),e.child;case 8:return pe(t,e,e.pendingProps.children,n),e.child;case 12:return pe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(zs,r._currentValue),r._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!Ee.current){e=ut(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=it(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),$o(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$o(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}pe(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,On(e,n),s=Me(s),r=r(s),e.flags|=1,pe(t,e,r,n),e.child;case 14:return r=e.type,s=Fe(r,e.pendingProps),s=Fe(r.type,s),su(t,e,r,s,n);case 15:return Cd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),ks(t,e),e.tag=1,Se(r)?(t=!0,Ms(e)):t=!1,On(e,n),Ed(e,r,s),Lo(e,r,s,n),Fo(null,e,r,!0,t,n);case 19:return Rd(t,e,n);case 22:return Od(t,e,n)}throw Error(k(156,e.tag))};function qd(t,e){return _c(t,e)}function Xp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ae(t,e,n,r){return new Xp(t,e,n,r)}function Zl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zp(t){if(typeof t=="function")return Zl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yl)return 11;if(t===wl)return 14}return 2}function jt(t,e){var n=t.alternate;return n===null?(n=Ae(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ns(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Zl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hn:return Kt(n.children,s,i,e);case vl:o=8,s|=8;break;case lo:return t=Ae(12,n,e,s|2),t.elementType=lo,t.lanes=i,t;case ao:return t=Ae(13,n,e,s),t.elementType=ao,t.lanes=i,t;case uo:return t=Ae(19,n,e,s),t.elementType=uo,t.lanes=i,t;case rc:return pi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tc:o=10;break e;case nc:o=9;break e;case yl:o=11;break e;case wl:o=14;break e;case ft:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ae(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Kt(t,e,n,r){return t=Ae(7,t,r,e),t.lanes=n,t}function pi(t,e,n,r){return t=Ae(22,t,r,e),t.elementType=rc,t.lanes=n,t.stateNode={isHidden:!1},t}function Yi(t,e,n){return t=Ae(6,t,null,e),t.lanes=n,t}function Xi(t,e,n){return e=Ae(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function em(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ea(t,e,n,r,s,i,o,l,a){return t=new em(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ae(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),t}function tm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Kd(t){if(!t)return Tt;t=t._reactInternals;e:{if(tn(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Se(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Se(n))return Kc(t,n,e)}return e}function Qd(t,e,n,r,s,i,o,l,a){return t=ea(n,r,!0,t,s,i,o,l,a),t.context=Kd(null),n=t.current,r=me(),s=Ot(n),i=it(r,s),i.callback=e??null,Nt(n,i,s),t.current.lanes=s,Dr(t,s,r),Ne(t,r),t}function mi(t,e,n,r){var s=e.current,i=me(),o=Ot(s);return n=Kd(n),e.context===null?e.context=n:e.pendingContext=n,e=it(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nt(s,e,o),t!==null&&(Ve(t,s,o,i),ws(t,s,o)),o}function Js(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ta(t,e){gu(t,e),(t=t.alternate)&&gu(t,e)}function nm(){return null}var Jd=typeof reportError=="function"?reportError:function(t){console.error(t)};function na(t){this._internalRoot=t}gi.prototype.render=na.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));mi(t,e,null,null)};gi.prototype.unmount=na.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zt(function(){mi(null,t,null,null)}),e[lt]=null}};function gi(t){this._internalRoot=t}gi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gt.length&&e!==0&&e<gt[n].priority;n++);gt.splice(n,0,t),n===0&&Pc(t)}};function ra(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vu(){}function rm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Js(o);i.call(u)}}var o=Qd(e,r,t,0,null,!1,!1,"",vu);return t._reactRootContainer=o,t[lt]=o.current,Er(t.nodeType===8?t.parentNode:t),Zt(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Js(a);l.call(u)}}var a=ea(t,0,!1,null,null,!1,!1,"",vu);return t._reactRootContainer=a,t[lt]=a.current,Er(t.nodeType===8?t.parentNode:t),Zt(function(){mi(e,a,n,r)}),a}function yi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Js(o);l.call(a)}}mi(e,o,t,s)}else o=rm(n,e,t,s,r);return Js(o)}Nc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=er(e.pendingLanes);n!==0&&(kl(e,n|1),Ne(e,J()),!($&6)&&($n=J()+500,bt()))}break;case 13:Zt(function(){var r=at(t,1);if(r!==null){var s=me();Ve(r,t,1,s)}}),ta(t,1)}};El=function(t){if(t.tag===13){var e=at(t,134217728);if(e!==null){var n=me();Ve(e,t,134217728,n)}ta(t,134217728)}};Cc=function(t){if(t.tag===13){var e=Ot(t),n=at(t,e);if(n!==null){var r=me();Ve(n,t,e,r)}ta(t,e)}};Oc=function(){return L};jc=function(t,e){var n=L;try{return L=t,e()}finally{L=n}};_o=function(t,e,n){switch(e){case"input":if(fo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ai(r);if(!s)throw Error(k(90));ic(r),fo(r,s)}}}break;case"textarea":lc(t,n);break;case"select":e=n.value,e!=null&&En(t,!!n.multiple,e,!1)}};pc=Jl;mc=Zt;var sm={usingClientEntryPoint:!1,Events:[Mr,gn,ai,hc,fc,Jl]},Jn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},im={bundleType:Jn.bundleType,version:Jn.version,rendererPackageName:Jn.rendererPackageName,rendererConfig:Jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yc(t),t===null?null:t.stateNode},findFiberByHostInstance:Jn.findFiberByHostInstance||nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{si=as.inject(im),Ye=as}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm;Te.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ra(e))throw Error(k(200));return tm(t,e,null,n)};Te.createRoot=function(t,e){if(!ra(t))throw Error(k(299));var n=!1,r="",s=Jd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ea(t,1,!1,null,null,n,!1,r,s),t[lt]=e.current,Er(t.nodeType===8?t.parentNode:t),new na(e)};Te.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=yc(e),t=t===null?null:t.stateNode,t};Te.flushSync=function(t){return Zt(t)};Te.hydrate=function(t,e,n){if(!vi(e))throw Error(k(200));return yi(null,t,e,!0,n)};Te.hydrateRoot=function(t,e,n){if(!ra(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Jd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Qd(e,null,t,1,n??null,s,!1,i,o),t[lt]=e.current,Er(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new gi(e)};Te.render=function(t,e,n){if(!vi(e))throw Error(k(200));return yi(null,t,e,!1,n)};Te.unmountComponentAtNode=function(t){if(!vi(t))throw Error(k(40));return t._reactRootContainer?(Zt(function(){yi(null,null,t,!1,function(){t._reactRootContainer=null,t[lt]=null})}),!0):!1};Te.unstable_batchedUpdates=Jl;Te.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vi(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return yi(t,e,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function Yd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yd)}catch(t){console.error(t)}}Yd(),Yu.exports=Te;var om=Yu.exports,yu=om;io.createRoot=yu.createRoot,io.hydrateRoot=yu.hydrateRoot;const lm="modulepreload",am=function(t){return"/"+t},wu={},Ur=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=am(i),i in wu)return;wu[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const h=s[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":lm,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},um=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(()=>Promise.resolve().then(()=>Fn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class sa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class cm extends sa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class dm extends sa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class hm extends sa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zo||(Zo={}));var fm=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class pm{constructor(e,{headers:n={},customFetch:r,region:s=Zo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=um(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return fm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new cm(w)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new dm(c);if(!c.ok)throw new hm(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield c.json():f==="application/octet-stream"?v=yield c.blob():f==="text/event-stream"?v=c:f==="multipart/form-data"?v=yield c.formData():v=yield c.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var xe={},ia={},wi={},zr={},_i={},xi={},mm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=mm();const gm=Mn.fetch,Xd=Mn.fetch.bind(Mn),Zd=Mn.Headers,vm=Mn.Request,ym=Mn.Response,Fn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zd,Request:vm,Response:ym,default:Xd,fetch:gm},Symbol.toStringTag,{value:"Module"})),wm=Ih(Fn);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let _m=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ki.default=_m;var eh=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const xm=eh(wm),km=eh(ki);let Em=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,c=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=g:c=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,f=406,v="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await i.text();try{u=JSON.parse(_),Array.isArray(u)&&i.status===404&&(c=[],u=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,f=200,v="OK"),u&&this.shouldThrowOnError)throw new km.default(u)}return{error:u,data:c,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};xi.default=Em;var Sm=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const Nm=Sm(xi);let Cm=class extends Nm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_i.default=Cm;var Om=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zr,"__esModule",{value:!0});const jm=Om(_i);let Pm=class extends jm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};zr.default=Pm;var Tm=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const Yn=Tm(zr);let Rm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Yn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wi.default=Rm;var Ei={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.version=void 0;Si.version="0.0.0-automated";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.DEFAULT_HEADERS=void 0;const Im=Si;Ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Im.version}`};var th=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});const bm=th(wi),Am=th(zr),Dm=Ei;let $m=class nh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new bm.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{l.searchParams.append(c,h)})):(o="POST",a=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Am.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ia.default=$m;var Bn=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const rh=Bn(ia);xe.PostgrestClient=rh.default;const sh=Bn(wi);xe.PostgrestQueryBuilder=sh.default;const ih=Bn(zr);xe.PostgrestFilterBuilder=ih.default;const oh=Bn(_i);xe.PostgrestTransformBuilder=oh.default;const lh=Bn(xi);xe.PostgrestBuilder=lh.default;const ah=Bn(ki);xe.PostgrestError=ah.default;var Mm=xe.default={PostgrestClient:rh.default,PostgrestQueryBuilder:sh.default,PostgrestFilterBuilder:ih.default,PostgrestTransformBuilder:oh.default,PostgrestBuilder:lh.default,PostgrestError:ah.default};const{PostgrestClient:Lm,PostgrestQueryBuilder:sv,PostgrestFilterBuilder:iv,PostgrestTransformBuilder:ov,PostgrestBuilder:lv,PostgrestError:av}=Mm;let el;typeof window>"u"?el=require("ws"):el=window.WebSocket;const Um=el,zm="2.11.10",Fm={"X-Client-Info":`realtime-js/${zm}`},Bm="1.0.0",uh=1e4,Gm=1e3;var Pn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pn||(Pn={}));var fe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fe||(fe={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var tl;(function(t){t.websocket="websocket"})(tl||(tl={}));var Gt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Gt||(Gt={}));class Hm{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ch{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var U;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(U||(U={}));const _u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wm(o,t,e,s),i),{})},Wm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?dh(i,o):nl(o)},dh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Qm(e,n)}switch(t){case U.bool:return Vm(e);case U.float4:case U.float8:case U.int2:case U.int4:case U.int8:case U.numeric:case U.oid:return qm(e);case U.json:case U.jsonb:return Km(e);case U.timestamp:return Jm(e);case U.abstime:case U.date:case U.daterange:case U.int4range:case U.int8range:case U.money:case U.reltime:case U.text:case U.time:case U.timestamptz:case U.timetz:case U.tsrange:case U.tstzrange:return nl(e);default:return nl(e)}},nl=t=>t,Vm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Km=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dh(e,l))}return t},Jm=t=>typeof t=="string"?t.replace(" ","T"):t,hh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zi{constructor(e,n,r={},s=uh){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xu||(xu={}));class hr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=hr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=hr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(S=>S.presence_ref),v=h.map(S=>S.presence_ref),w=c.filter(S=>v.indexOf(S.presence_ref)<0),_=h.filter(S=>f.indexOf(S.presence_ref)<0);w.length>0&&(l[u]=w),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const h=e[l].map(v=>v.presence_ref),f=c.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ku;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ku||(ku={}));var Eu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Eu||(Eu={}));var tt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(tt||(tt={}));class oa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zi(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new ch(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new hr(this),this.broadcastEndpointURL=hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(c=>e==null?void 0:e(tt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(tt.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(tt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let _=0;_<v;_++){const S=f[_],{filter:{event:g,schema:p,table:m,filter:y}}=S,E=c&&c[_];if(E&&E.event===g&&E.schema===p&&E.table===m&&E.filter===y)w.push(Object.assign(Object.assign({},S),{id:E.id}));else{this.unsubscribe(),this.state=fe.errored,e==null||e(tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(tt.SUBSCRIBED);return}}).receive("error",c=>{this.state=fe.errored,e==null||e(tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Zi(this,Ge.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zi(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Ge;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,S;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=v.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,_,S,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,E=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const y=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:_,table:S,commit_timestamp:g,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}v.callback(f,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oa.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=_u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=_u(e.columns,e.old_record)),n}}const Su=()=>{},Ym=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xm{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Fm,this.params={},this.timeout=uh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Su,this.ref=0,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new Hm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Ur(()=>Promise.resolve().then(()=>Fn),void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${tl.websocket}`,this.httpEndpoint=hh(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ch(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Um),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Zm(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Bm}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pn.connecting:return Gt.Connecting;case Pn.open:return Gt.Open;case Pn.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new oa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Gm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Ym],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Zm{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class la extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class e0 extends la{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rl extends la{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var t0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(()=>Promise.resolve().then(()=>Fn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},n0=()=>t0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ur(()=>Promise.resolve().then(()=>Fn),void 0)).Response:Response}),sl=t=>{if(Array.isArray(t))return t.map(n=>sl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sl(r)}),e};var nn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r0=(t,e,n)=>nn(void 0,void 0,void 0,function*(){const r=yield n0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new e0(eo(s),t.status||500))}).catch(s=>{e(new rl(eo(s),s))}):e(new rl(eo(t),t))}),s0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Fr(t,e,n,r,s,i){return nn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,s0(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>r0(a,l,r))})})}function Ys(t,e,n,r){return nn(this,void 0,void 0,function*(){return Fr(t,"GET",e,n,r)})}function mt(t,e,n,r,s){return nn(this,void 0,void 0,function*(){return Fr(t,"POST",e,r,s,n)})}function i0(t,e,n,r,s){return nn(this,void 0,void 0,function*(){return Fr(t,"PUT",e,r,s,n)})}function o0(t,e,n,r){return nn(this,void 0,void 0,function*(){return Fr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ph(t,e,n,r,s){return nn(this,void 0,void 0,function*(){return Fr(t,"DELETE",e,r,s,n)})}var we=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const l0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class a0{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=fh(s)}uploadOrUpdate(e,n,r,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Nu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:Nu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return we(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield mt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new la("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(e,n,r){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}copy(e,n,r){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield mt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield mt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return we(this,void 0,void 0,function*(){try{const s=yield mt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}download(e,n){return we(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ys(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}info(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Ys(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sl(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(e){return we(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield o0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof rl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return we(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}list(e,n,r){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},l0),n),{prefix:e||""});return{data:yield mt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const u0="2.7.1",c0={"X-Client-Info":`storage-js/${u0}`};var sn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class d0{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},c0),n),this.fetch=fh(r)}listBuckets(){return sn(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return sn(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return sn(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return sn(this,void 0,void 0,function*(){try{return{data:yield i0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return sn(this,void 0,void 0,function*(){try{return{data:yield mt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return sn(this,void 0,void 0,function*(){try{return{data:yield ph(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}}class h0 extends d0{constructor(e,n={},r){super(e,n,r)}from(e){return new a0(this.url,this.headers,e,this.fetch)}}const f0="2.50.0";let nr="";typeof Deno<"u"?nr="deno":typeof document<"u"?nr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nr="react-native":nr="node";const p0={"X-Client-Info":`supabase-js-${nr}/${f0}`},m0={headers:p0},g0={schema:"public"},v0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y0={};var w0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const _0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Xd:e=fetch,(...n)=>e(...n)},x0=()=>typeof Headers>"u"?Zd:Headers,k0=(t,e,n)=>{const r=_0(n),s=x0();return(i,o)=>w0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var E0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function S0(t){return t.endsWith("/")?t:t+"/"}function N0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:h}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>E0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const mh="2.70.0",un=30*1e3,il=3,to=il*un,C0="http://localhost:9999",O0="supabase.auth.token",j0={"X-Client-Info":`gotrue-js/${mh}`},ol="X-Supabase-Api-Version",gh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T0=6e5;class aa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class R0 extends aa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function I0(t){return R(t)&&t.name==="AuthApiError"}class vh extends aa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class At extends aa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ht extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function b0(t){return R(t)&&t.name==="AuthSessionMissingError"}class us extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cs extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ds extends At{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A0(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Cu extends At{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ll extends At{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function no(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Ou extends At{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class fr extends At{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ju=` 	
\r=`.split(""),D0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ju.length;e+=1)t[ju[e].charCodeAt(0)]=-2;for(let e=0;e<Xs.length;e+=1)t[Xs[e].charCodeAt(0)]=e;return t})();function Pu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xs[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Xs[r]),e.queuedBits-=6}}function yh(t,e,n){const r=D0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{L0(o,r,n)};for(let o=0;o<t.length;o+=1)yh(t.charCodeAt(o),s,i);return e.join("")}function $0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function M0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$0(r,e)}}function L0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function U0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)yh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function z0(t){const e=[];return M0(t,n=>e.push(n)),new Uint8Array(e)}function F0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Pu(s,n,r)),Pu(null,n,r),e.join("")}function B0(t){return Math.round(Date.now()/1e3)+t}function G0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window<"u"&&typeof document<"u",Ut={tested:!1,writable:!1},pr=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ut.tested)return Ut.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ut.tested=!0,Ut.writable=!0}catch{Ut.tested=!0,Ut.writable=!1}return Ut.writable};function H0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const wh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ur(()=>Promise.resolve().then(()=>Fn),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},W0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_h=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fs=async(t,e)=>{await t.removeItem(e)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ni.promiseConstructor=Promise;function ro(t){const e=t.split(".");if(e.length!==3)throw new fr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!P0.test(e[r]))throw new fr("JWT not in base64url format");return{header:JSON.parse(Tu(e[0])),payload:JSON.parse(Tu(e[1])),signature:U0(e[2]),raw:{header:e[0],payload:e[1]}}}async function V0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function K0(t){return("0"+t.toString(16)).substr(-2)}function Q0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,K0).join("")}async function J0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Y0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await J0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function on(t,e,n=!1){const r=Q0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await _h(t,`${e}-code-verifier`,s);const i=await Y0(r);return[i,r===i?"plain":"s256"]}const X0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z0(t){const e=t.headers.get(ol);if(!e||!e.match(X0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function eg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function tg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ng=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(t){if(!ng.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var rg=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Bt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sg=[502,503,504];async function Ru(t){var e;if(!W0(t))throw new ll(Bt(t),0);if(sg.includes(t.status))throw new ll(Bt(t),t.status);let n;try{n=await t.json()}catch(i){throw new vh(Bt(i),i)}let r;const s=Z0(t);if(s&&s.getTime()>=gh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ou(Bt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ht}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ou(Bt(n),t.status,n.weak_password.reasons);throw new R0(Bt(n),t.status||500,r)}const ig=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function b(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ol]||(i[ol]=gh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await og(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function og(t,e,n,r,s,i){const o=ig(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new ll(Bt(a),0)}if(l.ok||await Ru(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Ru(a)}}function Ze(t){var e;let n=null;cg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=B0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Iu(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lg(t){return{data:t,error:null}}function ag(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=rg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function ug(t){return t}function cg(t){return t.access_token&&t.refresh_token&&t.expires_in}const so=["global","local","others"];var dg=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class hg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=wh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=so[0]){if(so.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${so.join(", ")}`);try{return await b(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await b(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=dg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await b(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ag,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await b(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await b(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ug});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);u[`${S}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ln(e);try{return await b(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ln(e);try{return await b(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ln(e);try{return await b(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ln(e.userId);try{const{data:n,error:r}=await b(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ln(e.userId),ln(e.id);try{return{data:await b(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}const fg={getItem:t=>pr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{pr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{pr()&&globalThis.localStorage.removeItem(t)}};function bu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function pg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const an={debug:!!(globalThis&&pr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mg extends xh{}async function gg(t,e,n){an.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),an.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){an.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{an.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw an.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(an.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}pg();const vg={url:C0,storageKey:O0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Au(t,e,n){return await n()}class Ir{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ir.nextInstanceID,Ir.nextInstanceID+=1,this.instanceID>0&&ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},vg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wh(s.fetch),this.lock=s.lock||Au,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ze()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gg:this.lock=Au,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:pr()?this.storage=fg:(this.memoryStorage={},this.storage=bu(this.memoryStorage)):(this.memoryStorage={},this.storage=bu(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=H0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ze()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),A0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new vh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ze}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:f}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await on(this.storage,this.storageKey)),i=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:w},xform:Ze})}else if("phone"in e){const{phone:c,password:h,options:f}=e;i=await b(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ze})}else throw new cs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await b(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await b(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Iu})}else throw new cs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new us}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,h,f,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:g,statement:p,options:m}=e;let y;if(ze())if(typeof g=="object")y=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))y=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const E=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const x=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),p?{statement:p}:null));let N;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")N=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)N=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const x=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:S,error:g}=await b(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:F0(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(g)throw g;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new us}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:g})}catch(S){if(R(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await hs(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await b(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Ze});if(await fs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new us}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await b(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ze}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new us}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await on(this.storage,this.storageKey));const{error:h}=await b(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await b(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new cs("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await b(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ze});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await on(this.storage,this.storageKey)),await b(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lg})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ht;const{error:s}=await b(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await b(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await b(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new cs("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await b(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ht}:await b(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yt})})}catch(n){if(R(n))return b0(n)&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new ht;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await on(this.storage,this.storageKey));const{data:u,error:c}=await b(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:yt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ht;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ro(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ht;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ze())throw new ds("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ds(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ds("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cu("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ds("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let f=c+h;a&&(f=parseInt(a));const v=f-c;v*1e3<=un&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=f-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:_,error:S}=await this._getUser(i);if(S)throw S;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(I0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await fs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=G0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await on(this.storage,this.storageKey,!0));try{return await b(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await b(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ze()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await b(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await q0(async s=>(s>0&&await V0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await b(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(s,i)=>{const o=200*Math.pow(2,s);return i&&no(i)&&Date.now()+o-r<un})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ze()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await hs(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<to;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${to}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),no(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ht;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return no(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _h(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await fs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),un);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/un);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${un}ms, refresh threshold is ${il} ticks`),s<=il&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await on(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await b(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await b(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await b(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await b(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ro(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+T0>Date.now()))return r;const{data:s,error:i}=await b(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new fr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new fr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=ro(r);if(eg(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=tg(s.alg),c=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,z0(`${l}.${a}`)))throw new fr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}Ir.nextInstanceID=0;const yg=Ir;class wg extends yg{constructor(e){super(e)}}var _g=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class xg{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=S0(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:g0,realtime:y0,auth:Object.assign(Object.assign({},v0),{storageKey:u}),global:m0},h=N0(r??{},c);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=k0(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Lm(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new pm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new h0(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return _g(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wg({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:l,debug:a,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Xm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kg=(t,e,n)=>new xg(t,e,n),kh="https://xnpaopqulaivpyylqqsu.supabase.co",Eh="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhucGFvcHF1bGFpdnB5eWxxcXN1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0NjMwNTgsImV4cCI6MjA2NTAzOTA1OH0.-xnHtZgHByFgg_11EBPqBnMFssUs1ujbEQSw280btok";let se;se=kg(kh,Eh,{auth:{persistSession:!1,autoRefreshToken:!1}});async function Eg(){try{console.log("Testing Supabase connection...");const{data:t,error:e}=await se.from("recommendations").select("count",{count:"exact",head:!0});e&&console.warn("Recommendations table access error:",e);const{data:n,error:r}=await se.from("api_cache").select("count",{count:"exact",head:!0});if(r&&(console.warn("API cache table access error:",r),r.code==="42501"))return{status:"ERROR",message:"RLS policy error on api_cache table. Please run the RLS migration.",timestamp:new Date().toISOString(),details:{error:r,suggestion:"Run the fix_api_cache_rls.sql migration to fix RLS policies"}};const s=`connection_test_${Date.now()}`,{error:i}=await se.from("api_cache").insert({cache_key:s,data:{test:!0},expires_at:new Date(Date.now()+6e4).toISOString()});if(i){if(console.warn("Cache write test failed:",i),i.code==="42501")return{status:"ERROR",message:"Cannot write to api_cache table due to RLS policies",timestamp:new Date().toISOString(),details:{error:i,suggestion:"Run the fix_api_cache_rls.sql migration to allow anonymous write access"}}}else await se.from("api_cache").delete().eq("cache_key",s);return{status:"OK",message:"Connected to Supabase with proper RLS access",timestamp:new Date().toISOString(),details:{recommendations_accessible:!e,cache_readable:!r,cache_writable:!i}}}catch(t){return console.error("Supabase connection error:",t),{status:"ERROR",message:t.message,timestamp:new Date().toISOString(),details:{error:t,suggestion:"Check environment variables and network connection"}}}}async function Sh(t){try{console.log(` CACHE: Checking cache for key: ${t}`);const{data:e,error:n}=await se.from("api_cache").select("data").eq("cache_key",t).gt("expires_at",new Date().toISOString()).maybeSingle();return n?(console.warn(` CACHE: Query error for key ${t}:`,n),null):e?(console.log(` CACHE: Cache hit for key: ${t}`,{dataSize:JSON.stringify(e.data).length}),e.data):(console.log(` CACHE: No valid cache found for key: ${t}`),null)}catch(e){return console.error(" CACHE: Error retrieving cached data:",e),null}}async function Zs(t,e,n=30){try{const r=new Date(Date.now()+n*60*1e3);console.log(` CACHE: Caching data for key: ${t}`,{dataSize:JSON.stringify(e).length,expiresAt:r.toISOString(),expirationMinutes:n});const{data:s,error:i}=await se.from("api_cache").select("id").eq("cache_key",t).maybeSingle();i&&console.warn(` CACHE: Error checking existing cache for ${t}:`,i);let o;return s?(console.log(` CACHE: Updating existing cache record for ${t}`),o=await se.from("api_cache").update({data:e,expires_at:r.toISOString()}).eq("cache_key",t)):(console.log(` CACHE: Creating new cache record for ${t}`),o=await se.from("api_cache").insert({cache_key:t,data:e,expires_at:r.toISOString()})),o.error?(console.error(` CACHE: Error caching data for ${t}:`,o.error),o.error.code==="42501"&&console.error(" CACHE: RLS Policy Error - api_cache table policies may need to be updated"),!1):(console.log(` CACHE: Successfully cached data for key: ${t}`),!0)}catch(r){return console.error(" CACHE: Error caching data:",r),!1}}async function Sg(){try{console.log(" CACHE: Getting cache statistics...");const t=new Date().toISOString(),{data:e,error:n}=await se.from("api_cache").select("id",{count:"exact",head:!0}),{data:r,error:s}=await se.from("api_cache").select("id",{count:"exact",head:!0}).lt("expires_at",t);if(n||s)return console.warn(" CACHE: Error getting cache stats:",n||s),null;const i={total:e||0,expired:r||0,active:(e||0)-(r||0)};return console.log(" CACHE: Statistics:",i),i}catch(t){return console.error(" CACHE: Error getting cache statistics:",t),null}}async function Du(){try{console.log(" CACHE: Starting to clear ALL cache entries...");const{data:t,error:e}=await se.from("api_cache").select("id, cache_key, expires_at");if(e)return console.error(" CACHE: Error getting cache entries for clearing:",e),!1;console.log(` CACHE: Found ${(t==null?void 0:t.length)||0} total cache entries to delete`),t&&t.length>0&&console.log(" CACHE: All entries to be deleted:",t.map(s=>({key:s.cache_key,expires:s.expires_at,expired:new Date(s.expires_at)<new Date})));const{error:n,count:r}=await se.from("api_cache").delete().gte("id",0);if(n){console.error(" CACHE: Error clearing all cache:",n),console.log(" CACHE: Trying alternative deletion method...");const{error:s,count:i}=await se.from("api_cache").delete().not("id","is",null);return s?(console.error(" CACHE: Alternative deletion also failed:",s),!1):(console.log(` CACHE: Alternative method cleared ${i||0} cache entries`),!0)}return console.log(` CACHE: Successfully cleared ${r||0} cache entries`),!0}catch(t){return console.error(" CACHE: Error clearing all cache:",t),!1}}const $u=[{symbol:"AAPL",date:"2025-06-25",eps:2.18,epsEstimated:2.1,revenue:119.58,revenueEstimated:117.91,epsGrowth:8.5,marketCap:3e12,time:"amc"},{symbol:"MSFT",date:"2025-06-24",eps:2.93,epsEstimated:2.78,revenue:62.02,revenueEstimated:61.12,epsGrowth:12.3,marketCap:28e11,time:"bmo"},{symbol:"GOOGL",date:"2025-06-30",eps:1.64,epsEstimated:1.59,revenue:80.54,revenueEstimated:79.13,epsGrowth:15.7,marketCap:18e11,time:"amc"},{symbol:"TSLA",date:"2025-06-26",eps:.71,epsEstimated:.73,revenue:25.17,revenueEstimated:25.87,epsGrowth:-5.2,marketCap:8e11,time:"amc"},{symbol:"NVDA",date:"2025-06-28",eps:5.16,epsEstimated:4.64,revenue:60.92,revenueEstimated:57.97,epsGrowth:45.8,marketCap:22e11,time:"amc"},{symbol:"META",date:"2025-06-27",eps:3.85,epsEstimated:3.72,revenue:36.45,revenueEstimated:35.89,epsGrowth:22.1,marketCap:12e11,time:"amc"},{symbol:"AMZN",date:"2025-06-29",eps:1.12,epsEstimated:1.05,revenue:143.31,revenueEstimated:142.45,epsGrowth:18.9,marketCap:15e11,time:"amc"},{symbol:"NFLX",date:"2025-06-23",eps:4.88,epsEstimated:4.75,revenue:8.54,revenueEstimated:8.42,epsGrowth:9.7,marketCap:18e10,time:"amc"},{symbol:"CRM",date:"2025-06-25",eps:2.44,epsEstimated:2.38,revenue:9.13,revenueEstimated:9.01,epsGrowth:14.2,marketCap:25e10,time:"amc"},{symbol:"ADBE",date:"2025-06-26",eps:3.91,epsEstimated:3.85,revenue:5.05,revenueEstimated:4.98,epsGrowth:11.8,marketCap:22e10,time:"amc"}],Ng={AAPL:{underlyingPrice:185.64,options:[{strike:180,expiration:"2025-07-04",type:"put",bid:2.15,ask:2.25,premium:2.2,delta:-.18,impliedVolatility:.28,volume:1250,openInterest:3420},{strike:175,expiration:"2025-07-04",type:"put",bid:1.45,ask:1.55,premium:1.5,delta:-.12,impliedVolatility:.26,volume:890,openInterest:2180},{strike:170,expiration:"2025-07-11",type:"put",bid:1.85,ask:1.95,premium:1.9,delta:-.15,impliedVolatility:.29,volume:1560,openInterest:4230}]},MSFT:{underlyingPrice:402.56,options:[{strike:395,expiration:"2025-07-04",type:"put",bid:8.2,ask:8.4,premium:8.3,delta:-.19,impliedVolatility:.31,volume:780,openInterest:1890},{strike:390,expiration:"2025-07-11",type:"put",bid:9.15,ask:9.35,premium:9.25,delta:-.17,impliedVolatility:.3,volume:1120,openInterest:2650}]},TSLA:{underlyingPrice:207.83,options:[{strike:200,expiration:"2025-07-04",type:"put",bid:4.85,ask:5.05,premium:4.95,delta:-.16,impliedVolatility:.45,volume:2340,openInterest:5670},{strike:195,expiration:"2025-07-11",type:"put",bid:5.2,ask:5.4,premium:5.3,delta:-.14,impliedVolatility:.43,volume:1890,openInterest:4120}]},GOOGL:{underlyingPrice:142.35,options:[{strike:140,expiration:"2025-07-04",type:"put",bid:3.25,ask:3.45,premium:3.35,delta:-.17,impliedVolatility:.32,volume:980,openInterest:2340}]},NVDA:{underlyingPrice:125.89,options:[{strike:120,expiration:"2025-07-04",type:"put",bid:2.85,ask:3.05,premium:2.95,delta:-.16,impliedVolatility:.48,volume:3450,openInterest:8920}]}},Mu=[{id:1,symbol:"AAPL",strike_price:180,expiration_date:"2025-07-04",premium:2.2,confidence_score:87.5,pop:89.2,delta:-.18,implied_volatility:.28,premium_percentage:4.2,max_loss:1780,breakeven:177.8,earnings_date:"2025-06-25",created_at:new Date().toISOString(),is_active:!0},{id:2,symbol:"MSFT",strike_price:395,expiration_date:"2025-07-04",premium:8.3,confidence_score:82.1,pop:85.7,delta:-.19,implied_volatility:.31,premium_percentage:3.8,max_loss:3867,breakeven:386.7,earnings_date:"2025-06-24",created_at:new Date().toISOString(),is_active:!0},{id:3,symbol:"TSLA",strike_price:200,expiration_date:"2025-07-04",premium:4.95,confidence_score:78.9,pop:84.3,delta:-.16,implied_volatility:.45,premium_percentage:4.1,max_loss:1950.5,breakeven:195.05,earnings_date:"2025-06-26",created_at:new Date().toISOString(),is_active:!0}];function Nh(t=1e3){return console.log(` MOCK: Simulating ${t}ms delay...`),new Promise(e=>setTimeout(e,t))}class Cs extends Error{constructor(e,n,r,s=null){super(e),this.name="APIError",this.status=n,this.source=r,this.response=s}}class Ch{constructor(e,n={},r=null){this.baseURL=e,this.defaultHeaders=n,this.rateLimiter=r}async request(e,n={},r=3){const s=`${this.baseURL}${e}`;this.rateLimiter&&await this.rateLimiter.checkLimit();const i={...n,headers:{...this.defaultHeaders,...n.headers}};let o=null;for(let l=0;l<=r;l++)try{console.log(`Making API request to ${s} (attempt ${l+1}/${r+1})`);const a=await fetch(s,i);if(!a.ok){const c=await a.text();throw new Cs(`HTTP ${a.status}: ${c}`,a.status,this.baseURL,a)}const u=await a.json();if(u.error)throw new Cs(u.error,a.status,this.baseURL,a);if(u.status==="ERROR")throw new Cs(u.message||"API returned error status",a.status,this.baseURL,a);return console.log(`API request successful: ${s}`),u}catch(a){if(o=a,a.status>=400&&a.status<500&&a.status!==429)throw console.error(`Client error, not retrying: ${a.message}`),a;if(l===r)throw console.error(`Max retries reached for ${s}: ${a.message}`),a;const u=Math.min(1e3*Math.pow(2,l),1e4);console.warn(`Request failed, retrying in ${u}ms: ${a.message}`),await new Promise(c=>setTimeout(c,u))}throw o}async get(e,n={},r={}){const s=new URLSearchParams(n).toString(),i=s?`${e}?${s}`:e;return this.request(i,{method:"GET",...r})}async post(e,n={},r={}){return this.request(e,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",...r.headers},...r})}}class Oh{constructor(e=10,n=6e4,r="API"){this.maxRequests=e,this.windowMs=n,this.name=r,this.requests=[],this.lastReset=Date.now(),this.retryCount=0,this.maxRetries=3,this.baseRetryDelay=2e3}async checkLimit(){const e=Date.now(),n=e-this.windowMs;if(this.requests=this.requests.filter(r=>r>n),this.requests.length>=this.maxRequests){const r=Math.min(...this.requests),s=this.windowMs-(e-r),i=this.baseRetryDelay*Math.pow(2,this.retryCount)*(.5+Math.random()*.5),o=Math.max(s,i);if(this.retryCount>=this.maxRetries)throw this.retryCount=0,new Error(`${this.name} rate limit exceeded after ${this.maxRetries} retries. Please wait ${Math.ceil(o/1e3)} seconds.`);return console.warn(`${this.name} rate limit hit. Retry ${this.retryCount+1}/${this.maxRetries} after ${Math.ceil(o/1e3)} seconds`),this.retryCount++,await new Promise(l=>setTimeout(l,o)),this.checkLimit()}return this.retryCount=0,this.requests.push(e),console.log(`${this.name} rate limit: ${this.requests.length}/${this.maxRequests} requests in current window`),!0}getUsage(){const e=Date.now(),n=e-this.windowMs,r=this.requests.filter(s=>s>n);return{current:r.length,max:this.maxRequests,remaining:this.maxRequests-r.length,resetTime:new Date(Math.max(...this.requests,e)+this.windowMs),retryCount:this.retryCount}}reset(){this.requests=[],this.retryCount=0,this.lastReset=Date.now(),console.log(`${this.name} rate limiter reset`)}isInBackoff(){return this.retryCount>0}}const al=new Oh(5,6e4,"Polygon.io"),cn=new Oh(8,6e4,"FMP"),Cg="https://api.polygon.io",ei="H1FcZSroPChSzthjgM_AmF1jpRM0AVpH",ua=!0,Og=parseInt("5")||5,jh=parseInt("15")||15;console.log(" POLYGON: Configuration loaded:",{hasApiKey:!!ei,useMockData:ua,cacheStockMinutes:Og,cacheOptionsMinutes:jh,apiKeyPrefix:`${ei.substring(0,8)}...`});let ul=null;ul=new Ch(Cg,{},al),console.log(" POLYGON: Polygon API client initialized");async function jg(t,e=null){var i;console.log(` POLYGON: Getting options chain for ${t}`,{expirationDate:e});const n=`options_chain_${t}${e?`_${e}`:""}`;let r=await Sh(n);if(r)return console.log(` POLYGON: Using cached options chain for ${t} (${((i=r.options)==null?void 0:i.length)||0} options)`),r;console.log(` POLYGON: Should use mock data for ${t} options: ${ua}`);{console.log(` POLYGON: Using mock options chain for ${t}`),await Nh(800);const o=Ng[t]||{underlyingPrice:100,options:[]};return console.log(` POLYGON: Mock options for ${t}:`,{underlyingPrice:o.underlyingPrice,optionsCount:o.options.length,options:o.options.map(l=>({strike:l.strike,expiration:l.expiration,premium:l.premium}))}),await Zs(n,o,jh),o}}async function Pg(t){console.log(` POLYGON: Getting options chains for ${t.length} symbols:`,t);const e={},n=[];for(const r of t)try{console.log(` POLYGON: Fetching options for ${r}...`),e[r]=await jg(r),await new Promise(s=>setTimeout(s,200))}catch(s){console.error(` POLYGON: Failed to fetch options for ${r}:`,s),n.push({symbol:r,error:s.message})}return console.log(" POLYGON: Multiple options chains fetch complete:",{successCount:Object.keys(e).length,errorCount:n.length,successSymbols:Object.keys(e),errorSymbols:n.map(r=>r.symbol)}),{results:e,errors:n,timestamp:new Date().toISOString()}}async function Tg(){try{if(console.log(" POLYGON: Starting Polygon API health check..."),ua)return{status:"DEMO",message:"Using mock data mode",timestamp:new Date().toISOString(),usage:{current:0,max:5,remaining:5}};if(!ul)return{status:"ERROR",message:"Polygon client not initialized",timestamp:new Date().toISOString(),usage:{current:0,max:5,remaining:5}};const t=await ul.get("/v1/marketstatus/now",{apikey:ei}),e=al.getUsage();return console.log(" POLYGON: Polygon API health check passed:",{status:t.status,market:t.market}),{status:t.status||"OK",message:`Polygon API is accessible. Market: ${t.market||"unknown"}`,timestamp:new Date().toISOString(),usage:e}}catch(t){console.error(" POLYGON: Polygon API health check failed:",t);const e=al.getUsage();return{status:"ERROR",message:t.message,timestamp:new Date().toISOString(),usage:e}}}const Rg="https://financialmodelingprep.com/api/v3",br="r5PbKWYaimzTNi0Y2GoicUhQbv3VNqPQ",ti=!0,Ph=parseInt("240")||240;console.log(" EARNINGS: Configuration loaded:",{hasApiKey:!!br,useMockData:ti,cacheMinutes:Ph,apiKeyPrefix:`${br.substring(0,8)}...`});let ni=null;ni=new Ch(Rg,{},cn),console.log(" EARNINGS: FMP API client initialized");function Ig(){const t=new Date,e=t.getDay(),n=new Date(t);n.setDate(t.getDate()-e);const r=new Date(n);return r.setDate(n.getDate()+6),{from:n.toISOString().split("T")[0],to:r.toISOString().split("T")[0]}}function bg(){const t=new Date,e=t.getDay(),n=new Date(t);n.setDate(t.getDate()+(7-e));const r=new Date(n);return r.setDate(n.getDate()+6),{from:n.toISOString().split("T")[0],to:r.toISOString().split("T")[0]}}function Ag(){const t=new Date,e=new Date(t);e.setDate(t.getDate()-3);const n=new Date(t);return n.setDate(t.getDate()+21),{from:e.toISOString().split("T")[0],to:n.toISOString().split("T")[0]}}async function Dg(t=null,e=null,n=!0,r=!1){if(console.log(" EARNINGS: Starting getEarningsCalendar...",{fromDate:t,toDate:e,expandedRange:n,forceRefresh:r}),!t||!e)if(n){const o=Ag();t=o.from,e=o.to,console.log(` EARNINGS: Using extended date range for broader coverage: ${t} to ${e}`)}else{const o=Ig(),l=bg();t=o.from,e=l.to,console.log(` EARNINGS: Using current/next week range: ${t} to ${e}`)}const s=`fmp_earnings_${t}_${e}${n?"_extended":""}`;if(console.log(` EARNINGS: Cache key: ${s}`),r)console.log(" EARNINGS: Force refresh - bypassing cache");else{let o=await Sh(s);if(o)return console.log(` EARNINGS: Using cached earnings calendar for ${t} to ${e} (${o.length} companies)`),console.log(" EARNINGS: Cached data sample:",o.slice(0,3).map(l=>({symbol:l.symbol,date:l.date}))),o}console.log(` EARNINGS: Should use mock data: ${ti}`,{useMockDataEnv:ti,hasApiKey:!!br,hasClient:!!ni});{console.log(` EARNINGS: Using mock earnings calendar for ${t} to ${e}`),await Nh(600);const o=$u.filter(l=>{const a=new Date(l.date),u=new Date(t),c=new Date(e),h=a>=u&&a<=c;return console.log(` EARNINGS: Mock data filter - ${l.symbol} (${l.date}): ${h?"INCLUDED":"EXCLUDED"}`),h});return console.log(` EARNINGS: Mock data filtered: ${o.length} companies from ${$u.length} total`),console.log(" EARNINGS: Filtered companies:",o.map(l=>({symbol:l.symbol,date:l.date}))),await Zs(s,o,Ph),o}}async function $g(){try{if(console.log(" EARNINGS: Starting FMP API health check..."),ti)return{status:"DEMO",message:"Using mock data mode",timestamp:new Date().toISOString(),usage:{current:0,max:250,remaining:250}};if(!ni)return{status:"ERROR",message:"FMP client not initialized",timestamp:new Date().toISOString(),usage:{current:0,max:250,remaining:250}};await cn.checkLimit();const t=await ni.get("/profile/AAPL",{apikey:br});if(!Array.isArray(t)||t.length===0)throw new Cs("Invalid response from FMP API",500,"FMP");const e=cn.getUsage();return console.log(" EARNINGS: FMP API health check passed"),{status:"OK",message:"FMP API is accessible - Expanded stock universe enabled",timestamp:new Date().toISOString(),usage:e,rateLimitInfo:{inBackoff:cn.isInBackoff(),retryCount:e.retryCount}}}catch(t){console.error(" EARNINGS: FMP API health check failed:",t);const e=cn.getUsage();let n=t.message;return(t.status===429||t.message.includes("Limit Reach"))&&(n="FMP API rate limit exceeded. Using cached data when available."),{status:"ERROR",message:n,timestamp:new Date().toISOString(),usage:e,rateLimitInfo:{inBackoff:cn.isInBackoff(),retryCount:e.retryCount}}}}function Mg(t){return .5*(1+Lg(t/Math.sqrt(2)))}function Lg(t){const e=.254829592,n=-.284496736,r=1.421413741,s=-1.453152027,i=1.061405429,o=.3275911,l=t>=0?1:-1;t=Math.abs(t);const a=1/(1+o*t),u=1-((((i*a+s)*a+r)*a+n)*a+e)*a*Math.exp(-t*t);return l*u}function Ug(t,e,n,r=.05,s){if(n<=0||s<=0)return 0;const i=(Math.log(t/e)+(r-.5*Math.pow(s,2))*n)/(s*Math.sqrt(n));return Mg(i)*100}function zg(t,e,n,r,s,i){const o=Math.max(0,100-t*200),l=Math.min(100,Math.log10(Math.max(1,e))*25),a=Math.min(100,Math.log10(Math.max(1,n))*20),u=Math.max(0,Math.min(100,(r+50)*1.33)),c=Math.max(0,Math.min(100,s)),h=Math.min(100,i*20),f=o*.25+l*.2+a*.2+u*.15+c*.1+h*.1;return Math.max(0,Math.min(100,f))}function Fg(t){const e=new Date,s=(new Date(t).getTime()-e.getTime())/(1e3*60*60*24);return Math.max(0,s/365.25)}function Bg(t,e){return t-e}function Gg(t,e){return(t-e)*100}function Lu(t,e){return e<=0?0:t/e*100}class Hg{constructor(){this.minDelta=.2,this.minPremiumPercentage=3.5,this.minPOP=87,this.maxPOP=93,this.maxDaysToExpiry=14,this.minDaysToExpiry=1,this.maxSymbolsToProcess=50,this.minMarketCap=1e9,this.minVolume=10,this.minOpenInterest=50,console.log(" RECOMMENDATION_ENGINE: Initialized with criteria:",{minDelta:this.minDelta,minPremiumPercentage:this.minPremiumPercentage,minPOP:this.minPOP,maxPOP:this.maxPOP,maxDaysToExpiry:this.maxDaysToExpiry,minDaysToExpiry:this.minDaysToExpiry,maxSymbolsToProcess:this.maxSymbolsToProcess,minMarketCap:this.minMarketCap,minVolume:this.minVolume,minOpenInterest:this.minOpenInterest})}async generateRecommendations(){try{console.log(" RECOMMENDATION_ENGINE: Starting recommendation generation with expanded stock universe...");const e=await this.getCachedRecommendations();e.length>0&&console.log(` RECOMMENDATION_ENGINE: Found ${e.length} cached recommendations`);let n;try{console.log(" RECOMMENDATION_ENGINE: Step 1 - Fetching earnings calendar..."),n=await Dg(null,null,!0),console.log(` RECOMMENDATION_ENGINE: Found ${n.length} companies with upcoming earnings (expanded universe)`),n.length>0&&console.log(" RECOMMENDATION_ENGINE: Sample earnings data:",n.slice(0,5).map(l=>({symbol:l.symbol,date:l.date,epsGrowth:l.epsGrowth,marketCap:l.marketCap})))}catch(l){if(console.error(" RECOMMENDATION_ENGINE: Error fetching earnings data:",l),l.message.includes("rate limit")||l.message.includes("429"))return console.warn(" RECOMMENDATION_ENGINE: Rate limit hit, using cached recommendations"),e;if(e.length>0)return console.warn(" RECOMMENDATION_ENGINE: Using cached recommendations due to earnings API error"),e;throw l}if(n.length===0)return console.log(" RECOMMENDATION_ENGINE: No earnings found for the current period, using cached recommendations"),e;console.log(" RECOMMENDATION_ENGINE: Step 2 - Prioritizing symbols...");const r=this.prioritizeSymbols(n);console.log(` RECOMMENDATION_ENGINE: Prioritized ${r.length} symbols for options analysis`),console.log(" RECOMMENDATION_ENGINE: Step 3 - Processing symbols in batches...");const s=[],i=10;for(let l=0;l<r.length;l+=i){const a=r.slice(l,l+i);console.log(` RECOMMENDATION_ENGINE: Processing batch ${Math.floor(l/i)+1}/${Math.ceil(r.length/i)} (${a.length} symbols):`,a);try{const u=await this.processBatch(a,n);if(s.push(...u),console.log(` RECOMMENDATION_ENGINE: Batch ${Math.floor(l/i)+1} complete: ${u.length} recommendations`),l+i<r.length){const c=3e3+Math.random()*2e3;console.log(` RECOMMENDATION_ENGINE: Waiting ${Math.round(c)}ms before next batch...`),await new Promise(h=>setTimeout(h,c))}}catch(u){console.error(` RECOMMENDATION_ENGINE: Error processing batch starting at index ${l}:`,u)}}console.log(" RECOMMENDATION_ENGINE: Step 4 - Sorting and finalizing recommendations...");const o=s.sort((l,a)=>a.confidence_score-l.confidence_score).slice(0,30);return console.log(` RECOMMENDATION_ENGINE: Generated ${o.length} new recommendations from expanded stock universe`),o.length>0&&console.log(" RECOMMENDATION_ENGINE: Top 5 recommendations:",o.slice(0,5).map(l=>({symbol:l.symbol,strike:l.strike_price,confidence:l.confidence_score,pop:l.pop,premium:l.premium}))),o.length>0?(console.log(" RECOMMENDATION_ENGINE: Step 5 - Saving recommendations to database..."),await this.saveRecommendations(o),o):(console.log(" RECOMMENDATION_ENGINE: No new recommendations generated, using cached recommendations"),e)}catch(e){console.error(" RECOMMENDATION_ENGINE: Error generating recommendations:",e);const n=await this.getCachedRecommendations();if(n.length>0)return console.log(` RECOMMENDATION_ENGINE: Returning ${n.length} cached recommendations as fallback`),n;throw e}}prioritizeSymbols(e){console.log(" RECOMMENDATION_ENGINE: Starting symbol prioritization...");const n=e.filter(r=>!r.symbol||r.symbol.length<1||r.symbol.length>5?(console.log(` RECOMMENDATION_ENGINE: Filtered out ${r.symbol} - invalid length`),!1):r.symbol.includes(".")||r.symbol.includes("-")||r.symbol.includes("/")?(console.log(` RECOMMENDATION_ENGINE: Filtered out ${r.symbol} - special characters`),!1):/\d/.test(r.symbol)?(console.log(` RECOMMENDATION_ENGINE: Filtered out ${r.symbol} - contains numbers`),!1):r.marketCap&&r.marketCap<this.minMarketCap?(console.log(` RECOMMENDATION_ENGINE: Filtered out ${r.symbol} - market cap too low: ${r.marketCap}`),!1):(console.log(` RECOMMENDATION_ENGINE: ${r.symbol} passed basic filtering`),!0)).map(r=>{let s=0;r.marketCap&&(s+=Math.min(50,Math.log10(r.marketCap/1e9)*10)),r.epsGrowth&&(s+=Math.max(-10,Math.min(20,r.epsGrowth/5))),r.revenue&&(s+=Math.min(20,Math.log10(r.revenue/1e3)*5)),s+=(6-r.symbol.length)*2;const i=r.symbol.toUpperCase();return["AAPL","MSFT","GOOGL","AMZN","TSLA","NVDA","META","NFLX"].includes(i)&&(s+=30),console.log(` RECOMMENDATION_ENGINE: Scored ${r.symbol}: ${s.toFixed(1)}`),{symbol:r.symbol,score:s,earning:r}}).sort((r,s)=>s.score-r.score).slice(0,this.maxSymbolsToProcess);return console.log(" RECOMMENDATION_ENGINE: Symbol prioritization complete. Top 10 symbols:"),n.slice(0,10).forEach((r,s)=>{console.log(`${s+1}. ${r.symbol} (score: ${r.score.toFixed(1)})`)}),n.map(r=>r.symbol)}async processBatch(e,n){console.log(` RECOMMENDATION_ENGINE: Processing batch of ${e.length} symbols:`,e);const r=[];try{console.log(" RECOMMENDATION_ENGINE: Fetching options data for batch...");const s=await Pg(e);console.log(" RECOMMENDATION_ENGINE: Options data received:",{successCount:Object.keys(s.results).length,errorCount:s.errors.length,successSymbols:Object.keys(s.results),errorSymbols:s.errors.map(i=>i.symbol)});for(const i of e)try{console.log(` RECOMMENDATION_ENGINE: Processing ${i}...`);const o=n.find(u=>u.symbol===i),l=s.results[i];if(!o){console.log(` RECOMMENDATION_ENGINE: Skipping ${i} - no earnings data`);continue}if(!l||!l.options){console.log(` RECOMMENDATION_ENGINE: Skipping ${i} - no options data`);continue}console.log(` RECOMMENDATION_ENGINE: ${i} has ${l.options.length} options to analyze`);const a=await this.processSymbol(i,o,l);r.push(...a),console.log(` RECOMMENDATION_ENGINE: ${i} generated ${a.length} recommendations`)}catch(o){console.error(` RECOMMENDATION_ENGINE: Error processing ${i}:`,o)}}catch(s){console.error(" RECOMMENDATION_ENGINE: Error processing batch:",s)}return console.log(` RECOMMENDATION_ENGINE: Batch processing complete: ${r.length} total recommendations`),r}async processSymbol(e,n,r){console.log(` RECOMMENDATION_ENGINE: Processing symbol ${e}`);const s=[],i=r.underlyingPrice;if(!i||i<=0)return console.log(` RECOMMENDATION_ENGINE: Skipping ${e} - invalid stock price: ${i}`),s;console.log(` RECOMMENDATION_ENGINE: Processing ${e}: stock price $${i}, ${r.options.length} options`);let o=0,l=0,a=0;for(const u of r.options)try{if(o++,!this.meetsBasicCriteria(u,i,n.date)){console.log(` RECOMMENDATION_ENGINE: ${e} option (strike: ${u.strike}, exp: ${u.expiration}) failed basic criteria`);continue}l++,console.log(` RECOMMENDATION_ENGINE: ${e} option (strike: ${u.strike}) passed basic criteria`);const c=Fg(u.expiration),h=Ug(i,u.strike,c,.05,u.impliedVolatility);if(console.log(` RECOMMENDATION_ENGINE: ${e} option POP calculation: ${h.toFixed(1)}% (target: ${this.minPOP}-${this.maxPOP}%)`),h<this.minPOP||h>this.maxPOP){console.log(` RECOMMENDATION_ENGINE: ${e} option failed POP criteria: ${h.toFixed(1)}%`);continue}a++;const f=Lu(u.premium,i),v=Bg(u.strike,u.premium),w=Gg(u.strike,u.premium),_=zg(u.impliedVolatility,u.openInterest,u.volume,n.epsGrowth||0,h,f);console.log(` RECOMMENDATION_ENGINE: ${e} option confidence score: ${_.toFixed(1)}%`);const S={symbol:e,strike_price:u.strike,expiration_date:u.expiration,premium:u.premium,confidence_score:_,pop:h,delta:Math.abs(u.delta),implied_volatility:u.impliedVolatility,premium_percentage:f,max_loss:w,breakeven:v,earnings_date:n.date,volume:u.volume,open_interest:u.openInterest,stock_price:i,eps_growth:n.epsGrowth||0,created_at:new Date().toISOString(),is_active:!0};console.log(` RECOMMENDATION_ENGINE: Created recommendation for ${e}:`,{strike:S.strike_price,premium:S.premium,confidence:S.confidence_score,pop:S.pop}),s.push(S)}catch(c){console.error(` RECOMMENDATION_ENGINE: Error processing option for ${e}:`,c)}return console.log(` RECOMMENDATION_ENGINE: ${e} filtering summary:`,{optionsAnalyzed:o,optionsPassedBasic:l,optionsPassedPOP:a,finalRecommendations:s.length}),s}meetsBasicCriteria(e,n,r){if(Math.abs(e.delta)>this.minDelta)return console.log(` RECOMMENDATION_ENGINE: Delta too high: ${Math.abs(e.delta)} > ${this.minDelta}`),!1;const s=Lu(e.premium,n);if(s<this.minPremiumPercentage)return console.log(` RECOMMENDATION_ENGINE: Premium percentage too low: ${s.toFixed(2)}% < ${this.minPremiumPercentage}%`),!1;const i=Math.ceil((new Date(e.expiration)-new Date)/(1e3*60*60*24));if(i<this.minDaysToExpiry||i>this.maxDaysToExpiry)return console.log(` RECOMMENDATION_ENGINE: Days to expiry out of range: ${i} (range: ${this.minDaysToExpiry}-${this.maxDaysToExpiry})`),!1;const o=new Date(e.expiration),l=new Date(r);return o<=l?(console.log(` RECOMMENDATION_ENGINE: Expiration before earnings: ${e.expiration} <= ${r}`),!1):e.volume<this.minVolume||e.openInterest<this.minOpenInterest?(console.log(` RECOMMENDATION_ENGINE: Volume/OI too low: vol=${e.volume} (min=${this.minVolume}), OI=${e.openInterest} (min=${this.minOpenInterest})`),!1):e.premium<=0||e.premium>n*.1?(console.log(` RECOMMENDATION_ENGINE: Premium unreasonable: ${e.premium} (stock: ${n})`),!1):(console.log(" RECOMMENDATION_ENGINE: Option passed all basic criteria"),!0)}async getCachedRecommendations(){try{console.log(" RECOMMENDATION_ENGINE: Fetching cached recommendations from database...");const{data:e,error:n}=await se.from("recommendations").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1}).limit(30);return n?(console.warn(" RECOMMENDATION_ENGINE: Error fetching cached recommendations:",n),[]):(console.log(` RECOMMENDATION_ENGINE: Found ${(e==null?void 0:e.length)||0} cached recommendations`),e||[])}catch(e){return console.error(" RECOMMENDATION_ENGINE: Error fetching cached recommendations:",e),[]}}async saveRecommendations(e){try{console.log(` RECOMMENDATION_ENGINE: Saving ${e.length} recommendations to database...`);const{error:n}=await se.from("recommendations").update({is_active:!1}).eq("is_active",!0);if(n?console.warn(" RECOMMENDATION_ENGINE: Error deactivating old recommendations:",n):console.log(" RECOMMENDATION_ENGINE: Deactivated old recommendations"),e.length>0){const{error:r}=await se.from("recommendations").insert(e);if(r)throw console.error(" RECOMMENDATION_ENGINE: Error saving recommendations:",r),r;console.log(` RECOMMENDATION_ENGINE: Saved ${e.length} recommendations to database`),await Zs("latest_recommendations",e,60),console.log(" RECOMMENDATION_ENGINE: Cached recommendations for 1 hour")}}catch(n){console.error(" RECOMMENDATION_ENGINE: Error saving recommendations to database:",n);try{await Zs("latest_recommendations",e,60),console.log(" RECOMMENDATION_ENGINE: Cached recommendations despite database error")}catch(r){console.error(" RECOMMENDATION_ENGINE: Failed to cache recommendations:",r)}throw n}}updateCriteria(e){console.log(" RECOMMENDATION_ENGINE: Updating filtering criteria:",e),e.minDelta!==void 0&&(this.minDelta=e.minDelta),e.minPremiumPercentage!==void 0&&(this.minPremiumPercentage=e.minPremiumPercentage),e.minPOP!==void 0&&(this.minPOP=e.minPOP),e.maxPOP!==void 0&&(this.maxPOP=e.maxPOP),e.maxDaysToExpiry!==void 0&&(this.maxDaysToExpiry=e.maxDaysToExpiry),e.minDaysToExpiry!==void 0&&(this.minDaysToExpiry=e.minDaysToExpiry),e.maxSymbolsToProcess!==void 0&&(this.maxSymbolsToProcess=e.maxSymbolsToProcess),e.minMarketCap!==void 0&&(this.minMarketCap=e.minMarketCap),console.log(" RECOMMENDATION_ENGINE: Updated filtering criteria for expanded stock universe:",{minDelta:this.minDelta,minPremiumPercentage:this.minPremiumPercentage,minPOP:this.minPOP,maxPOP:this.maxPOP,maxDaysToExpiry:this.maxDaysToExpiry,minDaysToExpiry:this.minDaysToExpiry,maxSymbolsToProcess:this.maxSymbolsToProcess,minMarketCap:this.minMarketCap})}}const Wg=new Hg;function Vg({recommendation:t}){const[e,n]=te.useState(!1),r=a=>a>=80?"bg-green-100 text-green-800 border-green-200":a>=60?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",s=a=>a>=80?"High":a>=60?"Moderate":"Low",i=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a),o=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),l=Math.ceil((new Date(t.expiration_date)-new Date)/(1e3*60*60*24));return d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-corporate-900",children:t.symbol}),d.jsxs("p",{className:"text-corporate-600",children:["Strike: ",i(t.strike_price)]})]}),d.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${r(t.confidence_score)}`,children:s(t.confidence_score)})]}),d.jsxs("div",{className:"space-y-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Premium:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:i(t.premium)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Confidence Score:"}),d.jsxs("span",{className:"font-semibold text-corporate-900",children:[t.confidence_score.toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Probability of Profit:"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[t.pop.toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Delta:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:t.delta.toFixed(3)})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-corporate-600 text-sm",children:"Premium %:"}),d.jsxs("span",{className:"font-semibold text-corporate-900",children:[t.premium_percentage.toFixed(2),"%"]})]})]}),d.jsxs("div",{className:"bg-corporate-50 rounded-lg p-3 mb-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-corporate-600",children:"Expires:"}),d.jsx("span",{className:"font-medium text-corporate-900",children:o(t.expiration_date)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[d.jsx("span",{className:"text-corporate-600",children:"Days to expiry:"}),d.jsxs("span",{className:`font-medium ${l<=7?"text-red-600":"text-corporate-900"}`,children:[l," days"]})]})]}),d.jsx("div",{className:"border-t border-corporate-200 pt-4",children:d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Max Loss:"}),d.jsx("span",{className:"font-semibold text-red-600",children:i(t.max_loss)})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Breakeven:"}),d.jsx("span",{className:"font-semibold text-corporate-900",children:i(t.breakeven)})]})]})}),t.earnings_date&&d.jsx("div",{className:"mt-4 pt-4 border-t border-corporate-200",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx("svg",{className:"w-4 h-4 text-corporate-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"})}),d.jsx("span",{className:"text-corporate-600",children:"Earnings: "}),d.jsx("span",{className:"font-medium text-corporate-900 ml-1",children:o(t.earnings_date)})]})}),d.jsx("button",{onClick:()=>n(!e),className:"w-full mt-4 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors text-sm font-medium",children:e?"Hide Details":"View Details"}),e&&d.jsxs("div",{className:"mt-4 pt-4 border-t border-corporate-200 space-y-3",children:[d.jsx("h4",{className:"font-semibold text-corporate-900 text-sm",children:"Additional Metrics"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Implied Volatility:"}),d.jsxs("span",{className:"font-medium text-corporate-900",children:[(t.implied_volatility*100).toFixed(1),"%"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-corporate-600 block",children:"Created:"}),d.jsx("span",{className:"font-medium text-corporate-900",children:new Date(t.created_at).toLocaleDateString()})]})]}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4",children:d.jsxs("p",{className:"text-yellow-800 text-xs",children:[d.jsx("strong",{children:"Risk Warning:"})," This is not investment advice. Options trading involves substantial risk. Please conduct your own research and consult with a financial advisor before making any trading decisions."]})})]})]})})}function qg({status:t}){var l,a,u,c,h,f,v,w,_,S,g,p,m,y,E;const e=x=>{switch(x){case"OK":return"text-green-600";case"ERROR":return"text-red-600";case"CHECKING":return"text-yellow-600";default:return"text-corporate-600"}},n=x=>{switch(x){case"OK":return d.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"ERROR":return d.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"CHECKING":return d.jsx("div",{className:"w-4 h-4 border-2 border-yellow-600 border-t-transparent rounded-full animate-spin"});default:return d.jsx("svg",{className:"w-4 h-4 text-corporate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},r=x=>{if(!x)return"text-corporate-500";const N=x.current/x.max*100;return N>=90?"text-red-600":N>=70?"text-yellow-600":"text-green-600"},s=x=>x?`${x.current}/${x.max} (${x.remaining} remaining)`:"Unknown",i=Object.values(t).some(x=>x.status==="ERROR"),o=Object.values(t).every(x=>x.status==="OK");return d.jsxs("div",{className:`rounded-lg border p-4 mb-6 ${i?"bg-red-50 border-red-200":o?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-medium text-corporate-900",children:"System Status"}),d.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${i?"bg-red-100 text-red-800":o?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i?"Issues Detected":o?"All Systems Operational":"Checking..."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[n((l=t.supabase)==null?void 0:l.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Database"}),d.jsx("div",{className:`text-xs truncate ${e((a=t.supabase)==null?void 0:a.status)}`,children:((u=t.supabase)==null?void 0:u.message)||"Unknown"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[n((c=t.polygon)==null?void 0:c.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Options API"}),d.jsx("div",{className:`text-xs truncate ${e((h=t.polygon)==null?void 0:h.status)}`,children:((f=t.polygon)==null?void 0:f.message)||"Unknown"}),((v=t.polygon)==null?void 0:v.usage)&&d.jsx("div",{className:`text-xs ${r(t.polygon.usage)}`,children:s(t.polygon.usage)})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[n((w=t.fmp)==null?void 0:w.status),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm font-medium text-corporate-900",children:"Earnings API"}),d.jsx("div",{className:`text-xs truncate ${e((_=t.fmp)==null?void 0:_.status)}`,children:((S=t.fmp)==null?void 0:S.message)||"Unknown"}),((g=t.fmp)==null?void 0:g.usage)&&d.jsx("div",{className:`text-xs ${r(t.fmp.usage)}`,children:s(t.fmp.usage)})]})]})]}),i&&d.jsx("div",{className:"mt-3 pt-3 border-t border-red-200",children:d.jsx("p",{className:"text-xs text-red-700",children:"Some services are experiencing issues. Please check your API configuration."})}),(((m=(p=t.polygon)==null?void 0:p.usage)==null?void 0:m.remaining)<=1||((E=(y=t.fmp)==null?void 0:y.usage)==null?void 0:E.remaining)<=10)&&d.jsx("div",{className:"mt-3 pt-3 border-t border-yellow-200",children:d.jsx("p",{className:"text-xs text-yellow-700",children:" API quota is running low. Consider monitoring usage carefully."})})]})}function Kg(){return d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Risk Disclaimer"}),d.jsxs("div",{className:"mt-2 text-sm text-yellow-700 space-y-2",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Options trading involves substantial risk and is not suitable for all investors."}),"You can lose more than your initial investment. Past performance does not guarantee future results."]}),d.jsxs("p",{children:["This tool provides analysis and educational information only and is ",d.jsx("strong",{children:"not investment advice"}),". All trading decisions are your responsibility. Please consult with a qualified financial advisor before making any trading decisions."]}),d.jsx("p",{children:"The recommendations shown are based on mathematical models and historical data, which may not accurately predict future market movements. Market conditions can change rapidly, affecting option values and probabilities."})]})]})]})})}function Uu({size:t="md",message:e=null}){const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx("div",{className:`${n[t]} border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin`}),e&&d.jsx("p",{className:"mt-3 text-sm text-corporate-600 text-center",children:e})]})}class Th extends te.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?d.jsx("div",{className:"min-h-screen bg-corporate-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-lg w-full",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("svg",{className:"w-8 h-8 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),d.jsx("h2",{className:"text-xl font-bold text-corporate-900",children:"Something went wrong"})]}),d.jsx("p",{className:"text-corporate-600 mb-6",children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Refresh Page"}),d.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"bg-corporate-200 text-corporate-700 px-4 py-2 rounded-lg hover:bg-corporate-300 transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}}function Qg({demoMode:t,onToggle:e,disabled:n=!1}){return d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("span",{className:`text-sm font-medium ${t?"text-corporate-900":"text-corporate-500"}`,children:"Demo"}),d.jsxs("button",{type:"button",className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-offset-2 ${t?"bg-corporate-200":"bg-primary-600"} ${n?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":!t,onClick:()=>!n&&e(!t),disabled:n,children:[d.jsx("span",{className:"sr-only",children:"Toggle between demo and full mode"}),d.jsx("span",{"aria-hidden":"true",className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${t?"translate-x-0":"translate-x-5"}`})]}),d.jsx("span",{className:`text-sm font-medium ${t?"text-corporate-500":"text-corporate-900"}`,children:"Full"}),!t&&d.jsxs("div",{className:"flex items-center ml-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-green-600 ml-1",children:"LIVE"})]})]})}function Jg({cacheStats:t,onClearCache:e,clearingCache:n,onRefreshStats:r}){const[s,i]=te.useState(!1),o=u=>u?u<1e3?u.toString():u<1e6?`${(u/1e3).toFixed(1)}K`:`${(u/1e6).toFixed(1)}M`:"0",l=()=>t?t.expired>t.active||t.total>1e3?"text-yellow-600":"text-green-600":"text-corporate-500",a=()=>t?t.expired>t.active?"Needs Cleanup":t.total>1e3?"Large Cache":"Healthy":"Unknown";return d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>i(!s),className:"flex items-center space-x-2 text-sm text-corporate-600 hover:text-corporate-700 transition-colors",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),d.jsx("span",{children:"Cache"}),t&&d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${l()==="text-green-600"?"bg-green-100 text-green-800":l()==="text-yellow-600"?"bg-yellow-100 text-yellow-800":"bg-corporate-100 text-corporate-800"}`,children:o(t.total)})]}),s&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-lg border border-corporate-200 p-4 z-50",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-medium text-corporate-900",children:"Cache Management"}),d.jsx("button",{onClick:()=>i(!1),className:"text-corporate-400 hover:text-corporate-600",children:d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3 text-sm",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-corporate-900",children:t.total}),d.jsx("div",{className:"text-xs text-corporate-600",children:"Total"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-green-600",children:t.active}),d.jsx("div",{className:"text-xs text-corporate-600",children:"Active"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-semibold text-red-600",children:t.expired}),d.jsx("div",{className:"text-xs text-corporate-600",children:"Expired"})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-corporate-600",children:"Status:"}),d.jsx("span",{className:`font-medium ${l()}`,children:a()})]}),d.jsxs("div",{className:"border-t border-corporate-200 pt-3 space-y-2",children:[d.jsx("button",{onClick:r,className:"w-full text-sm bg-corporate-100 text-corporate-700 px-3 py-2 rounded hover:bg-corporate-200 transition-colors",children:"Refresh Stats"}),d.jsx("button",{onClick:e,disabled:n,className:"w-full text-sm bg-red-100 text-red-700 px-3 py-2 rounded hover:bg-red-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?d.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[d.jsx("div",{className:"w-3 h-3 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Clearing..."})]}):"Clear All Cache"})]}),d.jsxs("div",{className:"text-xs text-corporate-500 mt-2",children:[d.jsx("p",{children:"Cache stores API responses to reduce external calls and improve performance."}),d.jsx("p",{className:"mt-1",children:"Clear cache if you're experiencing stale data issues."})]})]}):d.jsx("div",{className:"text-center py-4",children:d.jsx("div",{className:"text-sm text-corporate-500",children:"Loading cache statistics..."})})]})]})}function Yg(){const[t,e]=te.useState([]),[n,r]=te.useState(!1),[s,i]=te.useState(null),[o,l]=te.useState(null),[a,u]=te.useState(!1),[c,h]=te.useState(!1),[f,v]=te.useState(!1),[w,_]=te.useState(!1),[S,g]=te.useState(null),[p,m]=te.useState(!1),[y,E]=te.useState({supabase:{status:"UNKNOWN",message:"Not checked yet"},polygon:{status:"UNKNOWN",message:"Not checked yet"},fmp:{status:"UNKNOWN",message:"Not checked yet"}});te.useEffect(()=>{x()},[]);const x=async()=>{try{const D=await Sg();g(D)}catch(D){console.error("Error loading cache stats:",D)}},N=async()=>{m(!0);try{console.log(" DASHBOARD: Clearing all cached data...");const D=await Du();if(typeof Storage<"u"&&(localStorage.removeItem("optionstrike_cache"),sessionStorage.clear(),console.log(" DASHBOARD: Cleared local storage")),D){console.log(" DASHBOARD: Cache cleared successfully"),await x();const M=s;i("Cache cleared successfully!"),setTimeout(()=>{i(M)},3e3)}else i("Failed to clear cache completely")}catch(D){console.error(" DASHBOARD: Error clearing cache:",D),i(`Failed to clear cache: ${D.message}`)}finally{m(!1)}},j=async()=>{var D,M,C;console.log(" DASHBOARD: Checking system health...");try{if(f){E({supabase:{status:"DEMO",message:"Demo mode - using mock data"},polygon:{status:"DEMO",message:"Demo mode - using mock data"},fmp:{status:"DEMO",message:"Demo mode - using mock data"}});return}const[P,T,F]=await Promise.allSettled([Eg(),Tg(),$g()]);E({supabase:P.status==="fulfilled"?P.value:{status:"ERROR",message:((D=P.reason)==null?void 0:D.message)||"Connection failed"},polygon:T.status==="fulfilled"?T.value:{status:"ERROR",message:((M=T.reason)==null?void 0:M.message)||"Connection failed"},fmp:F.status==="fulfilled"?F.value:{status:"ERROR",message:((C=F.reason)==null?void 0:C.message)||"Connection failed"}})}catch(P){console.error(" DASHBOARD: Error checking system health:",P)}},H=async(D=!1)=>{r(!0),i(null),h(!1);try{if(console.log(` DASHBOARD: Loading recommendations in ${f?"demo":"full"} mode... (forceRefresh: ${D})`),f){console.log(" DASHBOARD: Using mock recommendations (demo mode)"),await new Promise(P=>setTimeout(P,1500)),e(Mu),l(new Date),_(!0);return}console.log(" DASHBOARD: Attempting to load from Supabase...");const{data:M,error:C}=await se.from("recommendations").select("*").eq("is_active",!0).order("confidence_score",{ascending:!1});if(C)throw console.warn(" DASHBOARD: Supabase query failed:",C),new Error(`Database error: ${C.message}`);M&&M.length>0?(console.log(` DASHBOARD: Loaded ${M.length} recommendations from Supabase`),e(M),_(!0),l(new Date)):(console.log(" DASHBOARD: No recommendations in database, showing empty state"),e([]),_(!0),l(new Date))}catch(M){console.error(" DASHBOARD: Error loading recommendations:",M),i(M.message),(M.message.includes("rate limit")||M.message.includes("429")||M.message.includes("Limit Reach"))&&h(!0),_(!0)}finally{r(!1)}},I=async(D=!1)=>{u(!0),i(null),h(!1);try{if(console.log(` DASHBOARD: Generating new recommendations in ${f?"demo":"full"} mode... (forceRefresh: ${D})`),f){console.log(" DASHBOARD: Refreshing mock recommendations (demo mode)"),await new Promise(C=>setTimeout(C,2e3)),e(Mu),l(new Date),_(!0);return}console.log(" DASHBOARD: Using recommendation engine to generate new recommendations..."),D&&(console.log(" DASHBOARD: Force refresh - clearing cache first..."),await Du());const M=await Wg.generateRecommendations();M.length>0?(e(M),l(new Date),_(!0),console.log(` DASHBOARD: Generated ${M.length} new recommendations`)):(i("No recommendations could be generated with current market conditions"),e([]),_(!0))}catch(M){console.error(" DASHBOARD: Error generating recommendations:",M),M.message.includes("rate limit")||M.message.includes("429")||M.message.includes("Limit Reach")?(h(!0),i("API rate limit reached. Please try again later or switch to demo mode.")):i(`Failed to generate recommendations: ${M.message}`),_(!0)}finally{u(!1)}},ye=async()=>{f||await j(),await H()},Dt=async()=>{f||await j(),await H()},$t=async()=>{console.log(" DASHBOARD: Force refresh triggered - bypassing all cache"),f||await j(),await I(!0)},Br=D=>{console.log(` DASHBOARD: Switching to ${D?"demo":"full"} mode`),v(D),e([]),i(null),h(!1),_(!1),l(null),E(D?{supabase:{status:"DEMO",message:"Demo mode - using mock data"},polygon:{status:"DEMO",message:"Demo mode - using mock data"},fmp:{status:"DEMO",message:"Demo mode - using mock data"}}:{supabase:{status:"UNKNOWN",message:"Not checked yet"},polygon:{status:"UNKNOWN",message:"Not checked yet"},fmp:{status:"UNKNOWN",message:"Not checked yet"}})},Gr=o&&Date.now()-o.getTime()>30*60*1e3;return d.jsx(Th,{children:d.jsxs("div",{className:"min-h-screen bg-corporate-50",children:[d.jsx("header",{className:"bg-white shadow-sm border-b border-corporate-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-sm",children:"OS"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-corporate-900",children:"OptionStrike"}),d.jsxs("p",{className:"text-sm text-corporate-600",children:["High-Probability Put Options ",f&&"(Demo Mode)"]})]})]}),d.jsxs("div",{className:"mt-4 sm:mt-0 flex items-center space-x-4",children:[d.jsx(Jg,{cacheStats:S,onClearCache:N,clearingCache:p,onRefreshStats:x}),d.jsx(Qg,{demoMode:f,onToggle:Br,disabled:n||a}),o&&d.jsxs("div",{className:"text-sm text-corporate-600",children:[d.jsx("span",{className:"hidden sm:inline",children:"Last updated: "}),d.jsx("span",{className:Gr?"text-red-600 font-medium":"",children:o.toLocaleTimeString()}),Gr&&d.jsx("span",{className:"ml-2 text-red-600",children:" Data may be stale"})]}),d.jsxs("div",{className:"flex space-x-2",children:[w&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Dt,className:"bg-corporate-600 text-white px-4 py-2 rounded-lg hover:bg-corporate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):"Refresh"}),!f&&d.jsx("button",{onClick:$t,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,title:"Bypass all cache and make fresh API calls",children:a?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Fresh..."})]}):"Force Fresh"})]}),d.jsx("button",{onClick:w?I:ye,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:a?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:f?"Loading Demo...":"Generating..."})]}):n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):w?f?"Refresh Demo Data":"Generate New":"Get Recommendations"})]})]})]})})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[w&&d.jsx(qg,{status:y}),f&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-blue-400\\",viewBox:"0 0 20 20\\",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd\\",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\\",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Demo Mode Active"}),d.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[d.jsx("p",{children:"You're currently viewing sample data to explore the application features."}),d.jsxs("p",{className:"mt-1",children:["Switch to ",d.jsx("strong",{children:"Full Mode"})," using the toggle above to connect to real market data APIs."]})]})]})]})}),d.jsx(Kg,{}),!f&&!w&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-blue-400\\",viewBox:"0 0 20 20\\",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd\\",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\\",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Full Mode - Expanded Stock Universe"}),d.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[d.jsx("p",{children:"You're using real market data with expanded coverage:"}),d.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"All US-listed stocks"})," - Not just major companies"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"ADRs"})," - American Depositary Receipts of foreign companies"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Any symbol"})," with liquid options on US exchanges"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Same rigorous filtering"})," - Delta <0.2, Premium >3.5%, POP 87-93%"]})]})]})]})]})}),c&&d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"API Rate Limit Warning"}),d.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[d.jsx("p",{children:"We've hit rate limits with our data provider. Some data may be cached or limited. Please try again later or consider upgrading to a higher API plan for more frequent updates."}),d.jsxs("p",{className:"mt-2",children:[d.jsx("strong",{children:"Tip:"})," Switch to Demo Mode to explore the app without API limitations."]})]})]})]})}),s&&d.jsx("div",{className:`border rounded-lg p-4 mb-6 ${s.includes("successfully")?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:d.jsxs("div",{className:"flex",children:[d.jsx("div",{className:"flex-shrink-0",children:s.includes("successfully")?d.jsx("svg",{className:"h-5 w-5 text-green-400\\",viewBox:"0 0 20 20\\",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd\\",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\\",clipRule:"evenodd"})}):d.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:`text-sm font-medium ${s.includes("successfully")?"text-green-800":"text-red-800"}`,children:s.includes("successfully")?"Success":"Error Loading Data"}),d.jsxs("div",{className:`mt-2 text-sm ${s.includes("successfully")?"text-green-700":"text-red-700"}`,children:[d.jsx("p",{children:s}),!s.includes("successfully")&&d.jsx("p",{className:"mt-1",children:f?"Please try refreshing the demo data.":"Please check your API configuration and try again, or switch to Demo Mode."})]})]})]})}),a&&d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(Uu,{size:"sm"}),d.jsxs("div",{className:"ml-3",children:[d.jsx("h3",{className:"text-sm font-medium text-blue-800",children:f?"Loading Demo Data":"Scanning Expanded Stock Universe"}),d.jsx("p",{className:"text-sm text-blue-700 mt-1",children:f?"Preparing sample recommendations for demonstration...":"Analyzing earnings calendar and options data across all US-listed stocks. This may take a few minutes..."})]})]})}),n?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Uu,{size:"lg",message:f?"Loading demo data...":"Loading recommendations..."}),d.jsx("p",{className:"text-sm text-corporate-500 mt-2",children:f?"Preparing sample options data for demonstration":"Analyzing options data and calculating confidence scores"})]}):w?t.length>0?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-corporate-900",children:t.length}),d.jsx("div",{className:"text-sm text-corporate-600",children:f?"Demo Recommendations":"Active Recommendations"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(D=>D.confidence_score>=80).length}),d.jsx("div",{className:"text-sm text-corporate-600",children:"High Confidence"})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-corporate-200 p-4",children:[d.jsxs("div",{className:"text-2xl font-bold text-corporate-900",children:[(t.reduce((D,M)=>D+M.pop,0)/t.length).toFixed(1),"%"]}),d.jsx("div",{className:"text-sm text-corporate-600",children:"Avg. Probability of Profit"})]})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(D=>d.jsx(Vg,{recommendation:D},D.id||`${D.symbol}-${D.strike_price}-${D.expiration_date}`))})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-corporate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-corporate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),d.jsx("p",{className:"text-corporate-600 text-lg",children:"No recommendations available"}),d.jsx("p",{className:"text-corporate-500 text-sm mt-2 mb-4",children:f?'No demo data loaded yet. Click "Get Recommendations" to load sample data.':'No recommendations found in the database. Click "Generate New" to scan the entire stock universe for opportunities.'}),!f&&d.jsx("button",{onClick:I,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:a?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Scanning..."})]}):"Scan All Stocks"})]}):d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),d.jsx("h2",{className:"text-xl font-semibold text-corporate-900 mb-2",children:"Welcome to OptionStrike"}),d.jsx("p",{className:"text-corporate-600 text-lg mb-4",children:f?"Ready to explore high-probability put options with sample data":"Ready to analyze the entire US stock universe for high-probability put options"}),d.jsx("p",{className:"text-corporate-500 text-sm mb-6",children:f?'Click "Get Recommendations" to see sample options trading recommendations':'Click "Get Recommendations" to scan all US-listed stocks for opportunities'}),d.jsx("button",{onClick:ye,className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors text-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:n||a,children:n?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),d.jsx("span",{children:"Loading..."})]}):"Get Recommendations"})]})]})]})})}function Xg(){return d.jsx(Th,{children:d.jsx("div",{className:"App",children:d.jsx(Yg,{})})})}io.createRoot(document.getElementById("root")).render(d.jsx(Kh.StrictMode,{children:d.jsx(Xg,{})}));
//# sourceMappingURL=index-40003ecf.js.map
